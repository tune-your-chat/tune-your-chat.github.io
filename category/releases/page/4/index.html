<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />
    
    <meta property="og:url" content="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;category&#x2F;releases&#x2F;page&#x2F;4&#x2F;" />
    
    
    
    
    <meta property="og:title" content="Matrix.org" />
    
    
    
    <meta property="og:description" content="Matrix, the open protocol for secure decentralised communications" />
    <meta name="description" content="Matrix, the open protocol for secure decentralised communications" />
    
    <meta property="og:image" content="https://matrix.org/blog/img/matrix-logo.png" />
    <meta name="twitter:image" content="https://matrix.org/blog/img/matrix-logo.png" />
    
    <title>Matrix.org - Releases</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href=https://tune-your-chat.github.io/style.css?h=0d1a23c06b707a231261 />
    <script async src=https://tune-your-chat.github.io/js/components.js?h=ae3cb894d00e16ef08be></script>
    <script defer data-domain="matrix.org" src="https://plausible.io/js/script.tagged-events.js"></script>


    
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://tune-your-chat.github.io/category/releases/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="https:&#x2F;&#x2F;spec.matrix.org" class="
            ">
            Spec
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="foundation-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="foundation-submenu-checkbox" class="submenu-title">Foundation <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;foundation&#x2F;about&#x2F;">About Matrix</a>
                    
                    <a href="&#x2F;foundation&#x2F;governing-board-elections&#x2F;">Governing Board Elections 2024</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Docs
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;tune&#x2F;">Tune Your Chat</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;integrations&#x2F;">Integrations</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;support" class="
            ">
            Donate
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Releases</h1>
            146 posts tagged with "Releases" <a href="/category">(See all Category)</a>
            
            <h2>
                <small><a href="https://tune-your-chat.github.io/category/releases/atom.xml">Atom Feed</a></small>
            </h2>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;05&#x2F;05&#x2F;synapse-1-58-released&#x2F;" title="Synapse 1.58 released">Synapse 1.58 released</a></h2>
                <span>
                    05.05.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.58.0">Synapse 1.58</a> is
out! Let's dive into this new release.</p>
<h2 id="poetry">Poetry</h2>
<p>If you've been reading the past few Synapse release announcements, you might
have already heard about our efforts to integrate
<a href="https://python-poetry.org/">Poetry</a> into Synapse. Poetry is a tool which
manages dependencies of a Python project. Its killer feature is its lockfile,
which explicitly pins all dependencies (direct and transitive) to a fixed
version, even across multiple Python versions and platforms. See more about why
we choose Poetry <a href="https://github.com/matrix-org/synapse/issues/11537">here</a>.</p>
<p>During the past few months, we've been hard at work converting Synapse and its
CI to use Poetry. The goal is to make our Docker images and Debian packages more
reproducible and to provide a fixed, known-good environment for CI. This will
help us to ensure the stability and security of Synapse installations.</p>
<p>Synapse 1.57's Docker image was the first to use Poetry; after a successful
trial, this was extended to Synapse 1.58's Debian packages. Installations from
PyPI using <code>pip</code> will <em>not</em> use the locked environment, though everyone is
welcome to install from source using <a href="https://github.com/matrix-org/synapse/blob/develop/poetry.lock">our
lockfile</a>.</p>
<p>Huge props to <a href="https://github.com/DMRobertson">David</a> from the Synapse team for
leading the work on this front.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release of Synapse also includes performance improvements around sharing
device list updates, which should greatly improve login times for large Matrix
accounts.</p>
<p>Synapse 1.58 also features the implementation of two MSCs:
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3383">MSC3383</a> to
include a <code>destination</code> parameter in federation authentication headers, and
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2815">MSC2815</a> which
(if enabled) allows room moderators to see the content of a redacted event (as
long as it hasn't already been deleted by the homeserver).</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.58.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.58/upgrade#upgrading-to-v1580">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, <a href="https://famedly.com/">Famedly</a> and
<a href="https://github.com/olmari">Sami Olmari</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;05&#x2F;04&#x2F;0-34-0-security-release-for-matrix-appservice-irc-high-severity&#x2F;" title="0.34.0 security release for matrix-appservice-irc (High severity)">0.34.0 security release for matrix-appservice-irc (High severity)</a></h2>
                <span>
                    04.05.2022 11:02
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/tadeusz-sosnierz">
                        Tadeusz Sośnierz
                    </a>
                </span>
                <br>
                <small>Last update: 04.05.2022 09:27</small>
            </header>
            <div>
                
                <p>We've released updates to matrix-appservice-irc and our forked node-irc that it depends on to patch a High security vulnerability.
It's advised to update to 0.34.0 as soon as possible.</p>
<p>The vulnerability allows an attacker to manipulate a Matrix user into executing IRC commands
by having them reply to a maliciously crafted message.</p>
<p>Incorrect handling of a CR character allowed for making part of the message be sent to the IRC server verbatim
rather than as a message to the channel.</p>
<p>If you are currently a matrix-appservice-irc user, exercise caution when replying to messages from untrusted participants
in IRC bridged rooms until your bridge instance has been upgraded.</p>
<p>The vulnerability has been patched in node-irc version 1.2.1 and matrix-appservice-irc 0.34.0.
You can get the release <a href="https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.34.0">on Github</a>.</p>
<p>The bridges running on the Libera Chat, OFTC and other networks bridged by the Matrix.org Foundation have been patched.</p>
<p>The vulnerabilities are tracked as <a href="https://github.com/matrix-org/matrix-appservice-irc/security/advisories/GHSA-37hr-348p-rmf4">GHSA-37hr-348p-rmf4</a> and
<a href="https://github.com/matrix-org/node-irc/security/advisories/GHSA-52rh-5rpj-c3w6">GHSA-52rh-5rpj-c3w6</a>.</p>
<p>Thank you, <a href="https://valentin-lorentz.fr/">Val Lorentz</a> for reporting this vulnerability.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;04&#x2F;19&#x2F;synapse-1-57-released&#x2F;" title="Synapse 1.57 released">Synapse 1.57 released</a></h2>
                <span>
                    19.04.2022 16:28
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey everyone! Guess what? <a href="https://github.com/matrix-org/synapse/releases/tag/v1.57.0">Synapse
1.57</a> has just been
released! Let's see what's new in this version!</p>
<h2 id="application-services">Application services</h2>
<p>Application services are piece of software that have privileged access to some
of the homeserver's features. For example, they can create and manage multiple
users at the same time, which is especially useful for bridges.</p>
<p>This release of Synapse changes the way Synapse manually manages transaction
identifiers when talking to application services (a transaction being a group of
events the application service should know about). While this doesn't have much
impact on the everyday life of a server administrator (besides fixing a
<a href="https://github.com/matrix-org/synapse/pull/12209">bug</a> and paving the way for
future performance improvements), this change means server admins should take
extra care when updating Synapse.</p>
<p>More specifically, if you are running a dedicated Synapse worker for handling
traffic related to application services, this worker <strong>must</strong> be stopped when
upgrading the main Synapse process to ensure the update is performed safely. See
the <a href="https://matrix-org.github.io/synapse/v1.57/upgrade#changes-to-database-schema-for-application-services">upgrade
notes</a>
for more information about this change, and instructions on recovering from an
incorrect upgrade.</p>
<p>This release of Synapse also continues work on bringing end-to-end capabilities
to application services, which I was already telling you about in the <a href="https://matrix.org/blog/2022/01/18/synapse-1-50-released">Synapse
1.50 release blog
post</a>. More
specifically, Synapse now supports sending device list updates to applications
services, as part of implementing
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3202">MSC3202</a>. This
is still very experimental and definitely not production ready, but also very
exciting!</p>
<h2 id="improvements-to-the-module-system">Improvements to the module system</h2>
<p>Modules allow third-party developers to expand Synapse with extra features that
wouldn't necessarily fit into the Matrix specification and/or ecosystem. In the
past release of Synapse, we have been improving this system to add more
functionality to it, and this one is no exception!</p>
<p>Synapse modules can now implement new callbacks to <a href="https://matrix-org.github.io/synapse/v1.57/modules/account_data_callbacks.html#on_account_data_updated">react to account data
updates</a>,
as well as to <a href="https://matrix-org.github.io/synapse/v1.57/modules/third_party_rules_callbacks.html#on_threepid_bind">react to new 3PID (email address, phone number)
associations</a>.
On the latter, note that this callback will only be called after a 3PID has been
validated on the homeserver, and does not trigger when the validation happens on
an identity server (e.g. when publishing a 3PID so that other users can look it
up).</p>
<p>The <code>ModuleApi</code> (which is the Python class enabling modules to interact with
Synapse) has also been updated to allow module to read and write global account
data. This can be done by using the new
<a href="https://github.com/matrix-org/synapse/blob/e31d06f6f0923d001736f5e6e08616293bd4b120/synapse/module_api/__init__.py#L1401-L1464"><code>AccountDataManager</code></a>
class, which can be accessed as <code>api.account_data_manager</code> (where <code>api</code> is an
instance of <code>ModuleApi</code>).</p>
<p>The module API has also been updated with a <a href="https://github.com/matrix-org/synapse/blob/e31d06f6f0923d001736f5e6e08616293bd4b120/synapse/module_api/__init__.py#L543-L552">new
method</a>,
to allow modules to promote an existing user to server administrator (or demote
a server administrator to a normal user). This follows up on an improvement
introduced in <a href="https://matrix.org/blog/2022/04/05/synapse-1-56-released">Synapse
1.56</a> allowing modules
to promote users to server administrators when registering them.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release also includes a performance improvement for workers handling
<code>/sync</code> requests. While this change makes starting this kind of workers slightly
more heavy performance-wise, it aims at improving the load associated with the
first <code>/sync</code> requests hitting it right after starting. See <a href="https://github.com/matrix-org/synapse/pull/12367#issuecomment-1088574192">this
comment</a>
for more details.</p>
<p>Synapse 1.57 also now includes bundled aggregations in message search results by
default, as
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3666">MSC3666</a> has
been accepted and has finished its final comment period.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.57.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.57/upgrade#upgrading-to-v1570">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, <a href="https://famedly.com/">Famedly</a> and
<a href="https://github.com/watson28">Jorge Florian</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;04&#x2F;05&#x2F;synapse-1-56-released&#x2F;" title="Synapse 1.56 released">Synapse 1.56 released</a></h2>
                <span>
                    05.04.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Happy release day everyone! <a href="https://github.com/matrix-org/synapse/releases/tag/v1.56.0">Synapse
1.56</a> is out! Let's
have a look at what's new in this release.</p>
<h2 id="additional-restrictions-around-registration">Additional restrictions around registration</h2>
<p>One common abuse scenario we have seen on Matrix over the years is attackers
making use of public homeservers with open registration to automatically create
multiple accounts in order to evade sanctions. Sometimes, this can lead to these
public homeservers being banned across multiple public rooms despite their
administrator(s) not being directly at fault.</p>
<p>In order to mitigate this, starting from this release, Synapse will refuse to
start by default if it is configured with open registration with no additional
verification. This means users wishing to register on these homeservers will
need to authenticate themselves, either via
<a href="https://github.com/matrix-org/synapse/blob/8a519f8abc6de772167c2cca101d22ee2052fafc/docs/sample_config.yaml#L1285">email</a>,
<a href="https://matrix-org.github.io/synapse/v1.56/CAPTCHA_SETUP.html">recaptcha</a> or
<a href="https://matrix-org.github.io/synapse/v1.56/usage/administration/admin_api/registration_tokens.html">registration
tokens</a>.</p>
<p>Please see the <a href="https://matrix-org.github.io/synapse/v1.56/upgrade.html#open-registration-without-verification-is-now-disabled-by-default">upgrade
notes</a>
for more information.</p>
<h2 id="so-long-groups-and-thanks-for-all-the-fish">So long groups, and thanks for all the fish</h2>
<p>Long-time users of Matrix might remember when, <a href="https://matrix.org/blog/2017/10/24/synapse-0-24-is-here">way back in
2017</a>, we introduced
groups (also known as communities in some clients). Groups would let users
define a curated set of users and rooms to represent a given community that
others could refer to. We even used to have <code>+matrix:matrix.org</code> which was
the official group for the Matrix team and community.</p>
<p>If this sounds a bit familiar to you (and remind you of a certain other feature
of Matrix), that's no coincidence. Some time ago, we had already identified a
good amount of shortcomings with groups, and decided to redesign the feature
entirely and release it under the name "spaces". If you're curious about this,
then you may wish to read the <a href="https://matrix.org/blog/2021/05/17/the-matrix-space-beta">spaces announcement
blogpost</a> we released
at the time.</p>
<p>Now that spaces have been out of beta for some time, and have shown to be a very
useful feature to the ecosystem, we decided it was time to retire support for
groups from Synapse, after more than 4 years of good and loyal service. This
release of Synapse deprecates the feature, with a plan to disable it by default
in Synapse 1.58 (which is expected to be released next month).</p>
<h2 id="everything-else">Everything else</h2>
<p>As of this version, Synapse will also refuse to start the if the Postgres
database it is running against has a non-<code>C</code> locale, in order to prevent
accidental database corruption. See the <a href="https://matrix-org.github.io/synapse/v1.56/upgrade.html#change-in-behaviour-for-postgresql-databases-with-unsafe-locale">upgrade
notes</a>
for more information.</p>
<p>This release also includes the ability for modules to register server
administrators through the <code>register_user</code> method, as well as a <a href="https://github.com/matrix-org/synapse/blob/v1.56.0/synapse/module_api/__init__.py#L1290-L1312">new
method</a>
to allow modules to store external 3PID associations into Synapse's database.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.56.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.56/upgrade#upgrading-to-v1560">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://github.com/dklimpel">Dirk Klimpel</a>,
<a href="https://www.beeper.com/">Beeper</a>, <a href="https://famedly.com/">Famedly</a>,
<a href="https://github.com/IronTooch">IronTooch</a> and
<a href="https://github.com/villepeh">villepeh</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;03&#x2F;22&#x2F;synapse-1-55-released&#x2F;" title="Synapse 1.55 released">Synapse 1.55 released</a></h2>
                <span>
                    22.03.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all, <a href="https://github.com/matrix-org/synapse/releases/tag/v1.55.0">Synapse
1.55</a> is out! Let's
see the main talking points of this new release.</p>
<blockquote>
<p>Update: After the initial release of Synapse 1.55, the developers of a
third-party tool (Jinja, which is the tool Synapse uses to render email and
web templates) released a new version of their project which proved
incompatible with Synapse. To address this issue, we have released <a href="https://github.com/matrix-org/synapse/releases/tag/v1.55.2">Synapse
1.55.2</a>.</p>
<p>Deployments of Synapse using the <code>matrixdotorg/synapse</code> Docker image or Debian
packages from <code>packages.matrix.org</code> are not affected as they are already using
a compatible version of the tool.</p>
<p>It's worth noting that the work we are doing to integrate
<a href="https://python-poetry.org/">Poetry</a> into Synapse (more on that a bit further
in this post) will, once completed, prevent this kind of issues from
happening.</p>
</blockquote>
<h2 id="removing-support-for-mjolnir-1-3-1-and-older">Removing support for Mjolnir 1.3.1 and older</h2>
<p>Administrators of large homeservers and communities will already be familiar
with <a href="https://github.com/matrix-org/mjolnir">Mjolnir</a>, which is a tool designed
to help them moderate a large number of rooms in an efficient way. It includes a
bot as well as a Synapse module to better interface with the homeserver.</p>
<p>Due to a change in how we manage some of Synapse's internal utilities, this
release of Synapse breaks compatibility with Mjolnir versions 1.3.1 and older.
Homeserver administrators using Mjolnir and upgrading to Synapse 1.55 should
make sure they're running Mjolnir version 1.3.2 or later.</p>
<p>See the <a href="https://matrix-org.github.io/synapse/v1.55/upgrade#compatibility-dropped-for-mjolnir-131-and-earlier">upgrade
notes</a>
for more information.</p>
<h2 id="moving-synctl">Moving <code>synctl</code></h2>
<p><code>synctl</code> is a tool provided as part of Synapse to run and manage your instance
and its workers (if any).</p>
<p>As part of our work to integrate <a href="https://python-poetry.org/">Poetry</a> in Synapse
(which in turn will enable a lot of cool things, such as reproducible builds),
we have recently moved the way we package this tool. As of this release,
homeserver administrators should stop invoking it using its direct path (e.g.
<code>/path/to/synctl start</code>), but should instead call it directly, e.g. <code>synctl start</code>.</p>
<p>This means homeserver administrators using <code>synctl</code> must make sure that the tool
is in their <code>PATH</code>. This is automatically done when installing and upgrading
Synapse using the <code>matrixdotorg/synapse</code> Docker image or Debian packages from
<code>packages.matrix.org</code>. When installing from a wheel, sdist, or PyPI, an
executable is created in your Python installation's <code>bin</code> directory.</p>
<p>See the <a href="https://matrix-org.github.io/synapse/v1.55/upgrade#synctl-script-has-been-moved">upgrade
notes</a>
for more information.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release also introduces new module callbacks, allowing homeserver
administrators to more efficiently review which users are able to deactivate
users and shutdown rooms. More information on that in <a href="https://matrix-org.github.io/synapse/v1.55/modules/third_party_rules_callbacks.html#check_can_shutdown_room">Synapse's
documentation</a>.</p>
<p>We have also started experimenting with using the native Python asyncio event
loop in Synapse which, if successful, would make it easier to use building
blocks from the Python ecosystem when adding new features to Synapse.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.55.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.55/upgrade#upgrading-to-v1550">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://github.com/dklimpel">Dirk Klimpel</a>,
<a href="https://www.beeper.com/">Beeper</a>, and
<a href="https://github.com/cremesk">~creme</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;03&#x2F;08&#x2F;synapse-1-54-released&#x2F;" title="Synapse 1.54 released">Synapse 1.54 released</a></h2>
                <span>
                    08.03.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.54.0">Synapse 1.54</a> is
out! Let's see what goodness is coming your way with this new release.</p>
<h2 id="improving-url-previews">Improving URL previews</h2>
<p>As part of the Matrix specification, Matrix clients have the option to rely on
the homeserver to generate URL previews. This means the homeserver (in this case
Synapse) needs to have a look at the content at that URL and extract data to
send back to the client.</p>
<p>In the past, Synapse has had issues with generating complete URL previews, and
some metadata (e.g. image, description) would be missing from the data that
Synapse sends to clients. Synapse 1.54 includes improvements to the generation
of URL previews, and while testing it we've been able to observe improvements to
previews generated for Twitter and Reddit.</p>
<h2 id="new-module-callbacks">New module callbacks</h2>
<p>Synapse modules allow third-party developers to write extra features for
Synapse, that wouldn't necessarily be generic enough to fit within the Matrix
specification. This includes custom behaviours such as smarter event filters,
bespoke media storage providers, or spam checkers. Since we rewrote Synapse's
module system in <a href="https://matrix.org/blog/2021/06/30/security-update-synapse-1-37-1-released#synapse-137-release-announcement">Synapse
1.37</a>,
we have been improving it by adding new callback functions that module can
implement, allowing them to interface better with Synapse.</p>
<p>Synapse 1.54 includes three new module callbacks. One of them,
<a href="https://matrix-org.github.io/synapse/v1.54/modules/password_auth_provider_callbacks.html#get_displayname_for_registration"><code>get_displayname_for_registration</code></a>,
allows modules to define the display name for newly registered users. Together
with the existing
<a href="https://matrix-org.github.io/synapse/v1.54/modules/password_auth_provider_callbacks.html#get_username_for_registration"><code>get_username_for_registration</code></a>
introduced in <a href="https://matrix.org/blog/2022/02/08/synapse-1-52-released/">Synapse
1.52</a>, they allow
modules a better control over the user registration process.</p>
<p>The two other module callbacks introduced in Synapse 1.54,
<a href="https://matrix-org.github.io/synapse/v1.54/modules/third_party_rules_callbacks.html#on_profile_update"><code>on_profile_update</code></a>
and
<a href="https://matrix-org.github.io/synapse/v1.54/modules/third_party_rules_callbacks.html#on_user_deactivation_status_changed"><code>on_user_deactivation_status_changed</code></a>,
allow modules to react to profile changes, as well as the deactivation (or
reactivation) of users.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release of Synapse also includes more work to make joining large Matrix
rooms faster (I was telling you about that in the <a href="https://matrix.org/blog/2022/02/22/synapse-1-53-released">Synapse 1.53 release
announcement</a>). While
it's still very experimental and not yet ready for show time, it's still very
exciting to see this work happening!</p>
<p>Synapse 1.54 also includes a change to the <a href="https://spec.matrix.org/latest/client-server-api/#get_matrixclientversions">client-side versions
endpoint</a>
to advertise Matrix 1.1 and 1.2. See the <a href="https://matrix.org/blog/2022/02/02/matrix-v-1-2-release">Matrix
1.2</a> release
announcement to read all about the changes this latest version of the
specification brings to the ecosystem.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.54.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.54/upgrade#upgrading-to-v1540">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://github.com/dklimpel">Dirk Klimpel</a>, <a href="https://github.com/AndrewRyanChama">Andrew
Ryan</a>, and
<a href="https://github.com/lukasdenk">lukasdenk</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;02&#x2F;22&#x2F;synapse-1-53-released&#x2F;" title="Synapse 1.53 released">Synapse 1.53 released</a></h2>
                <span>
                    22.02.2022 14:53
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Rejoice everyone, <a href="https://github.com/matrix-org/synapse/releases/tag/v1.53.0">Synapse 1.53</a> is out! Let's have a look at what's new with this release.</p>
<h2 id="stabilisation-of-registration-tokens">Stabilisation of registration tokens</h2>
<p>Registration tokens is a feature introduced in <a href="https://github.com/matrix-org/synapse/releases/tag/v1.42.0">Synapse 1.42.0</a>, which allows homeserver administrators to force their users to use specific tokens when registering. This is similar to Synapse's <a href="https://github.com/matrix-org/synapse/blob/6f440fd859c411af8c32478b4353f7550619c3bd/docs/sample_config.yaml#L1291-L1294">registration shared secret</a> support, but with added features, such as the possibility to limit how users can be registered with the same token, or to make a token expire. See <a href="https://matrix-org.github.io/synapse/v1.53/usage/administration/admin_api/registration_tokens.html">the admin API documentation</a> for more information on how to manage registration tokens on your homeserver.</p>
<p>Registration tokens were initially proposed to the Matrix specification in <a href="https://github.com/matrix-org/matrix-doc/pull/3231">MSC3231</a> by <a href="https://github.com/govynnus">Callum Brown</a> during their Google Summer of Code internship last summer. The MSC has since been accepted, and released in the stable Matrix specification as of <a href="https://matrix.org/blog/2022/02/02/matrix-v-1-2-release">Matrix v1.2</a>. As a result, its Synapse implementation has been updated to remove support for unstable identifiers. Administrators of homeservers on which the reverse proxy rules explicitly allow the unstable route for this feature need to update their configuration. Same goes for developers of Matrix clients that support this feature. See the <a href="https://matrix-org.github.io/synapse/v1.53/upgrade#stablisation-of-msc3231">upgrade notes</a> for more information.</p>
<h2 id="time-based-cache-expiry-now-enabled-by-default">Time-based cache expiry now enabled by default</h2>
<p>To avoid being overly intensive on resources by making too many queries to the database, Synapse maintains several in-memory caches to store data it needs to use frequently. However, this comes with the inconvenience that, if Synapse needs to store too much data, these caches can become fairly big and occupy too much space in the host's memory.</p>
<p>Historically, Synapse has dealt with this issue by having set sizes for each cache, either hardcoded or set in the configuration, and evicting the oldest items when exceeding this size. <a href="https://github.com/matrix-org/synapse/releases/tag/v1.38.0">Synapse 1.38</a> introduced the possibility for homeserver administrators to configure Synapse to evict cache entries based on the time they were last accessed on. This mechanism acts on top of the aforementioned eviction policy, and allows automatically evicting entries that haven't been accessed for some time, leaving more room in the caches to store data that needs to be accessed more often.</p>
<p>Synapse 1.53 enables this behaviour by default. Without specific configuration, Synapse will automatically evict cache entries that haven't been accessed for more than 30 minutes. Server administrators that were already using this feature might need to update their configuration, as this change deprecates the <code>expiry_time</code> configuration setting, which will be removed in a future version of Synapse. See the <a href="https://matrix-org.github.io/synapse/v1.53/upgrade#time-based-cache-expiry-is-now-enabled-by-default">upgrade notes</a> for more information.</p>
<h2 id="everything-else">Everything else</h2>
<p>You might have heard that we're working on improving the time it takes to join big Matrix rooms with Synapse. If not, then you definitely want to have a look at <a href="https://youtu.be/yxV73TQAodE?t=1095">the demos Matrix live</a> that was published earlier this month and includes more details and a demo of the work we've been doing in this area.</p>
<p>This release of Synapse includes an implementation of <a href="https://github.com/matrix-org/matrix-doc/pull/3706">MSC3706</a>, which is part of this work. It's still very experimental and definitely not production-ready, but it's a huge stepping stone towards making room joins snappier than ever.</p>
<p>We've also been continuing our work towards enabling end-to-end encryption for application services (see the <a href="https://matrix.org/blog/2022/01/18/synapse-1-50-released">Synapse 1.50 release blogpost</a> for more context on that). Synapse 1.53 includes support for sending to-device messages to application services. This is also still very experimental, watch this space for future updates.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.53.0">full changelog</a> for a complete list of changes in this release. Also please have a look at the <a href="https://matrix-org.github.io/synapse/v1.53/upgrade#upgrading-to-v1530">upgrade notes</a> for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our thanks to everyone who contributed to this release, including (in no particular order) <a href="https://github.com/dklimpel">Dirk Klimpel</a>, <a href="https://github.com/bradjones1">Brad Jones</a>, and <a href="https://github.com/a-mnich">Alexander Mnich</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;02&#x2F;08&#x2F;synapse-1-52-released&#x2F;" title="Synapse 1.52 released">Synapse 1.52 released</a></h2>
                <span>
                    08.02.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.52.0">Synapse 1.52</a> is out! Here's what's new with this week's release.</p>
<h2 id="twisted-security-release">Twisted security release</h2>
<p>The team behind <a href="https://twistedmatrix.com/">Twisted</a>, which is the main framework Synapse uses under the hood, recently released <a href="https://github.com/twisted/twisted/releases/tag/twisted-22.1.0">Twisted 22.1</a>. This version fixes a <a href="https://github.com/twisted/twisted/security/advisories/GHSA-92x2-jw7w-xvvx">security vulnerability</a> within the Twisted library.</p>
<p>While preparing the release of Synapse 1.52, we have investigated the impact of this vulnerability on Synapse. We came to the conclusion that it does not affect Synapse. We however advise server administrators to ensure they use an up-to-date version of the library as a matter of good practice.</p>
<p>For instances installed with <code>pip</code>, the library can be updated with <code>pip install --upgrade Twisted treq</code>. For instances installed with the <code>matrixdotorg/synapse</code> Docker image or Debian packages from <code>packages.matrix.org</code>, updating to Synapse 1.52.0 is sufficient, as these images and packages include up-to-date versions of all dependencies.</p>
<p>It is also worth noting that a release candidate for <a href="https://github.com/twisted/twisted/releases/tag/twisted-22.2.0rc1">Twisted 22.2</a> has been published, with a fix for a potential denial of service vulnerability with SSH. Administrators of Synapse homeservers that have the <a href="https://matrix-org.github.io/synapse/v1.52/manhole.html">manhole</a> feature enabled (which is the only feature of Synapse using SSH) are encouraged to ensure access to the manhole is correctly restricted (e.g. by preventing access from external locations).</p>
<h2 id="federation-admin-apis">Federation admin APIs</h2>
<p>This release of Synapse introduces a few admin APIs to help server administrators monitor and handle how their Synapse homeserver interacts with other federated homeservers. <a href="https://matrix-org.github.io/synapse/v1.52/usage/administration/admin_api/federation.html#destination-rooms">One of these APIs</a> offers server administrators a way to visualise which rooms are shared between the local homeserver and a given remote one.</p>
<p>Another API allows server administrators to <a href="https://matrix-org.github.io/synapse/v1.52/usage/administration/admin_api/federation.html#reset-connection-timeout">reset federation timeouts</a>. If Synapse fails to connect to a remote homeserver, it will make note of the failure and will not retry the connection after a certain amount of time. This can happen if the remote homeserver goes offline or experiences connectivity issues. Synapse has a few ways of figuring out whether a remote homeserver has come back online, but this new admin API adds a way for administrators to manually tell Synapse a destination should be available.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release also improves Synapse's deactivation behaviour by deleting account data when deactivating a user. "Account data" refers to private arbitrary data that is specific to an account. It is used among other things for secure server-side storage (SSSS) which allows securely backing up end-to-end encryption keys.</p>
<p>Please see the Synapse <a href="https://github.com/matrix-org/synapse/blob/v1.52.0/CHANGES.md">release notes</a> for a complete list of changes in this release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our thanks to everyone who contributed to this release, including (in no particular order) <a href="https://github.com/dklimpel">Dirk Klimpel</a>, <a href="https://github.com/totallynotvaishnav">Vaishnav Nair</a>, <a href="https://github.com/sequentialread">SequentialRead Software</a> and <a href="https://github.com/Fizzadar">Nick Barrett from Beeper</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;02&#x2F;02&#x2F;matrix-v-1-2-release&#x2F;" title="Matrix v1.2 release">Matrix v1.2 release</a></h2>
                <span>
                    02.02.2022 18:57
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/travis-ralston">
                        Travis Ralston
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey all,</p>
<p>Welcome to the second installment of our quarterly spec releases. If it feels like it hasn’t been long since our last release, you’re not alone! Our <a href="https://matrix.org/blog/2021/11/09/matrix-v-1-1-release">last release</a> was just 3 months ago, introducing the new platform and world we build within.</p>
<p>This improvement in speed might seem <em>too</em> fast, but fret not: implementations are not expected to update as soon as the new spec is published. Rather, it is more realistic to expect that the ecosystem gradually update over the course of the following few months/year. Particularly after the massive release that was v1.1.</p>
<p>So, what’s new in v1.2? With 18 MSCs merged there’s a lot to cover - we’ve picked some notable highlights and recommend the full changelog at the bottom for a complete idea of what’s been going on.</p>
<h2 id="rearchitecting-with-spaces">Rearchitecting with Spaces</h2>
<p>Spaces launched into beta <a href="https://matrix.org/blog/2021/05/17/the-matrix-space-beta">last May</a>, redefining how we can use rooms on Matrix to represent different data structures. Described mostly as <a href="https://github.com/matrix-org/matrix-doc/pull/1772">MSC1772</a>, Spaces are simply rooms with a specific <a href="https://spec.matrix.org/v1.2/client-server-api/#rooms-1">type in their m.room.create event</a>. With state events being used to define which other rooms (meaning Spaces too) are part of that Space, the possibilities for tree-like structured data become endless.</p>
<p>There’s still quite a lot of work to do in the Spaces space (hah), though we’re excited to see it all land. For instance, <a href="https://github.com/matrix-org/matrix-doc/pull/3216">MSC3216</a> and <a href="https://github.com/matrix-org/matrix-doc/pull/2962">MSC2962</a> target power level syncing, <a href="https://github.com/matrix-org/matrix-doc/pull/3219">MSC3219</a> aims for flair, and <a href="https://github.com/matrix-org/matrix-doc/pull/3089">MSC3089</a> looks at file structures using Spaces. We might even be able to replace the public room directory with a server-wide space, making writing clients a little bit easier.</p>
<h2 id="public-but-not-too-public-join-rules">Public, but not <em>too</em> public, join rules</h2>
<p><a href="https://spec.matrix.org/v1.2/client-server-api/#restricted-rooms">Restricted rooms</a> are new in this release from <a href="https://github.com/matrix-org/matrix-doc/pull/3083">MSC3083</a>. In these rooms (<em>and therefore Spaces too!</em>), the join rules can be configured such that a member of another room can join without needing an invite. In a typical setup, this means that a Space could be set as invite-only, but all the rooms and Spaces underneath that Space could allow joins for members of the parent Space. When someone wishes to explore the universe you’ve laid out in your Space they can simply join the interesting rooms without having to ask for invites <em>constantly</em>.</p>
<p>This feature changes how membership events are authorized, so is only available in room versions 8 and 9 (both introduced in this release). Room version 9 fixes a relatively rare bug from version 8, so we’d recommend using v9 if you’re planning an upgrade for this functionality.</p>
<p>Further work in this area involves figuring out how to keep membership lists perfectly in sync between the rooms, which is currently done by external tooling. For example, evicting someone from the parent Space could (optionally) evict the user from all the subsequent rooms and Spaces too.</p>
<p>We also need to figure out how to support both knocking and restricted rooms at the same time (oops). <a href="https://github.com/matrix-org/matrix-doc/pull/3613">MSC3613</a> and <a href="https://github.com/matrix-org/matrix-doc/pull/3386">MSC3386</a> both tackle this problem in different ways and timescales.</p>
<h2 id="matrix-a-uri">Matrix: A URI</h2>
<p>A massive shoutout goes to kitsune and the whole community for working on <a href="https://github.com/matrix-org/matrix-doc/pull/2312">MSC2312</a>, giving us a URI we can pass around outside of Matrix to bring us back in. The early work on this <a href="https://github.com/matrix-org/matrix-doc/issues/455">dates all the way back to 2014</a>, the very beginning of Matrix’s development, and has since been <a href="https://www.iana.org/assignments/uri-schemes/prov/matrix">marked Provisional</a> by the IANA.</p>
<p>The full spec is available <a href="https://spec.matrix.org/v1.2/appendices/#uris">here</a> - feel free to discuss it at <a href="matrix:r/matrix-spec:matrix.org">matrix:r/matrix-spec:matrix.org</a> ;)</p>
<h2 id="the-full-changelog">The full changelog</h2>
<p>MSCs are how the spec changes in the way it does - adding, fixing, and maintaining features for the whole ecosystem to use. The blog post can’t cover them all, but that doesn’t make them any less important! Check out the full changelog below, and the <a href="https://spec.matrix.org/unstable/proposals/">Spec Change Proposals</a> page for more information on how these MSCs got merged (hint: they submitted a proposal, which anyone can do - take a look at the <a href="https://www.youtube.com/watch?v=SFkZz60RRfc">Matrix Live episode</a> where Matthew covers the proposal process).</p>
<h3 id="client-server-api">Client-Server API</h3>
<p><strong>Breaking Changes</strong></p>
<ul>
<li>The <code>prev_content</code> field is now returned inside the <code>unsigned</code> property of events, rather than at the top level, as per <a href="https://github.com/matrix-org/matrix-doc/pull/3442">MSC3442</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3524">#3524</a>)</li>
<li>The <code>aliases</code> property from the chunks returned by <code>/publicRooms</code>, as per <a href="https://github.com/matrix-org/matrix-doc/pull/2432">MSC2432</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3624">#3624</a>)</li>
</ul>
<p><strong>New Endpoints</strong></p>
<ul>
<li>Add the Space Hierarchy API (<code>GET /_matrix/client/v1/rooms/{roomId}/hierarchy</code>) as per <a href="https://github.com/matrix-org/matrix-doc/pull/2946">MSC2946</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3610">#3610</a>)</li>
<li>Add <code>/_matrix/client/v1/register/m.login.registration_token/validity</code> as per <a href="https://github.com/matrix-org/matrix-doc/pull/3231">MSC3231</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3616">#3616</a>)</li>
</ul>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Extend <code>/_matrix/client/r0/login</code> to accept a <code>m.login.appservice</code>, as per <a href="https://github.com/matrix-org/matrix-doc/pull/2778">MSC2778</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3324">#3324</a>)</li>
<li>Add support for <code>restricted</code> rooms as per <a href="https://github.com/matrix-org/matrix-doc/pull/3083">MSC3083</a>, <a href="https://github.com/matrix-org/matrix-doc/pull/3289">MSC3289</a>, and <a href="https://github.com/matrix-org/matrix-doc/pull/3375">MSC3375</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3387">#3387</a>)</li>
<li>Add <code>is_guest</code> to <code>/account/whoami</code> as per <a href="https://github.com/matrix-org/matrix-doc/pull/3069">MSC3069</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3605">#3605</a>)</li>
<li>Expand guest access to sending any room event and state event as per <a href="https://github.com/matrix-org/matrix-doc/pull/3419">MSC3419</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3605">#3605</a>)</li>
<li>Add Spaces and room types as per <a href="https://github.com/matrix-org/matrix-doc/pull/1772">MSC1772</a> and <a href="https://github.com/matrix-org/matrix-doc/pull/2946">MSC2946</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3610">#3610</a>)</li>
<li>Add new <code>m.set_displayname</code>, <code>m.set_avatar_url</code>, and <code>m.3pid_changes</code> capabilities as per <a href="https://github.com/matrix-org/matrix-doc/pull/3283">MSC3283</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3614">#3614</a>)</li>
<li>Add support for fallback keys (optional keys used once one-time keys run out), as per <a href="https://github.com/matrix-org/matrix-doc/pull/2732">MSC2732</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3615">#3615</a>)</li>
<li>Add token-authenticated registration support as per <a href="https://github.com/matrix-org/matrix-doc/pull/3231">MSC3231</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3616">#3616</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Make <code>AesHmacSha2KeyDescription</code> consistent with <code>KeyDescription</code> in marking <code>name</code> as optional. (<a href="https://github.com/matrix-org/matrix-doc/issues/3481">#3481</a>)</li>
<li>Fix various typos throughout the specification. (<a href="https://github.com/matrix-org/matrix-doc/issues/3482">#3482</a>, <a href="https://github.com/matrix-org/matrix-doc/issues/3495">#3495</a>, <a href="https://github.com/matrix-org/matrix-doc/issues/3509">#3509</a>, <a href="https://github.com/matrix-org/matrix-doc/issues/3535">#3535</a>, <a href="https://github.com/matrix-org/matrix-doc/issues/3591">#3591</a>, <a href="https://github.com/matrix-org/matrix-doc/issues/3601">#3601</a>, <a href="https://github.com/matrix-org/matrix-doc/issues/3611">#3611</a>, <a href="https://github.com/matrix-org/matrix-doc/issues/3671">#3671</a>, <a href="https://github.com/matrix-org/matrix-doc/issues/3680">#3680</a>)</li>
<li>Explicitly mention RFC5870 in the definition of <code>m.location</code> events (<a href="https://github.com/matrix-org/matrix-doc/issues/3492">#3492</a>)</li>
<li>Add <code>403 M_FORBIDDEN</code> error code to <code>/profile/{userId}</code> as per <a href="https://github.com/matrix-org/matrix-doc/pull/3550">MSC3550</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3530">#3530</a>)</li>
<li>Clarify the description of the <code>/sync</code> API, including a fix to an ASCII art diagram. (<a href="https://github.com/matrix-org/matrix-doc/issues/3543">#3543</a>)</li>
<li>Clarify that <code>base_url</code> in client <code>well_known</code> may or may not include trailing slash. (<a href="https://github.com/matrix-org/matrix-doc/issues/3562">#3562</a>)</li>
<li>Clarify which signature to check when decrypting <code>m.olm.v1.curve25519-aes-sha2</code> messages. (<a href="https://github.com/matrix-org/matrix-doc/issues/3573">#3573</a>)</li>
<li>Clarify what "Stripped State" is and what purpose it serves, as per <a href="https://github.com/matrix-org/matrix-doc/pull/3173">MSC3173</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3606">#3606</a>)</li>
<li>Clarify how to interpret missing one-time key counts. (<a href="https://github.com/matrix-org/matrix-doc/issues/3636">#3636</a>)</li>
<li>Correct the schema for the responses  for various API endpoints. (<a href="https://github.com/matrix-org/matrix-doc/issues/3650">#3650</a>)</li>
<li>Clarify that group mentions are no longer in the specification. (<a href="https://github.com/matrix-org/matrix-doc/issues/3652">#3652</a>)</li>
<li>Distinguish between "federation" event format as exchanged by the Federation API, and the "client" event formats as used in the client-server and AS APIs. (<a href="https://github.com/matrix-org/matrix-doc/issues/3658">#3658</a>)</li>
<li>Fix the rendering of the responses for various API endpoints. (<a href="https://github.com/matrix-org/matrix-doc/issues/3674">#3674</a>)</li>
</ul>
<h3 id="server-server-api">Server-Server API</h3>
<p><strong>New Endpoints</strong></p>
<ul>
<li>Add the Space Hierarchy API (<code>GET /_matrix/federation/v1/hierarchy/{roomId}</code>) as per <a href="https://github.com/matrix-org/matrix-doc/pull/2946">MSC2946</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3610">#3610</a>, <a href="https://github.com/matrix-org/matrix-doc/issues/3660">#3660</a>)</li>
</ul>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Add support for <code>restricted</code> rooms as per <a href="https://github.com/matrix-org/matrix-doc/pull/3083">MSC3083</a>, <a href="https://github.com/matrix-org/matrix-doc/pull/3289">MSC3289</a>, and <a href="https://github.com/matrix-org/matrix-doc/pull/3375">MSC3375</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3387">#3387</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Fix various typos throughout the specification. (<a href="https://github.com/matrix-org/matrix-doc/issues/3527">#3527</a>)</li>
<li>Clarify that <code>GET /_matrix/federation/v1/event_auth/{roomId}/{eventId}</code> does <em>not</em> return the auth chain for the full state of the room. (<a href="https://github.com/matrix-org/matrix-doc/issues/3583">#3583</a>)</li>
<li>Fix the rendering of the responses for various API endpoints. (<a href="https://github.com/matrix-org/matrix-doc/issues/3674">#3674</a>)</li>
</ul>
<h3 id="application-service-api">Application Service API</h3>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Distinguish between "federation" event format as exchanged by the Federation API, and the "client" event formats as used in the client-server and AS APIs. (<a href="https://github.com/matrix-org/matrix-doc/issues/3658">#3658</a>)</li>
<li>Fix the rendering of the responses for various API endpoints. (<a href="https://github.com/matrix-org/matrix-doc/issues/3674">#3674</a>)</li>
<li>Correct the documentation for the response value for <code>GET /_matrix/app/v1/thirdparty/protocol/{protocol}</code>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3675">#3675</a>)</li>
</ul>
<h3 id="identity-service-api">Identity Service API</h3>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Add the <code>room_type</code> to stored invites as per <a href="https://github.com/matrix-org/matrix-doc/pull/3288">MSC3288</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3610">#3610</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Fix the rendering of the responses for various API endpoints. (<a href="https://github.com/matrix-org/matrix-doc/issues/3674">#3674</a>)</li>
</ul>
<h3 id="push-gateway-api">Push Gateway API</h3>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Fix the rendering of the responses for various API endpoints. (<a href="https://github.com/matrix-org/matrix-doc/issues/3674">#3674</a>)</li>
</ul>
<h3 id="room-versions">Room Versions</h3>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Add Room Version 8 as per <a href="https://github.com/matrix-org/matrix-doc/pull/3289">MSC3289</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3387">#3387</a>)</li>
<li>Add Room Version 9 as per <a href="https://github.com/matrix-org/matrix-doc/pull/3375">MSC3375</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3387">#3387</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Fully specify room versions to indicate what exactly is carried over from parent versions. (<a href="https://github.com/matrix-org/matrix-doc/issues/3432">#3432</a>, <a href="https://github.com/matrix-org/matrix-doc/issues/3661">#3661</a>)</li>
<li>Clarifications to sections on event IDs and event formats. (<a href="https://github.com/matrix-org/matrix-doc/issues/3501">#3501</a>)</li>
<li>Remove a number of fields which were incorrectly shown to form part of the <code>unsigned</code> data of a Federation PDU. (<a href="https://github.com/matrix-org/matrix-doc/issues/3522">#3522</a>)</li>
<li>Fix heading order of room version specifications to be consistent. (<a href="https://github.com/matrix-org/matrix-doc/issues/3683">#3683</a>)</li>
<li>Add missing "Signing key validity period" section to room version 6. (<a href="https://github.com/matrix-org/matrix-doc/issues/3683">#3683</a>)</li>
<li>Fix auth rules to allow membership of <code>knock</code> -&gt; <code>leave</code> in v7, v8, and v9. (<a href="https://github.com/matrix-org/matrix-doc/issues/3694">#3694</a>)</li>
</ul>
<h3 id="appendices">Appendices</h3>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Describe "Common Namespaced Identifier Grammar" as per <a href="https://github.com/matrix-org/matrix-doc/pull/2758">MSC2758</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3171">#3171</a>)</li>
<li>Describe the <code>matrix:</code> URI scheme as per <a href="https://github.com/matrix-org/matrix-doc/pull/2312">MSC2312</a>. (<a href="https://github.com/matrix-org/matrix-doc/issues/3608">#3608</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;01&#x2F;25&#x2F;synapse-1-51-released&#x2F;" title="Synapse 1.51 released">Synapse 1.51 released</a></h2>
                <span>
                    25.01.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.51.0">Synapse 1.51</a> is out! Here's what's new with this week's release.</p>
<h2 id="deprecation-of-the-webclient-listener">Deprecation of the <code>webclient</code> listener</h2>
<p>A long time ago, Synapse used to serve a very basic web Matrix client (named "console") that could be used to connect to the homeserver. Server administrators could chose to make it available to their users by configuring a <code>webclient</code> listener.</p>
<p>This web client was removed in <a href="https://github.com/matrix-org/synapse/releases/tag/v0.34.0">Synapse 0.34</a> back in 2018, but the <code>webclient</code> listener stayed, instead allowing server admins to serve the web client of their choice (or redirect to it) through the <code>web_client_location</code> configuration file.</p>
<p>Synapse 1.53 will remove the <code>webclient</code> listener, as well as the ability to set <code>web_client_location</code> to a static directory (instead of a HTTP(S) URL). See the <a href="https://matrix-org.github.io/synapse/develop/upgrade#upgrading-to-v1510">upgrade notes</a> for more information.</p>
<h2 id="aggregations-and-sync">Aggregations and sync</h2>
<p>The concept of server-side aggregation in Matrix is defined in <a href="https://github.com/matrix-org/matrix-doc/pull/2675">MSC2675</a> and is the ability for homeservers to extend the information included in an event using other events that relate to it. This allows, for example, clients to quickly retrieve the reactions associated with a given message, or its latest edit.</p>
<p>This release includes a number of notable performance improvements to calculating aggregations when responding to <code>/sync</code> requests. We continue to measure and investigate potential performance improvements in this area, which should end up greatly benefiting <code>/sync</code> response times.</p>
<h2 id="fosdem">FOSDEM</h2>
<p><a href="https://fosdem.org">FOSDEM</a>, one of the biggest gatherings around free and open-source software in the world, is happening next week! Just like last year, the conference will happen online and will be hosted on Matrix. And just like last year, it will be packed with super interesting Matrix-related (but not only) talks.</p>
<p>One new addition this year is the presence of a whole devroom dedicated to Matrix. It will be hosted on February 6th, and you can already find its whole schedule of talks <a href="https://fosdem.org/2022/schedule/track/matrixorg_foundation_and_community/">right here</a>.</p>
<p>The Synapse team will be giving a couple of talks during the day: <a href="https://fosdem.org/2022/schedule/event/matrix_events_uninitiatied/">Events for the Uninitiated</a> by Shay at 11:10, and <a href="https://fosdem.org/2022/schedule/event/matrix_extend_synapse/">Beyond the Matrix: Extend the capabilities of your Synapse homeserver</a> by yours truly at 16:40 (all times CET). Come say hi! 🙂</p>
<h2 id="everything-else">Everything else</h2>
<p>This release includes a couple of spaces-related bug fixes, specifically related to the <code>/_matrix/client/v1/room/{roomId}/hierarchy</code> API. One of them in particular targets a bug in spaces that include more than 50 rooms, and should make it much easier to look for a specific room inside a space.</p>
<p>The <code>synapse_review_recent_signups</code> script, which allows homeserver administrators to review recent signups (e.g. in the event of a spam attack), was also improved with an option to exclude virtual users belonging to an application service from the results. See <code>synapse_review_recent_signups --help</code> for more information.</p>
<p>Please see the Synapse <a href="https://github.com/matrix-org/synapse/blob/v1.51.0/CHANGES.md">release notes</a> for a complete list of changes in this release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our thanks to everyone who contributed to this release, including (in no particular order) <a href="https://github.com/dklimpel">Dirk Klimpel</a>, <a href="https://github.com/br4nnigan">br4nnigan</a>, <a href="https://github.com/blastrock">Philippe Daouadi</a>, <a href="https://github.com/dsonck92">Daniël Sonck</a> and <a href="https://github.com/AndrewFerr">AndrewFerr</a>.</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;category&#x2F;releases&#x2F;page&#x2F;3&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">4 / 15</span>
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;category&#x2F;releases&#x2F;page&#x2F;5&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;support">Donate</a>
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org">Shop</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org" rel="me"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;" rel="me"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix" rel="me"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg" rel="me"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w" rel="me"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
            <a href="&#x2F;atom.xml" rel="me"><img src="/assets/rss.svg" alt="RSS"></a>
            
        </div>
    </div>
    <p><a href="/legal/copyright-notice">Copyright Notice</a></p>
</footer>

</body>

</html>
