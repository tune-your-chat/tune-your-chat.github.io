<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />
    
    <meta property="og:url" content="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;category&#x2F;releases&#x2F;page&#x2F;3&#x2F;" />
    
    
    
    
    <meta property="og:title" content="Matrix.org" />
    
    
    
    <meta property="og:description" content="Matrix, the open protocol for secure decentralised communications" />
    <meta name="description" content="Matrix, the open protocol for secure decentralised communications" />
    
    <meta property="og:image" content="https://matrix.org/blog/img/matrix-logo.png" />
    <meta name="twitter:image" content="https://matrix.org/blog/img/matrix-logo.png" />
    
    <title>Matrix.org - Releases</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href=https://tune-your-chat.github.io/style.css?h=0d1a23c06b707a231261 />
    <script async src=https://tune-your-chat.github.io/js/components.js?h=ae3cb894d00e16ef08be></script>
    <script defer data-domain="matrix.org" src="https://plausible.io/js/script.tagged-events.js"></script>


    
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://tune-your-chat.github.io/category/releases/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="https:&#x2F;&#x2F;spec.matrix.org" class="
            ">
            Spec
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="foundation-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="foundation-submenu-checkbox" class="submenu-title">Foundation <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;foundation&#x2F;about&#x2F;">About Matrix</a>
                    
                    <a href="&#x2F;foundation&#x2F;governing-board-elections&#x2F;">Governing Board Elections 2024</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Docs
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;tune&#x2F;">Tune Your Chat</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;integrations&#x2F;">Integrations</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;support" class="
            ">
            Donate
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Releases</h1>
            146 posts tagged with "Releases" <a href="/category">(See all Category)</a>
            
            <h2>
                <small><a href="https://tune-your-chat.github.io/category/releases/atom.xml">Atom Feed</a></small>
            </h2>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;09&#x2F;02&#x2F;synapse-1-66-released&#x2F;" title="Synapse 1.66 released">Synapse 1.66 released</a></h2>
                <span>
                    02.09.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey all, we've just released <a href="https://github.com/matrix-org/synapse/releases/tag/v1.66.0">Synapse 1.66</a>! Let's have a
look at what's inside this release.</p>

                <p><a href="/blog/2022/09/02/synapse-1-66-released/#continue-reading">Continue reading…</a></p>
                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;08&#x2F;31&#x2F;security-releases-matrix-js-sdk-19-4-0-and-matrix-react-sdk-3-53-0&#x2F;" title="Security releases: matrix-js-sdk 19.4.0 and matrix-react-sdk 3.53.0">Security releases: matrix-js-sdk 19.4.0 and matrix-react-sdk 3.53.0</a></h2>
                <span>
                    31.08.2022 18:13
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/denis-kasak">
                        Denis Kasak
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Today we are issuing security releases of matrix-js-sdk and matrix-react-sdk to
patch a couple of High severity vulnerabilities (reserved as
<a href="https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=CVE%2D2022%2D36059">CVE-2022-36059</a>
for the matrix-js-sdk and
<a href="https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=CVE%2D2022%2D36060">CVE-2022-36060</a>
for the matrix-react-sdk).</p>
<p>Affected clients include those which depend on the affected libraries, such as
Element Web/Desktop and Cinny. Releases of the affected clients will follow
shortly. We advise users of those clients to upgrade at their earliest
convenience.</p>
<p>The vulnerabilities give an adversary who you share a room with the ability to
carry out a denial-of-service attack against the affected clients, making it
not show all of a user's rooms or spaces and/or causing minor temporary
corruption.</p>
<p>The full vulnerability details will be disclosed at a later date, to give
people time to upgrade and us to perform a more thorough audit of the codebase.</p>
<p>Note that while the vulnerability was to our knowledge never exploited
maliciously, some unintentional public testing has left some people affected by
the bug. We made a best effort to sanitize this to stop the breakage. If you
are affected, you may still need to clear the cache and reload your Matrix
client for it to take effect.</p>
<p>We thank <a href="https://valentin-lorentz.fr/">Val Lorentz</a> who discovered and
reported the vulnerability over the weekend.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;08&#x2F;17&#x2F;synapse-1-65-released&#x2F;" title="Synapse 1.65 released">Synapse 1.65 released</a></h2>
                <span>
                    17.08.2022 15:44
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                <br>
                <small>Last update: 17.08.2022 15:25</small>
            </header>
            <div>
                
                <p>Hey everyone! We've just released <a href="https://github.com/matrix-org/synapse/releases/tag/v1.65.0">Synapse
1.65</a>! Let's have a
peek at what's inside.</p>
<h2 id="private-read-receipts">Private read receipts</h2>
<p>A feature that the more privacy-focused users of Matrix have been missing was
the ability to hide read receipts from other users. Read receipts in rooms can
tell a user which messages another user has read in a room. However, they can
also be an unwelcome indicator that a user is currently reading a certain room,
thus giving away the user's activity on Matrix at a given time.</p>
<p>Hiding one's read receipts from other Matrix users is unfortunately not as
straightforward as simply preventing a client from sharing read receipts with
the server. This is because read receipts are also used by Matrix homeservers to
calculate how much of a room a user has read, and generate notification counts
for rooms accordingly.</p>
<p>Synapse 1.65 introduces stable support for private read receipts. This feature,
described by
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2285">MSC2285</a>, allows
clients to send a different type of read receipt to the server. This then tells
the homeserver to use this piece of information to update the user's
notification counts, but not to share it with other users.</p>
<h2 id="improved-room-management-apis-for-modules">Improved room management APIs for modules</h2>
<p>This version of Synapse includes two new module API methods to help Synapse
modules interact and manage rooms. The first one,
<a href="https://github.com/matrix-org/synapse/blob/v1.65.0/synapse/module_api/__init__.py#L1455-L1477"><code>lookup_room_alias</code></a>,
allows modules to retrieve the room ID corresponding to a given room alias. This
works both for local and remote aliases. The second one,
<a href="https://github.com/matrix-org/synapse/blob/v1.65.0/synapse/module_api/__init__.py#L1479-L1528"><code>create_room</code></a>,
allows modules to create new rooms on behalf of an existing user.</p>
<p>The
<a href="https://github.com/matrix-org/synapse/blob/v1.65.0/synapse/module_api/__init__.py#L925-L1017"><code>update_room_membership</code></a>
method has also been updated in this release of Synapse to allow modules to join
a room the server is not already in via federation. This can be done by using
the new <code>remote_room_hosts</code> argument, which takes a list of homeservers to try
to join via.</p>
<h2 id="everything-else">Everything else</h2>
<p>Synapse 1.65 stabilises the implementation of
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3827</a>, which
allows filtering public room searches on room types. This means it is now
possible to search specifically for public spaces. For more information on this
feature, see <a href="https://matrix.org/blog/2022/07/20/synapse-1-63-released">the Synapse 1.63
announcement</a>.</p>
<p>Additionally, Synapse 1.65 implements the new experimental error codes
documented by
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3848</a>. Once
stabilised, these error codes will allow clients to show more specific errors to
their users about why an event could not be sent.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.65.0">full
changelog</a> for a
complete list of changes in this release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>,
<a href="https://github.com/andrewdoh">andrewdoh</a>, <a href="https://github.com/moan0s">Julian-Samuel
Gebühr</a> and <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, as well as anyone helping us make Synapse
better by sharing their feedback and reporting issues.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;08&#x2F;03&#x2F;synapse-1-64-released&#x2F;" title="Synapse 1.64 released">Synapse 1.64 released</a></h2>
                <span>
                    03.08.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>It's that time again: there's a new Synapse release, fresh out of the oven!
Let's take a look at what's inside <a href="https://github.com/matrix-org/synapse/releases/tag/v1.64.0">Synapse
1.64</a>.</p>
<h2 id="delegating-email-verification-is-now-deprecated">Delegating email verification is now deprecated</h2>
<p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.4.0">Synapse 1.4.0</a>
introduced a configuration option (<code>account_threepid_delegates.email</code>) to allow
homeservers to delegate validating the ownership of email addresses to an
external identity server. This validation is used by Synapse when adding an
email address to a Matrix account, or before performing a password reset.</p>
<p>As of Synapse 1.64, this option is deprecated, and Synapse will print a warning
if it is used. This is because this option relies on old API endpoints that have
since been
<a href="https://spec.matrix.org/v1.3/changelog/#identity-service-api-1-1">removed</a> from the
Matrix specification.</p>
<p>Synapse can do this validation internally provided it is configured with details
of an SMTP server. Administrators currently relying on
<code>account_threepid_delegates.email</code> should therefore ensure that an SMTP server
is correctly configured, and remove the <code>account_threepid_delegates.email</code>
option. See the <a href="https://matrix-org.github.io/synapse/v1.64/usage/configuration/config_documentation.html#email">configuration
guide</a>
for more information.</p>
<p>We plan to fully remove this configuration option in Synapse 1.66, which is
expected to be released on August 30th.</p>
<p>Note that the equivalent option to validate the ownership of phone numbers
(<code>account_threepid_delegates.msisdn</code>) can still be used, though we expect to
deprecate it in a future release of Synapse.</p>
<h2 id="improved-tls-support-for-sending-emails">Improved TLS support for sending emails</h2>
<p>When configuring an SMTP server to use to send out emails to users, server
administrators can configure Synapse to use TLS to communicate to that server.
Until now, only <a href="https://en.wikipedia.org/wiki/Opportunistic_TLS">STARTTLS</a> was
supported in this case.</p>
<p>Synapse 1.64 introduces a new <code>force_tls</code> configuration option in the <code>email</code>
section of the configuration file. If this new setting is set to <code>true</code> Synapse
will use TLS for the initial connection rather than upgrading via STARTTLS.</p>
<p>See the <a href="https://matrix-org.github.io/synapse/v1.64/usage/configuration/config_documentation.html#email">configuration
guide</a>
for more information.</p>
<h2 id="memory-leak-in-frozendict">Memory leak in <code>frozendict</code></h2>
<p>A couple of weeks ago, we
<a href="https://github.com/Marco-Sulla/python-frozendict/issues/60">identified</a> a
memory leak within <a href="https://pypi.org/project/frozendict/">frozendict</a>, which is
a library that Synapse relies on. This would in turn cause Synapse instances to
slowly leak memory when processing <code>/sync</code> requests.</p>
<p>We highly encourage server administrators who installed Synapse via <code>pip</code> to
upgrade their local version of <code>frozendict</code> to version 2.3.3 or later, which
includes a fix to this issue. The Docker image <code>matrixdotorg/synapse</code> and the
Debian packages from <code>packages.matrix.org</code> already include the updated library.</p>
<h2 id="everything-else">Everything else</h2>
<p>This version of Synapse introduces support for room version 10! This new room
version enables support for the new <code>knock_restricted</code> join rule, to allow
knocking into rooms which are otherwise restricted to members of a specific room
(or space). See <a href="https://spec.matrix.org/v1.3/rooms/v10/">the Matrix specification about room version
10</a> for more information.</p>
<p>Additionally, Synapse 1.64 features a new rate limiter to limit the rate of joins to the same
room. It is intended as a mitigation against abuse scenarios involving joining a
lot of users from different homeservers to a room to then send spam across it.
See the <a href="https://matrix-org.github.io/synapse/latest/usage/configuration/config_documentation.html#rc_joins_per_room">configuration
guide</a>
for more information.</p>
<p>This release of Synapse also extends the <a href="https://matrix-org.github.io/synapse/latest/admin_api/rooms.html#list-room-api">List
Rooms</a>
and <a href="https://matrix-org.github.io/synapse/latest/admin_api/rooms.html#room-details-api">Room
Details</a>
admin APIs to include the type of a room in responses, allowing server
administrators to differentiate spaces from other rooms.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.64.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.64/upgrade#upgrading-to-v1640">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>,
<a href="https://github.com/andrewdoh">andrewdoh</a>, <a href="https://github.com/thomasweston12">Thomas
Weston</a>, <a href="https://github.com/jejo86">jejo86</a>,
<a href="https://github.com/villepeh">villepeh</a>, <a href="https://github.com/behrmann">Jörg
Behrmann</a> and <a href="https://github.com/Vetchu">Jacek
Kuśnierz</a>, as well as anyone helping us make Synapse
better by sharing their feedback and reporting issues.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;07&#x2F;20&#x2F;synapse-1-63-released&#x2F;" title="Synapse 1.63 released">Synapse 1.63 released</a></h2>
                <span>
                    20.07.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey all, it's time for another Synapse release! That's right, <a href="https://github.com/matrix-org/synapse/releases/tag/v1.63.0">Synapse
1.63</a> is out,
let's have a look at it.</p>
<h2 id="clarifications-on-anonymised-server-statistics">Clarifications on "anonymised" server statistics</h2>
<p>Synapse has the ability to report usage statistics to the Matrix.org Foundation
(or to another location, if configured to do so). These statistics, such as
number of users, number of rooms joined by the server, etc. (they don't feature
any identifiable information about users and rooms) help us monitor the health
of the public federation.</p>
<p>In this release of Synapse, we have updated our public documentation about this
feature to clarify how it works and what exactly is being reported. This
documentation can be found <a href="https://matrix-org.github.io/synapse/v1.63/usage/administration/monitoring/reporting_homeserver_usage_statistics.html">right
here</a>.</p>
<p>Note that previous documentation and prompts surrounding this feature called it
"anonymised" server statistics. This could easily be misinterpreted, as while
per-user statistics are not reported, homeserver server names are. We have
therefore changed said documentation and prompts to be clearer about
what is actually reported.</p>
<p>Note that your homeserver will never report any statistics if the <code>report_stats</code>
configuration option is set to <code>false</code>. Server admins who are curious about
which software is used by the Matrix.org Foundation to record server statistics
can check out <a href="https://github.com/matrix-org/panopticon">panopticon</a>.</p>
<h2 id="improved-filtering-for-public-room-search">Improved filtering for public room search</h2>
<p>This version of Synapse ships with an experimental implementation of
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3827</a> which
allows filtering public room search results by room type. This feature will
enable better discoverability for Matrix Spaces (which are rooms with a specific
type, under the hood), as it will enable clients to search specifically for
public spaces.</p>
<p>This feature is still experimental as <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">its
MSC</a> hasn't
completed the MSC process yet, though it is in its final comment period at the
time this post is being written. This means a stable implementation will be
coming to Synapse very soon, so watch this space!</p>
<h2 id="everything-else">Everything else</h2>
<p>Synapse 1.63 also includes a new rate limiter to limit invites per issuer. This
rate limiter can be configured using the new <code>rc_invites.per_issuer</code>
configuration setting, see <a href="https://matrix-org.github.io/synapse/latest/usage/configuration/config_documentation.html#rc_invites">the
documentation</a>
for more information.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.63.0">full
changelog</a> for a
complete list of changes in this release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>,
<a href="https://github.com/villepeh">villepeh</a> and <a href="https://github.com/arkamar">Petr
Vaněk</a>, as well as anyone helping us make Synapse
better by sharing their feedback and reporting issues.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;07&#x2F;06&#x2F;synapse-1-62-released&#x2F;" title="Synapse 1.62 released">Synapse 1.62 released</a></h2>
                <span>
                    06.07.2022 16:37
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey all, <a href="https://github.com/matrix-org/synapse/releases/tag/v1.62.0">Synapse
1.62</a> is out! Let's
have a look inside.</p>
<h2 id="spam-checker-improvements">Spam checker improvements</h2>
<p>In the past few weeks, the Synapse team has been working with the Matrix.org
Trust &amp; Safety team to help module developers build more efficient protections
against spam. As a consequence of this work, Synapse 1.62 introduces new ways
for modules to communicate the result of actions taken against a specific
message or operation through the <a href="https://matrix-org.github.io/synapse/v1.62/modules/spam_checker_callbacks.html">spam checker module
callbacks</a>.</p>
<p>Previously, most spam checker callbacks would be expected to return a boolean
indicating whether a specific operation should be qualified as spam. Starting
from Synapse 1.62, modules are now expected to return either
<code>synapse.module_api.NOT_SPAM</code> (to indicate an action is not spammy), or an error
code that is part of <code>synapse.module_api.errors.Codes</code>.</p>
<p>Note that the previous behaviour is still supported but is now deprecated, and
will be removed in a future version of Synapse.</p>
<p>See <a href="https://matrix-org.github.io/synapse/v1.62/upgrade.html#new-signatures-for-spam-checker-callbacks">the upgrade
notes</a>
for a list of the affected callbacks and an example of this change. Note that on
top of the list described there, the <code>check_event_for_spam</code> callback was also
<a href="https://matrix-org.github.io/synapse/v1.62/upgrade.html#new-signature-for-the-spam-checker-callback-check_event_for_spam">updated with a similar
change</a>
in Synapse 1.61.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release of Synapse includes important performance improvements around
syncing, specifically around handling device lists and notifications.</p>
<p>Synapse 1.62 also introduce a changes of its optional dependency on the <a href="https://github.com/matrix-org/matrix-synapse-ldap3">LDAP3
authentication provider
module</a> to
<a href="https://github.com/matrix-org/matrix-synapse-ldap3/releases/tag/v0.2.1">v0.2.1</a>
in order to fix an issue with usernames that include uppercase characters.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.62.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.62/upgrade#upgrading-to-v1620">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/olmari">Sami
Olmari</a>, <a href="https://github.com/Danieloni1">Daniel
Aloni</a>,
<a href="https://github.com/Thumbscrew">Thumbscrew</a> and <a href="https://github.com/aytchell">Hannes
Lerchl</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;06&#x2F;28&#x2F;security-release-synapse-1-61-1&#x2F;" title="Security release: Synapse 1.61.1">Security release: Synapse 1.61.1</a></h2>
                <span>
                    28.06.2022 16:19
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey everyone!</p>
<p>Today we're exceptionally releasing <a href="https://github.com/matrix-org/synapse/releases/tag/v1.61.1">Synapse
1.61.1</a>, which comes
as a security release. <strong>Server administrators are encouraged to update as soon as
possible.</strong></p>
<p>This release fixes a vulnerability with Synapse's URL preview feature. URL
previews of some web pages can lead to unbounded recursion, causing the request
to either fail, or in some cases crash the running Synapse process.</p>
<p>Homeservers with the <code>url_preview_enabled</code> configuration option set to <code>false</code>
(the default value) are unaffected. Instances with the <code>enable_media_repo</code>
configuration option set to <code>false</code> are also unaffected, as this also disables
the URL preview functionality.</p>
<p>Server administrators who are unable to update Synapse should disable URL
previews by setting <code>url_preview_enabled: false</code> in their configuration file.
They can also delegate URL preview to a separate, dedicated worker to ensure the
process crashing does not impact other functionality of Synapse.</p>
<p>Please see <a href="https://github.com/matrix-org/synapse/security/advisories/GHSA-22p3-qrh9-cx32">this security
advisory</a>
for more information.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;06&#x2F;17&#x2F;synapse-1-61-released&#x2F;" title="Synapse 1.61 released">Synapse 1.61 released</a></h2>
                <span>
                    17.06.2022 11:48
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey everyone! Guess what? <a href="https://github.com/matrix-org/synapse/releases/tag/v1.61.0">Synapse
1.61</a> is out! Let's
have a look at it.</p>
<h2 id="farewell-groups">Farewell, groups</h2>
<p>If you are new to Matrix, you might have not heard of the feature referred to as
"groups" or "communities" (depending on the context). This feature allowed
grouping rooms and users to better represent a community, one of which being
<code>+matrix:matrix.org</code> which used to represent the Matrix community. This may
sound similar to <a href="https://matrix.org/blog/2021/05/17/the-matrix-space-beta">Matrix
Spaces</a>, and it would
make sense since Spaces are meant to be a more powerful replacement for groups.</p>
<p>In <a href="https://matrix.org/blog/2022/04/05/synapse-1-56-released">Synapse 1.56</a>,
support for groups was deprecated, with a plan to fully remove it in a
later release of Synapse. This has now been done as of Synapse 1.61, and most of the
code supporting this feature has now been removed.</p>
<p>Note that this means that administrators of homeservers using workers can remove
endpoints related to groups from their reverse proxy configuration. See <a href="https://matrix-org.github.io/synapse/v1.61/upgrade.html#removal-of-deprecated-communitygroups">the
upgrade
notes</a>
for more information.</p>
<h2 id="media-retention">Media retention</h2>
<p>A common issue we see homeserver administrators struggle with is managing the
disk space used by Synapse. A non-negligible part of that disk space usage is
dedicated to storing files uploaded by Matrix users, both local and remote.</p>
<p>Up until now Synapse would only provide administrators with limited, manual ways
to manage the media store of their homeserver, via the <a href="https://matrix-org.github.io/synapse/develop/admin_api/media_admin_api.html">admin
API</a>.</p>
<p>As of this release, Synapse now allows administrators to define retention
lifetimes for local and remote media. This allows media that hasn't been
accessed in a long time to be automatically deleted, therefore freeing up disk
space. Server administrators wishing to control media retention more finely can
also define different policies for remote and local media.</p>
<p>This feature can be enabled by configuring the <code>media_retention</code> setting, see
<a href="https://matrix-org.github.io/synapse/develop/usage/configuration/config_documentation.html#media_retention">the configuration
guide</a>
for more information.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release of Synapse introduces a change in the return value of the
<code>check_event_for_spam</code> spam checker module callback, in order to allow modules
more flexibility in communicating to users why their messages are rejected. This
is part of ongoing improvement works around spam checker callbacks, watch this
space next time for more information!</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.61.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.61/upgrade#upgrading-to-v1610">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a> and <a href="https://github.com/Vetchu">Jacek
Kuśnierz</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;06&#x2F;16&#x2F;matrix-v-1-3-release&#x2F;" title="Matrix v1.3 release">Matrix v1.3 release</a></h2>
                <span>
                    16.06.2022 17:16
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/travis-ralston">
                        Travis Ralston
                    </a>
                </span>
                <br>
                <small>Last update: 15.06.2022 22:00</small>
            </header>
            <div>
                
                <p>Hey all,</p>
<p>It’s another quarter and therefore <a href="https://spec.matrix.org/v1.3/">another spec release</a>! Matrix 1.2 was <a href="https://matrix.org/blog/2022/02/02/matrix-v-1-2-release">released</a> back in February, and while a bit late in the quarter this time around we’ve still got some exciting additions coming to you in this release.</p>
<p>Like last time, the speed of these releases might feel a bit quick for developers: fret not if you’re still working on v1.1 or v1.2 implementations. We’re not expecting that implementations update as soon as a new spec release is published, but rather that the ecosystem gradually update over the course of the next few months. Implementations should be aiming for as close to realtime as they can get though, particularly considering v1.4 is expected to have some large features (more on that later on).</p>
<p>Matrix 1.3 sees 14 MSCs get merged, but we can’t possibly go into detail on them all here. We’ve picked some notable highlights and recommend the full changelog at the bottom for a complete idea of what’s been going on.</p>
<h2 id="aggregations-and-the-relationships-made-along-the-way">Aggregations and the relationships made along the way</h2>
<p>It’s no secret that <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/1849">MSC1849</a>-style server-side aggregation of related messages have been in the review backlog for a while. We ended up splitting <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/1849">MSC1849</a> down into more reviewable chunks like <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2675">MSC2675</a>, allowing us to finally land the first pieces into Matrix 1.3 today.</p>
<p>In the spec there aren’t currently any defined relationships which make use of aggregations or even the <code>rel_type</code> described by <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2674">MSC2674</a>, but we do expect that v1.4 of the spec will have support for at least threads (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3440">MSC3440</a>) and edits (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2676">MSC2676</a>), filling the gap. For now, we’ve decided that holding aggregations back until v1.4 doesn’t make a lot of sense, so we have launched them into the world as-is for custom relations or for clients &amp; servers to prepare for what’s expected to be coming in v1.4 of the spec.</p>
<p>To further prepare for threads, we’ve also removed some restrictions of rich replies through <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3676">MSC3676</a>, thus allowing replies to be constructed with non-text messages like images. Check out the <a href="https://spec.matrix.org/v1.3/client-server-api/#rich-replies">new rich replies module</a> for more information.</p>
<h2 id="join-if-you-can-or-just-knock">Join if you can, or just knock</h2>
<p>When we launched restricted rooms in Matrix 1.2 we <a href="https://matrix.org/blog/2022/02/02/matrix-v-1-2-release#public-but-not-too-public-join-rules">noted</a> that we forgot to handle a case where someone might want to support <em>both</em> knocking and restricted rooms at the same time. We’ve fixed that with a stop-gap join rule from <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3787">MSC3787</a> in <a href="https://spec.matrix.org/v1.3/rooms/v10/">room version 10</a>.</p>
<p>The new <code>knock_restricted</code> join rule allows the room to keep its desire to be restricted whilst also allowing members who do not meet the criteria to knock on the room instead. We’ll likely expand on this sort of mixing of join rules in proposals like <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3386">MSC3386</a> down the line, however for now this should cover the gap in support. Next up: figuring out how to make encrypted room history available to these new joiners in a safe way.</p>
<h2 id="a-thread-for-next-time">A thread for next time</h2>
<p>Originally planned for this release, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3440">MSC3440</a>-style threads are anticipated to be ready for v1.4 (next quarter) with support for notifications and, of course, a whole new way to communicate in a room.</p>
<p>Threads are one of the more complicated features we’ve tried to land in recent history as it has a large impact on a wide variety of the spec: everything from event relationships (fixed in this release) to read receipts to push notifications needs to be worked out to build a system that not only users can understand, but also the developers trying to build it. With this massive surface area we just weren’t comfortable with adding threads to v1.3 as-is, given problems like notifications aren’t yet fully solved.</p>
<p>Alongside threads, we also anticipate that <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2676">MSC2676</a>-style message editing will be landing in v1.4, finally specifying how to update an event’s contents without having to redact &amp; re-send. Although message editing has been supported for a long time in some clients, we're excited that it will finally become part of the official specification, meaning it can be implemented more widely. Messaging clients are encouraged to give the proposal an early read and possibly even attempt implementation if not already done to help us ensure the system is in a reasonable state for inclusion in the spec, though we do note that feature requests for edits will likely be deferred to a future MSC.</p>
<p>Keep an eye on <a href="https://matrix.org/blog/category/this-week-in-matrix">This Week In Matrix</a> for updates on what v1.4 is expected to include, and how things are progressing.</p>
<h2 id="the-full-changelog">The full changelog</h2>
<p>MSCs are how the spec changes in the way it does - adding, fixing, and maintaining features for the whole ecosystem to use. The blog post can’t cover them all, but that doesn’t make them any less important! Check out the full changelog below, and the <a href="https://spec.matrix.org/unstable/proposals/">Spec Change Proposals</a> page for more information on how these MSCs got merged (hint: they submitted a proposal, which anyone can do - take a look at the <a href="https://www.youtube.com/watch?v=SFkZz60RRfc">Matrix Live episode</a> where Matthew covers the proposal process).</p>
<h3 id="client-server-api">Client-Server API</h3>
<p><strong>Deprecations</strong></p>
<ul>
<li>Deprecate the <code>sender_key</code> and <code>device_id</code> on <code>m.megolm.v1.aes-sha2</code> events, and the <code>sender_key</code> on <code>m.room_key_request</code> to-device messages, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3700">MSC3700</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1101">#1101</a>)</li>
</ul>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Make <code>from</code> optional on <code>GET /_matrix/client/v3/messages</code> to allow requesting events from the start or end of the room history, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3567">MSC3567</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1002">#1002</a>)</li>
<li>Add refresh tokens, per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2918">MSC2918</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1056">#1056</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1113">#1113</a>)</li>
<li>Relax the restrictions on Rich Replies, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3676">MSC3676</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1062">#1062</a>)</li>
<li>Describe a structured system for event relationships, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2674">MSC2674</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1062">#1062</a>)</li>
<li>Describe how relationships between events can be "aggregated", as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2675">MSC2675</a> and <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3666">MSC3666</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1062">#1062</a>)</li>
<li>Add support for a new <code>knock_restricted</code> join rule in supported room versions, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3787">MSC3787</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1099">#1099</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Clarify that the url field in <code>m.room.avatar</code> events is not required. (<a href="https://github.com/matrix-org/matrix-spec/issues/987">#987</a>)</li>
<li>Clarify that the <code>type</code> in user-interactive authentication can be omitted. (<a href="https://github.com/matrix-org/matrix-spec/issues/989">#989</a>)</li>
<li>Adjust the OpenAPI specification so that the type <code>Flow information</code> is explicitly defined when the client-server API is rendered. (<a href="https://github.com/matrix-org/matrix-spec/issues/1003">#1003</a>)</li>
<li>Correct the default value for <code>invite</code> where it is not specified in an <code>m.room.power_levels</code> event. (<a href="https://github.com/matrix-org/matrix-spec/issues/1021">#1021</a>)</li>
<li>Update various links which pointed to the old <code>matrix-doc</code> github repository. (<a href="https://github.com/matrix-org/matrix-spec/issues/1032">#1032</a>)</li>
<li>Removed <code>m.room.message.feedback</code> per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3582">MSC3582</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1035">#1035</a>)</li>
<li>Fix various typos throughout the specification. (<a href="https://github.com/matrix-org/matrix-spec/issues/1051">#1051</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1054">#1054</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1059">#1059</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1081">#1081</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1097">#1097</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1110">#1110</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1115">#1115</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1126">#1126</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1127">#1127</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1128">#1128</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1129">#1129</a>, <a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3681">#3681</a>, <a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3708">#3708</a>)</li>
<li>Clarify that state keys starting with <code>@</code> are in fact reserved. Regressed from <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3658">#3658</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1100">#1100</a>)</li>
<li>Remove unenforced size limit on the <code>name</code> field of <code>m.room.name</code> events. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3669">#3669</a>)</li>
<li>Remove erroneous <code>room_id</code> field from examples of <code>m.read</code>, <code>m.typing</code> in <code>/sync</code> and <code>m.fully_read</code> in room account data. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3679">#3679</a>)</li>
<li>Clarify the behaviour of <code>event_match</code> in push rule conditions. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3690">#3690</a>)</li>
<li>Fix incorrectly referenced <code>m.login.appservice</code> login identifier, instead using <code>m.login.application_service</code>. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3711">#3711</a>)</li>
<li>Fix membership state transitions to denote that <code>invite-&gt;knock</code> and <code>external-&gt;leave</code> are valid transitions. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3730">#3730</a>)</li>
</ul>
<h3 id="server-server-api">Server-Server API</h3>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Add a <code>destination</code> property to the Authorization header, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3383">MSC3383</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1067">#1067</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Remove largely unused <code>origin</code> field from PDUs. (<a href="https://github.com/matrix-org/matrix-spec/issues/998">#998</a>)</li>
<li>Update various links which pointed to the old <code>matrix-doc</code> github repository. (<a href="https://github.com/matrix-org/matrix-spec/issues/1032">#1032</a>)</li>
<li>Clarify the format for the Authorization header. (<a href="https://github.com/matrix-org/matrix-spec/issues/1038">#1038</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1067">#1067</a>)</li>
<li>Clarify what a "valid event" means when performing checks on a received PDU. (<a href="https://github.com/matrix-org/matrix-spec/issues/1045">#1045</a>)</li>
<li>Clarify that <code>valid_until_ts</code> is in milliseconds, like other timestamps used in Matrix. (<a href="https://github.com/matrix-org/matrix-spec/issues/1055">#1055</a>)</li>
<li>Clarify that checks on PDUs should refer to the state <em>before</em> an event. (<a href="https://github.com/matrix-org/matrix-spec/issues/1070">#1070</a>)</li>
<li>Clarify the historical handling of non-integer power levels. (<a href="https://github.com/matrix-org/matrix-spec/issues/1099">#1099</a>)</li>
<li>Fix various typos throughout the specification. (<a href="https://github.com/matrix-org/matrix-spec/issues/1110">#1110</a>)</li>
<li>Correct misleading text for <code>/send_join</code> response. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3703">#3703</a>)</li>
<li>Clarify that the <code>content</code> for <code>X-Matrix</code> signature validation is the parsed JSON body. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3727">#3727</a>)</li>
</ul>
<h3 id="application-service-api">Application Service API</h3>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Add timestamp massaging as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3316">MSC3316</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1094">#1094</a>)</li>
</ul>
<h3 id="identity-service-api">Identity Service API</h3>
<p>No significant changes.</p>
<h3 id="push-gateway-api">Push Gateway API</h3>
<p>No significant changes.</p>
<h3 id="room-versions">Room Versions</h3>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Add room version 10 as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3604">MSC3604</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1099">#1099</a>)</li>
<li>Enforce integer power levels in room version 10 as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3667">MSC3667</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1099">#1099</a>)</li>
<li>Add a <code>knock_restricted</code> join rule supported by room version 10 as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3787">MSC3787</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1099">#1099</a>)</li>
<li>Update the default room version to 9 as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3589">MSC3589</a>. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3739">#3739</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Improve readability and understanding of the state resolution algorithms. (<a href="https://github.com/matrix-org/matrix-spec/issues/1037">#1037</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1042">#1042</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1043">#1043</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1120">#1120</a>)</li>
<li>Improve readability of the authorization rules. (<a href="https://github.com/matrix-org/matrix-spec/issues/1050">#1050</a>)</li>
<li>For room versions 8, 9, and 10: clarify which homeserver is required to sign the join event. (<a href="https://github.com/matrix-org/matrix-spec/issues/1093">#1093</a>)</li>
<li>Clarify that room versions 1 through 9 accept stringy power levels, as noted by <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3667">MSC3667</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1099">#1099</a>)</li>
<li>For all room versions: Add <code>m.federate</code> to the authorization rules, as originally intended. (<a href="https://github.com/matrix-org/matrix-spec/issues/1103">#1103</a>)</li>
<li>For room versions 2 through 10: More explicitly define the mainline of a power event and the mainline ordering of other events. (<a href="https://github.com/matrix-org/matrix-spec/issues/1107">#1107</a>)</li>
<li>For room versions 7, 8, 9, and 10: fix join membership authorization rules when <code>join_rule</code> is <code>knock</code>. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3737">#3737</a>)</li>
</ul>
<h3 id="appendices">Appendices</h3>
<p>No significant changes.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;05&#x2F;18&#x2F;synapse-1-59-released&#x2F;" title="Synapse 1.59 released">Synapse 1.59 released</a></h2>
                <span>
                    18.05.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.59.0">Synapse 1.59</a> is
out! Let's see what's new in this version.</p>
<h2 id="generic-worker-types">Generic worker types</h2>
<p>When Synapse instances are subject to high load, it can be useful to use workers
to balance the load more effectively. Workers are separate processes that can
take some of the load off the main Synapse process, and allow the homeserver to
scale more effectively.</p>
<p>In the past, Synapse only provided a specific set of types of workers, each
capable of handling a specific set of operations. For some time now we have been
working on allowing more flexibility around worker configuration, which started
all the way back in <a href="https://matrix.org/blog/2020/03/23/synapse-1-12-0-released">Synapse
1.12.0</a> with the
introduction of a generic worker application type.</p>
<p>Synapse 1.59 furthers this work by deprecating the <code>synapse.app.appservice</code> and
<code>synapse.app.user_dir</code> worker application types. Homeserver administrators
should change the configuration of instances using these types to the generic
<code>synapse.app.generic_worker</code> application type, and use the
<code>notify_appservices_from_worker</code> and <code>update_user_directory_from_worker</code> to
delegate application service and user directory work (respectively) to a worker.</p>
<p>See the <a href="https://matrix-org.github.io/synapse/v1.59/upgrade.html#deprecation-of-the-synapseappappservice-and-synapseappuser_dir-worker-application-types">upgrade
notes</a>
for more information on this change.</p>
<h2 id="push-rules">Push rules</h2>
<p>Push rules allow Matrix clients to define notification rules on a homeserver.
One often reported issue with notification in Matrix is the fact that
notifications are sent out when server ACLs, which define which server(s) can
and cannot interact in a room, change. This is especially annoying during big
waves of abuse, as there might be multiple servers that need to be banned from
rooms, thus causing a lot of unneeded notifications.</p>
<p>Synapse 1.59 now supports silencing server ACL updates, by implementing the new
push rule documented in
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3786">MSC3786</a>.
However, since this MSC hasn't been incorporated into the spec yet, this
behaviour is disabled by default in Synapse: see <a href="https://github.com/matrix-org/synapse/pull/12601">the implementation pull
request</a> for more information
on turning it on.</p>
<p>Synapse 1.59 also allows third-party modules to validate and change the actions
associated with an existing push rule via the <a href="https://github.com/matrix-org/synapse/blob/d24a1486e5c5d69a8798a9d159fd9e06dfc8c3e3/synapse/module_api/__init__.py#L1360-L1420">Module
API</a>.
This is helpful for modules wishing to, for example, configuring specific
notification settings when new users register.</p>
<h2 id="everything-else">Everything else</h2>
<p>As of Synapse 1.59, Synapse will not communicate the name of devices over
federation (unless configured otherwise), in order to better preserve user
privacy. See the <a href="https://matrix-org.github.io/synapse/v1.59/upgrade.html#device-name-lookup-over-federation-has-been-disabled-by-default">upgrade
notes</a>
for more information.</p>
<p>Also note that we have issued a patch release for 1.59 (1.59.1) which fixes a
long-standing bug that started to bite a good amount of server administrators.
Server admins that are looking into upgrading their instance to Synapse 1.59 are
recommended to upgrade to 1.59.1 rather than 1.59.0.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.59.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.59/upgrade#upgrading-to-v1590">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, <a href="https://github.com/SimonBrandner">Šimon
Brandner</a>,
<a href="https://github.com/henryclw">henryclw</a> and <a href="https://github.com/andrewdoh">Andrew
Do</a>.</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;category&#x2F;releases&#x2F;page&#x2F;2&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">3 / 15</span>
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;category&#x2F;releases&#x2F;page&#x2F;4&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;support">Donate</a>
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org">Shop</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org" rel="me"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;" rel="me"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix" rel="me"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg" rel="me"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w" rel="me"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
            <a href="&#x2F;atom.xml" rel="me"><img src="/assets/rss.svg" alt="RSS"></a>
            
        </div>
    </div>
    <p><a href="/legal/copyright-notice">Copyright Notice</a></p>
</footer>

</body>

</html>
