<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
    <title>Matrix.org - Releases</title>
    <subtitle>The Matrix.org Foundation</subtitle>
    <link href="https://tune-your-chat.github.io/category/releases/atom.xml" rel="self" type="application/atom+xml"/>
    <link href="https://tune-your-chat.github.io"/>
    <generator uri="https://www.getzola.org/">Zola</generator>
    <updated>2024-06-20T16:52:27+00:00</updated>
    <id>https://tune-your-chat.github.io/category/releases/atom.xml</id>
    
    
    
    
<entry xml:lang="en">
    <title>Matrix v1.11 release</title>
    <published>2024-06-20T16:52:27+00:00</published>
    <updated>2024-06-20T16:52:27+00:00</updated>
    <author>
      <name>Travis Ralston</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2024/06/20/matrix-v1.11-release/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2024/06/20/matrix-v1.11-release/</id>
    <content type="html">&lt;p&gt;Hey all,&lt;&#x2F;p&gt;
&lt;p&gt;We’ve just released the milestone &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;&quot;&gt;Matrix 1.11&lt;&#x2F;a&gt; update for the protocol. It’s been almost exactly 3 months since the last release, &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2024&#x2F;03&#x2F;22&#x2F;matrix-v1.10-release&#x2F;&quot;&gt;Matrix 1.10&lt;&#x2F;a&gt;, keeping us on track for our once-a-quarter release schedule.&lt;&#x2F;p&gt;
&lt;p&gt;There are 9 MSCs released in Matrix 1.11 today, but there’s one specific MSC we’d like to draw your attention to: &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3916&quot;&gt;MSC3916 - Authenticated Media&lt;&#x2F;a&gt;. Until today, Matrix had a design flaw which allows a user to access media unauthenticated if they knew the URL. This has been used to share files in social media posts, link images outside of chats, and generally imply that a homeserver is a CDN for the internet. Some of these use cases are legitimate, though many are not. This is fixed with &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3916&quot;&gt;MSC3916&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;This post covers &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3916&quot;&gt;MSC3916&lt;&#x2F;a&gt; and its implementation guidelines in more detail, but the full changelog for Matrix 1.11 is available at the end, as always.&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=&quot;msc3916-authenticated-media&quot;&gt;MSC3916: Authenticated Media&lt;&#x2F;h2&gt;
&lt;p&gt;The Trust &amp;amp; Safety team has been hard at work fixing the design flaw in media mentioned above, taking &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3916&quot;&gt;MSC3916&lt;&#x2F;a&gt; under their wing and bringing it to release here. The goal has been to roll out the feature as fast as possible, and that’s culminated in the following plan after consultations with us on the Spec Core Team.&lt;&#x2F;p&gt;
&lt;p&gt;Servers are encouraged to &lt;em&gt;freeze&lt;&#x2F;em&gt; unauthenticated media access (i.e. only allow historical media to be accessed without auth) &lt;em&gt;before&lt;&#x2F;em&gt; Matrix 1.12 is released, which we anticipate will happen in about August 2024. Any media which is cached or uploaded before that freeze will remain accessible on the unauthenticated endpoints indefinitely to avoid breaking existing links in social media, external chats, etc. Media which is cached or uploaded after the freeze takes place will only be accessible through the new authenticated endpoints - callers will receive a 404 error on the unauthenticated side.&lt;&#x2F;p&gt;
&lt;p&gt;The MSC has a bit more detail about the side effects of this approach, and more on the considerations leading to this proposed plan. Implementations might choose to support a config flag to enable&#x2F;disable the freeze as needed, or simply release a version which freezes unauthenticated media on startup. Either are effective approaches for improving user safety and privacy.&lt;&#x2F;p&gt;
&lt;p&gt;Each homeserver should additionally consider its local ecosystem before freezing unauthenticated media by ensuring bridges and the popular clients among users are ready for authenticated media in particular. Ideally, users should see no visible impact to this change being rolled out. To help encourage this, the matrix.org homeserver will be rolling out authenticated media relatively quickly itself - watch for news on the blog next week for specific timelines.&lt;&#x2F;p&gt;
&lt;p&gt;Client and server developers are encouraged to support authenticated media as soon as they can to help server admins make the switch. Servers have a bit more work to do than clients, unfortunately, but both should have a reasonably easy time adding in the relevant support. The T&amp;amp;S team have made themselves available in &lt;a href=&quot;https:&#x2F;&#x2F;matrix.to&#x2F;#&#x2F;#matrix-client-developers:matrix.org&quot;&gt;#matrix-client-developers:matrix.org&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;matrix.to&#x2F;#&#x2F;#matrix-homeserver-developers:matrix.org&quot;&gt;#matrix-homeserver-developers:matrix.org&lt;&#x2F;a&gt; to help developers implement this new feature - feel free to visit the respective room for your project and ask questions.&lt;&#x2F;p&gt;
&lt;p&gt;Below is some implementation guidance for developers, though is not a replacement for the &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#content-repository&quot;&gt;spec&lt;&#x2F;a&gt;. Where this post and the spec differ, please prefer the spec. :)&lt;&#x2F;p&gt;
&lt;h3 id=&quot;client-implementation-guidance&quot;&gt;Client implementation guidance&lt;&#x2F;h3&gt;
&lt;p&gt;Thankfully, supporting authenticated media should be relatively trivial for most clients. When the homeserver declares support for Matrix 1.11 through &lt;code&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#get_matrixclientversions&quot;&gt;&#x2F;versions&lt;&#x2F;a&gt;&lt;&#x2F;code&gt;, the client should use the new &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#content-repo-client-behaviour&quot;&gt;&lt;code&gt;&#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;media&#x2F;*&lt;&#x2F;code&gt; endpoints&lt;&#x2F;a&gt;, noting that they now require authentication. The user’s access token can be supplied using the &lt;code&gt;Authorization&lt;&#x2F;code&gt; header. (Note that using the query string &lt;code&gt;?access_token&lt;&#x2F;code&gt; method is not recommended, and &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#using-access-tokens&quot;&gt;deprecated&lt;&#x2F;a&gt; in Matrix 1.11 for all endpoints.)&lt;&#x2F;p&gt;
&lt;p&gt;If the server &lt;em&gt;doesn’t&lt;&#x2F;em&gt; support Matrix 1.11, the existing &lt;code&gt;&#x2F;_matrix&#x2F;media&#x2F;*&lt;&#x2F;code&gt; endpoints should continue to be used.&lt;&#x2F;p&gt;
&lt;p&gt;This may end up looking something like the following in a client:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span&gt;specVersions = doRequest(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;#39;GET&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;#39;&#x2F;_matrix&#x2F;client&#x2F;versions&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, accessToken);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(specVersions.versions.includes(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;v1.11&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;doRequest(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;#39;GET&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;`&#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;media&#x2F;download&#x2F;${&lt;&#x2F;span&gt;&lt;span&gt;serverName&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;}&#x2F;${&lt;&#x2F;span&gt;&lt;span&gt;mediaId&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;}`&lt;&#x2F;span&gt;&lt;span&gt;, accessToken);
&lt;&#x2F;span&gt;&lt;span&gt;} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;doRequest(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;#39;GET&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;`&#x2F;_matrix&#x2F;media&#x2F;v3&#x2F;download&#x2F;${&lt;&#x2F;span&gt;&lt;span&gt;serverName&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;}&#x2F;${&lt;&#x2F;span&gt;&lt;span&gt;mediaId&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;}`&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Clients which rely on a web browser may have to use a &lt;a href=&quot;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;Service_Worker_API&quot;&gt;Service Worker&lt;&#x2F;a&gt; to append the required header, particularly for &lt;code&gt;img&lt;&#x2F;code&gt; tags and similar.&lt;&#x2F;p&gt;
&lt;p&gt;Clients should additionally note that, as well as &lt;code&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#get_matrixclientv1mediadownloadservernamemediaid&quot;&gt;&#x2F;_matrix&#x2F;media&#x2F;v3&#x2F;download&#x2F;{serverName}&#x2F;{mediaId}&lt;&#x2F;a&gt;&lt;&#x2F;code&gt;, the following other endpoints have moved to the &lt;code&gt;&#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;media&#x2F;*&lt;&#x2F;code&gt; namespace:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#get_matrixclientv1mediapreview_url&quot;&gt;GET &#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;media&#x2F;preview_url&lt;&#x2F;a&gt;&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#get_matrixclientv1mediaconfig&quot;&gt;GET &#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;media&#x2F;config&lt;&#x2F;a&gt;&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#get_matrixclientv1mediathumbnailservernamemediaid&quot;&gt;GET &#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;media&#x2F;thumbnail&#x2F;{serverName}&#x2F;{mediaId}&lt;&#x2F;a&gt;&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#get_matrixclientv1mediadownloadservernamemediaidfilename&quot;&gt;GET &#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;media&#x2F;download&#x2F;{serverName}&#x2F;{mediaId}&#x2F;{fileName}&lt;&#x2F;a&gt;&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;The media &lt;code&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#post_matrixmediav3upload&quot;&gt;&#x2F;upload&lt;&#x2F;a&gt;&lt;&#x2F;code&gt;, &lt;code&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#put_matrixmediav3uploadservernamemediaid&quot;&gt;&#x2F;upload&#x2F;{serverName}&#x2F;{mediaId}&lt;&#x2F;a&gt;&lt;&#x2F;code&gt;, and &lt;code&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#post_matrixmediav1create&quot;&gt;&#x2F;create&lt;&#x2F;a&gt;&lt;&#x2F;code&gt; endpoints have not yet moved; they are expected to make the switch in a future spec version.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;server-implementation-guidance&quot;&gt;Server implementation guidance&lt;&#x2F;h3&gt;
&lt;p&gt;As mentioned above, servers are a bit more tricky. The Client-Server API endpoints are relatively straightforward: they are the exact same as the previous endpoints, just with authentication added and at a new path. The Federation API endpoints are a bit more challenging. Most server projects have already started implementation, but for those which haven’t (or need a bit of guidance), there’s some information &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;docs&#x2F;spec-guides&#x2F;authed-media-servers&#x2F;&quot;&gt;here&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Server authors are also encouraged to review the client guidance above to gain a better understanding of what their connected clients will be looking for and doing.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;up-next-in-matrix-1-12-and-beyond&quot;&gt;Up next in Matrix 1.12 and beyond&lt;&#x2F;h2&gt;
&lt;p&gt;Over the next 2-3 months, we’ll be focusing on the following MSCs:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Early review of Matrix 2.0 features as they become ready.
&lt;ul&gt;
&lt;li&gt;Sliding sync - &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3575&quot;&gt;MSC3575&lt;&#x2F;a&gt;, or its Simplified variation, and applicable extensions.&lt;&#x2F;li&gt;
&lt;li&gt;Group VoIP - Exact MSCs to be determined, as they may change following implementation.&lt;&#x2F;li&gt;
&lt;li&gt;OIDC Authentication - primarily &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3861&quot;&gt;MSC3861&lt;&#x2F;a&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;Encryption stability - primarily &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4153&quot;&gt;MSC4153&lt;&#x2F;a&gt;.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Pre-implementation review of Trust &amp;amp; Safety MSCs as required.
&lt;ul&gt;
&lt;li&gt;Exact MSCs to be determined. Likely to include some “reporting v2” work.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Extensible Events and Custom Emoji&#x2F;Stickers unblocking as required and able.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Additionally, we’ll be continuing to define the expectations of a Spec Core Team member, particularly as it relates to the Governing Board of the Foundation. This exercise has been extremely valuable to us so far, and will help identify areas the Foundation and SCT may need support from each other.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-full-changelog&quot;&gt;The full changelog&lt;&#x2F;h2&gt;
&lt;p&gt;Read on for full details of what’s in Matrix 1.11:&lt;&#x2F;p&gt;
&lt;h3 id=&quot;client-server-api&quot;&gt;Client-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Deprecations&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Authentication using a query string is now deprecated, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;issues&#x2F;4126&quot;&gt;MSC4126&lt;&#x2F;a&gt;. The &lt;code&gt;Authorization&lt;&#x2F;code&gt; header should be used instead. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1808&quot;&gt;#1808&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Use of the &lt;code&gt;&#x2F;_matrix&#x2F;media&#x2F;*&lt;&#x2F;code&gt; endpoints is now deprecated. New, authenticated, endpoints are available instead. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1858&quot;&gt;#1858&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;New Endpoints&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#get_matrixclientv1mediaconfig&quot;&gt;&lt;code&gt;GET &#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;media&#x2F;config&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1858&quot;&gt;#1858&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#get_matrixclientv1mediadownloadservernamemediaid&quot;&gt;&lt;code&gt;GET &#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;media&#x2F;download&#x2F;{serverName}&#x2F;{mediaId}&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1858&quot;&gt;#1858&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#get_matrixclientv1mediadownloadservernamemediaidfilename&quot;&gt;&lt;code&gt;GET &#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;media&#x2F;download&#x2F;{serverName}&#x2F;{mediaId}&#x2F;{fileName}&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1858&quot;&gt;#1858&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#get_matrixclientv1mediapreview_url&quot;&gt;&lt;code&gt;GET &#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;media&#x2F;preview_url&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1858&quot;&gt;#1858&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;client-server-api&#x2F;#get_matrixclientv1mediathumbnailservernamemediaid&quot;&gt;&lt;code&gt;GET &#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;media&#x2F;thumbnail&#x2F;{serverName}&#x2F;{mediaId}&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1858&quot;&gt;#1858&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add support for muting in VoIP calls, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3291&quot;&gt;MSC3291&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1755&quot;&gt;#1755&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add optional &lt;code&gt;animated&lt;&#x2F;code&gt; query string option to &lt;code&gt;GET &#x2F;thumbnail&lt;&#x2F;code&gt;, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2705&quot;&gt;MSC2705&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1757&quot;&gt;#1757&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Specify terms of services at registration, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;1692&quot;&gt;MSC1692&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1812&quot;&gt;#1812&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add support for mathematical messages, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2191&quot;&gt;MSC2191&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1816&quot;&gt;#1816&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Do not require UIA when first uploading cross-signing keys, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3967&quot;&gt;MSC3967&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1828&quot;&gt;#1828&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add the new &lt;code&gt;unsigned.membership&lt;&#x2F;code&gt; property to events, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4115&quot;&gt;MSC4115&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1847&quot;&gt;#1847&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Media downloads and thumbnails are now authenticated, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3916&quot;&gt;MSC3916&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1858&quot;&gt;#1858&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Some media endpoints are now consistently under &lt;code&gt;&#x2F;_matrix&#x2F;client&#x2F;{version}&#x2F;media&#x2F;*&lt;&#x2F;code&gt; instead of &lt;code&gt;&#x2F;_matrix&#x2F;media&#x2F;*&lt;&#x2F;code&gt;, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3916&quot;&gt;MSC3916&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1858&quot;&gt;#1858&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add &lt;code&gt;&#x2F;logout&lt;&#x2F;code&gt; and clarify the endpoints which do not take a JSON request body. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1644&quot;&gt;#1644&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that the &lt;code&gt;type&lt;&#x2F;code&gt; of the &lt;code&gt;POST &#x2F;login&lt;&#x2F;code&gt; request must be one of the types returned by the &lt;code&gt;GET &#x2F;login&lt;&#x2F;code&gt; response. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1776&quot;&gt;#1776&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Link to existing grammar where possible in types. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1813&quot;&gt;#1813&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Rename &quot;recovery key&quot; to &quot;backup decryption key&quot;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1819&quot;&gt;#1819&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that the device&#x27;s Ed25519 signing key should be used in QR code verification (as opposed to the device&#x27;s Curve25519 identity key). (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1829&quot;&gt;#1829&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1832&quot;&gt;#1832&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1841&quot;&gt;#1841&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1852&quot;&gt;#1852&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1853&quot;&gt;#1853&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Specify the encoding to be used when generating QR codes for device verification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1839&quot;&gt;#1839&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that an access token is optional on the &lt;code&gt;POST &#x2F;account&#x2F;password&lt;&#x2F;code&gt; and &lt;code&gt;POST &#x2F;account&#x2F;deactivate&lt;&#x2F;code&gt; endpoints. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1843&quot;&gt;#1843&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Use RFC 2119 keywords more consistently. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1846&quot;&gt;#1846&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1861&quot;&gt;#1861&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Move size limits for user, room and event IDs into the appendix and clarify that the length is to be measured in bytes. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1850&quot;&gt;#1850&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that relations recursion should be capped at a certain depth. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1854&quot;&gt;#1854&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add missing secrets, third-party invites and room tagging modules to feature profiles table. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1860&quot;&gt;#1860&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify when server name is used and link to the definition. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1862&quot;&gt;#1862&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify where keys reside when checking an &lt;code&gt;m.room.encrypted&lt;&#x2F;code&gt; event. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1863&quot;&gt;#1863&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that &lt;code&gt;&#x2F;media&#x2F;v3&#x2F;upload&#x2F;{serverName}&#x2F;{mediaId}&lt;&#x2F;code&gt; requires authentication. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1872&quot;&gt;#1872&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;server-server-api&quot;&gt;Server-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Deprecations&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Use of the Client-Server API &lt;code&gt;&#x2F;_matrix&#x2F;media&#x2F;*&lt;&#x2F;code&gt; endpoints is now deprecated. New, authenticated, endpoints are available instead. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1858&quot;&gt;#1858&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;New Endpoints&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;server-server-api&#x2F;#get_matrixfederationv1mediadownloadmediaid&quot;&gt;&lt;code&gt;GET &#x2F;_matrix&#x2F;federation&#x2F;v1&#x2F;media&#x2F;download&#x2F;{mediaId}&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1858&quot;&gt;#1858&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.11&#x2F;server-server-api&#x2F;#get_matrixfederationv1mediathumbnailmediaid&quot;&gt;&lt;code&gt;GET &#x2F;_matrix&#x2F;federation&#x2F;v1&#x2F;media&#x2F;thumbnail&#x2F;{mediaId}&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1858&quot;&gt;#1858&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Media downloads and thumbnails are now authenticated, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3916&quot;&gt;MSC3916&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1858&quot;&gt;#1858&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1869&quot;&gt;#1869&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Link to existing grammar where possible in types. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1813&quot;&gt;#1813&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that whitespace around commas is allowed in the &lt;code&gt;X-Matrix&lt;&#x2F;code&gt; &lt;code&gt;Authorization&lt;&#x2F;code&gt; header value params list. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1818&quot;&gt;#1818&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that the &lt;code&gt;event&lt;&#x2F;code&gt; field of the &lt;code&gt;&#x2F;v2&#x2F;send_join&lt;&#x2F;code&gt; response is only required when the event is signed by the resident server. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1834&quot;&gt;#1834&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1840&quot;&gt;#1840&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Replace references to RFC 7235 and RFC 7230 that are obsoleted by RFC 9110. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1844&quot;&gt;#1844&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1877&quot;&gt;#1877&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;application-service-api&quot;&gt;Application Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Clarify that appservices should be notified of events relating to the &lt;code&gt;sender_localpart&lt;&#x2F;code&gt; user. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1810&quot;&gt;#1810&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;identity-service-api&quot;&gt;Identity Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Deprecations&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Authentication using a query string is now deprecated, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;issues&#x2F;4126&quot;&gt;MSC4126&lt;&#x2F;a&gt;. The &lt;code&gt;Authorization&lt;&#x2F;code&gt; header should be used instead. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1808&quot;&gt;#1808&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;push-gateway-api&quot;&gt;Push Gateway API&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;room-versions&quot;&gt;Room Versions&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Clarify that redaction events are still subject to all applicable auth rules. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1824&quot;&gt;#1824&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1827&quot;&gt;#1827&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1848&quot;&gt;#1848&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix the rendering of the event format for room versions 1 and 2. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1883&quot;&gt;#1883&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Generate the Table of Contents with Hugo rather than JavaScript. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1884&quot;&gt;#1884&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;appendices&quot;&gt;Appendices&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Deprecations&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Deprecate linking to events in rooms identified by alias, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4132&quot;&gt;MSC4132&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1823&quot;&gt;#1823&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Define &#x27;Opaque Identifier Grammar&#x27;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1791&quot;&gt;#1791&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Define common cryptographic key representation. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1819&quot;&gt;#1819&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Move size limits for user, room and event IDs into the appendix and clarify that the length is to be measured in bytes. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1850&quot;&gt;#1850&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;internal-changes-tooling&quot;&gt;Internal Changes&#x2F;Tooling&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Update the spec release process and related documentation. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1759&quot;&gt;#1759&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix npm release script for &lt;code&gt;@matrix-org&#x2F;spec&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1765&quot;&gt;#1765&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Formatting fixes in &lt;code&gt;CONTRIBUTING.rst&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1769&quot;&gt;#1769&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Improve rendering on mobile devices. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1770&quot;&gt;#1770&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1771&quot;&gt;#1771&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix the OpenAPI definition of the security schemes. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1772&quot;&gt;#1772&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Simplify uses of &lt;code&gt;resolve-refs&lt;&#x2F;code&gt; partial. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1773&quot;&gt;#1773&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix Hugo warnings. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1775&quot;&gt;#1775&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1788&quot;&gt;#1788&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix &lt;code&gt;github-labels.rst&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1781&quot;&gt;#1781&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update dependencies. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1786&quot;&gt;#1786&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1803&quot;&gt;#1803&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1804&quot;&gt;#1804&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Solve &lt;code&gt;allOf&lt;&#x2F;code&gt; recursively in OpenAPI and JSON Schemas. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1787&quot;&gt;#1787&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix property type resolution in &lt;code&gt;render-object-table&lt;&#x2F;code&gt; partial. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1789&quot;&gt;#1789&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Factor out common definition of &lt;code&gt;Tag&lt;&#x2F;code&gt; type. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1793&quot;&gt;#1793&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update the version of Hugo used to render the spec to v0.124.1. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1794&quot;&gt;#1794&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add support for pattern formats for &lt;code&gt;patternProperties&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1796&quot;&gt;#1796&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clean up unnecessary &lt;code&gt;allOf&lt;&#x2F;code&gt;s in OpenAPI definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1797&quot;&gt;#1797&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Show information about &quot;Additional Properties&quot; in object tables. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1798&quot;&gt;#1798&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix anchors for schemas under &lt;code&gt;oneOf&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1799&quot;&gt;#1799&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Use reference to &lt;code&gt;OneTimeKeys&lt;&#x2F;code&gt; schema in OpenAPI definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1800&quot;&gt;#1800&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Do not use the &lt;code&gt;title&lt;&#x2F;code&gt; of objects containing only &lt;code&gt;additionalProperties&lt;&#x2F;code&gt; or &lt;code&gt;patternProperties&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1801&quot;&gt;#1801&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add anchors in &lt;code&gt;definition&lt;&#x2F;code&gt; shortcode. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1802&quot;&gt;#1802&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Set python version for the Towncrier CI job. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1805&quot;&gt;#1805&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Replace &lt;code&gt;set-output&lt;&#x2F;code&gt; with environment files in CI. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1806&quot;&gt;#1806&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Render response headers. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1809&quot;&gt;#1809&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Use &lt;code&gt;patternProperties&lt;&#x2F;code&gt; in more places with supported formats. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1813&quot;&gt;#1813&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add support for rendering string formats. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1814&quot;&gt;#1814&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Refactor the OpenAPI definitions of the content repository endpoints. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1822&quot;&gt;#1822&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clean up pull request template. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1831&quot;&gt;#1831&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Do not add empty arrays to examples. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1849&quot;&gt;#1849&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Generate the Table of Contents with Hugo rather than JavaScript. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1851&quot;&gt;#1851&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1885&quot;&gt;#1885&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix syntax errors in the spec release issue template. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1856&quot;&gt;#1856&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Use environment variables for Netlify build job. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1865&quot;&gt;#1865&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Render added&#x2F;changed in info on request and response content types. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1876&quot;&gt;#1876&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix validation errors in generated HTML. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1880&quot;&gt;#1880&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Ensure most generated HTML IDs are unique. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1881&quot;&gt;#1881&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Allow to specify a prefix for generated HTML IDs of API endpoints. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1882&quot;&gt;#1882&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Matrix v1.10 release</title>
    <published>2024-03-22T16:52:27+00:00</published>
    <updated>2024-03-22T16:52:27+00:00</updated>
    <author>
      <name>Travis Ralston</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2024/03/22/matrix-v1.10-release/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2024/03/22/matrix-v1.10-release/</id>
    <content type="html">&lt;p&gt;Hey all,&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.10&#x2F;&quot;&gt;Matrix 1.10&lt;&#x2F;a&gt; is here! We aim to release the specification once in each calendar quarter, and with Q1 wrapping up in a few days we’re due for this quarter’s release. It has been 5 months since the last release (&lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2023&#x2F;11&#x2F;29&#x2F;matrix-v1.9-release&#x2F;&quot;&gt;Matrix 1.9&lt;&#x2F;a&gt;) brought in some protocol maintenance for us though, and the implementation teams have been hard at work building the &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2023&#x2F;09&#x2F;matrix-2-0&#x2F;&quot;&gt;Matrix 2.0 stack&lt;&#x2F;a&gt; concurrent to the Matrix 1.10 work released today.&lt;&#x2F;p&gt;
&lt;p&gt;A total of 9 MSCs are released in Matrix 1.10, covering a wide range of maintenance, Matrix 2.0 preparation, and features for clients to use. This post focuses a bit on the Matrix 2.0 front and what’s expected in Matrix 1.11’s release cycle, but read on to the changelog at the bottom for full details on the changes which make up Matrix 1.10.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;msc3077-multi-stream-voip&quot;&gt;MSC3077: Multi-stream VoIP&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;blob&#x2F;main&#x2F;proposals&#x2F;3077-multi-stream-voip.md&quot;&gt;MSC3077&lt;&#x2F;a&gt; and its related proposal &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;blob&#x2F;main&#x2F;proposals&#x2F;3291-muting.md&quot;&gt;MSC3291&lt;&#x2F;a&gt; (muting in VoIP calls) lay some foundational groundwork for proper group VoIP to land in Matrix - an objective of Matrix 2.0. Currently this is taking shape at &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3898&quot;&gt;MSC3898&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3401&quot;&gt;MSC3401&lt;&#x2F;a&gt;, though Element’s VoIP team is considering a possible third alternative which runs &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3401&quot;&gt;MSC3401&lt;&#x2F;a&gt; over something like LiveKit’s SFU - stay tuned for updates there. In the meantime, users in native 1:1 calls can enjoy proper screen sharing and mute capabilities ahead of the 1:N call support later this year.&lt;&#x2F;p&gt;
&lt;p&gt;As always, early review is appreciated though please note that &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3898&quot;&gt;MSC3898&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3401&quot;&gt;MSC3401&lt;&#x2F;a&gt; are particularly in flux at the moment.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;up-next-in-matrix-1-11-and-beyond&quot;&gt;Up next in Matrix 1.11 and beyond&lt;&#x2F;h2&gt;
&lt;p&gt;Over the next 2-3 months, we’ll be focusing on the following MSCs:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Trust &amp;amp; Safety improvements (at the protocol level).
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;issues&#x2F;3823&quot;&gt;MSC3823&lt;&#x2F;a&gt; - Account suspension&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;issues&#x2F;3939&quot;&gt;MSC3939&lt;&#x2F;a&gt; - Account locking&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;issues&#x2F;3916&quot;&gt;MSC3916&lt;&#x2F;a&gt; - Authentication for media (time permitting)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;issues&#x2F;4117&quot;&gt;MSC4117&lt;&#x2F;a&gt; - Reversible redactions (pre-implementation review)&lt;&#x2F;li&gt;
&lt;li&gt;MSCs around a “reporting v2” flow in light of various legislation and compliance requirements. These MSCs are currently being written and should be up for pre-implementation review within the Matrix 1.11 cycle.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Early review of Matrix 2.0 features as they become ready.
&lt;ul&gt;
&lt;li&gt;Sliding sync (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3575&quot;&gt;MSC3575&lt;&#x2F;a&gt;) + applicable extensions.&lt;&#x2F;li&gt;
&lt;li&gt;Group VoIP - Exact MSCs to be determined, as they may change following implementation.&lt;&#x2F;li&gt;
&lt;li&gt;OIDC Authentication - Exact MSCs to be determined.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Pre-implementation review of &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;blob&#x2F;main&#x2F;proposals&#x2F;1767-extensible-events.md&quot;&gt;Extensible Events&lt;&#x2F;a&gt; core content blocks MSCs.
&lt;ul&gt;
&lt;li&gt;Many of these MSCs require updates before they are ready for formal review.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-doc&#x2F;pull&#x2F;3954&quot;&gt;MSC3954&lt;&#x2F;a&gt; - Emotes&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-doc&#x2F;pull&#x2F;3955&quot;&gt;MSC3955&lt;&#x2F;a&gt; - Notices &#x2F; automated events&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-doc&#x2F;pull&#x2F;3927&quot;&gt;MSC3927&lt;&#x2F;a&gt; - Audio&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-doc&#x2F;pull&#x2F;3551&quot;&gt;MSC3551&lt;&#x2F;a&gt; - Files&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-doc&#x2F;pull&#x2F;3552&quot;&gt;MSC3552&lt;&#x2F;a&gt; - Images and Stickers&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-doc&#x2F;pull&#x2F;3553&quot;&gt;MSC3553&lt;&#x2F;a&gt; - Videos&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Additionally, we’ll be continuing to define the expectations of a Spec Core Team member, particularly as it relates to the upcoming Governing Board for the Foundation. This exercise has been extremely valuable to us so far, and will help identify areas the Foundation and SCT may need support from each other.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-full-changelog&quot;&gt;The full changelog&lt;&#x2F;h2&gt;
&lt;p&gt;Read on for full details of what’s in Matrix 1.10:&lt;&#x2F;p&gt;
&lt;h3 id=&quot;client-server-api&quot;&gt;Client-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Allow &lt;code&gt;&#x2F;versions&lt;&#x2F;code&gt; to optionally accept authentication, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4026&quot;&gt;MSC4026&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1728&quot;&gt;#1728&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add local erasure requests, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4025&quot;&gt;MSC4025&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1730&quot;&gt;#1730&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Use the &lt;code&gt;body&lt;&#x2F;code&gt; field as optional media caption, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2530&quot;&gt;MSC2530&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1731&quot;&gt;#1731&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add server support discovery endpoint, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;1929&quot;&gt;MSC1929&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1733&quot;&gt;#1733&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add support for multi-stream VoIP, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3077&quot;&gt;MSC3077&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1735&quot;&gt;#1735&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Specify that the &lt;code&gt;Retry-After&lt;&#x2F;code&gt; header may be used to rate-limit a client, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4041&quot;&gt;MSC4041&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1737&quot;&gt;#1737&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add support for recursion on the &lt;code&gt;GET &#x2F;relations&lt;&#x2F;code&gt; endpoints, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3981&quot;&gt;MSC3981&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1746&quot;&gt;#1746&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;a href=&quot;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;HTML&#x2F;Element&#x2F;strike&quot;&gt;strike&lt;&#x2F;a&gt; element is deprecated in the HTML spec. Clients should prefer &lt;a href=&quot;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;HTML&#x2F;Element&#x2F;s&quot;&gt;s&lt;&#x2F;a&gt; instead. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1629&quot;&gt;#1629&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that read receipts should be batched by thread as well as by room. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1685&quot;&gt;#1685&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that threads can be created based on replies. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1687&quot;&gt;#1687&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify in the reply fallbacks example that the prefix sequence should be repeated for each line. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1690&quot;&gt;#1690&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify the format of account data objects for secret storage. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1695&quot;&gt;#1695&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1734&quot;&gt;#1734&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that the key backup MAC is implemented incorrectly and does not pass the ciphertext through HMAC-SHA-256. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1712&quot;&gt;#1712&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify one-time key and fallback key types in examples. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1715&quot;&gt;#1715&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that the HKDF calculation for SAS uses base64-encoded keys rather than the raw key bytes. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1719&quot;&gt;#1719&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify how to perform the ECDH exchange in step 12 of the SAS process. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1720&quot;&gt;#1720&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Document the deprecation policy of HTML tags, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4077&quot;&gt;MSC4077&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1732&quot;&gt;#1732&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;The &lt;a href=&quot;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;HTML&#x2F;Element&#x2F;font&quot;&gt;font&lt;&#x2F;a&gt; element is deprecated in the HTML spec. Clients should prefer &lt;a href=&quot;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;HTML&#x2F;Element&#x2F;span&quot;&gt;span&lt;&#x2F;a&gt; with the &lt;code&gt;data-mx-bg-color&lt;&#x2F;code&gt; and &lt;code&gt;data-mx-color&lt;&#x2F;code&gt; attributes instead. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1739&quot;&gt;#1739&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Disambiguate uses of &lt;code&gt;PublicRoomsChunk&lt;&#x2F;code&gt; in the &lt;code&gt;GET &#x2F;hierarchy&lt;&#x2F;code&gt; endpoint. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1740&quot;&gt;#1740&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that &lt;code&gt;sdpMid&lt;&#x2F;code&gt; and &lt;code&gt;sdpMLineIndex&lt;&#x2F;code&gt; are not required in &lt;code&gt;m.call.candidates&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1742&quot;&gt;#1742&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1748&quot;&gt;#1748&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clearly indicate that each &lt;code&gt;Content-Type&lt;&#x2F;code&gt; may have distinct behaviour on non-JSON requests&#x2F;responses. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1756&quot;&gt;#1756&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that the &lt;code&gt;m.push_rules&lt;&#x2F;code&gt; account data type cannot be set using the &lt;code&gt;&#x2F;account_data&lt;&#x2F;code&gt; API, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4010&quot;&gt;MSC4010&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1763&quot;&gt;#1763&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;server-server-api&quot;&gt;Server-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Clarify Server-Server API request signing example by using the &lt;code&gt;POST&lt;&#x2F;code&gt; HTTP method, as &lt;code&gt;GET&lt;&#x2F;code&gt; requests don&#x27;t have request bodies. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1721&quot;&gt;#1721&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Disambiguate uses of &lt;code&gt;PublicRoomsChunk&lt;&#x2F;code&gt; in the &lt;code&gt;GET &#x2F;hierarchy&lt;&#x2F;code&gt; endpoint. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1740&quot;&gt;#1740&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that the &lt;code&gt;children_state&lt;&#x2F;code&gt;, &lt;code&gt;room_type&lt;&#x2F;code&gt; and &lt;code&gt;allowed_room_ids&lt;&#x2F;code&gt; properties in the items of the &lt;code&gt;children&lt;&#x2F;code&gt; array of the response of the &lt;code&gt;GET &#x2F;hierarchy&lt;&#x2F;code&gt; endpoint are not required. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1741&quot;&gt;#1741&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;application-service-api&quot;&gt;Application Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Clarify that the &lt;code&gt;&#x2F;login&lt;&#x2F;code&gt; and &lt;code&gt;&#x2F;register&lt;&#x2F;code&gt; endpoints should fail when using the &lt;code&gt;m.login.application_service&lt;&#x2F;code&gt; login type without a valid &lt;code&gt;as_token&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1744&quot;&gt;#1744&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;identity-service-api&quot;&gt;Identity Service API&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;push-gateway-api&quot;&gt;Push Gateway API&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;room-versions&quot;&gt;Room Versions&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;For room versions 7 through 11: Clarify that &lt;code&gt;invite-&amp;gt;knock&lt;&#x2F;code&gt; is not a legal transition. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1717&quot;&gt;#1717&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;appendices&quot;&gt;Appendices&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;internal-changes-tooling&quot;&gt;Internal Changes&#x2F;Tooling&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Update the spec release process. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1680&quot;&gt;#1680&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Minor clarifications to the contributing guide. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1697&quot;&gt;#1697&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update Docsy to v0.8.0. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1699&quot;&gt;#1699&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1762&quot;&gt;#1762&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix npm release script for &lt;code&gt;@matrix-org&#x2F;spec&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1713&quot;&gt;#1713&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add some clarifications around implementation requirements for MSCs. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1718&quot;&gt;#1718&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update HTML templates to include links to object schema definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1724&quot;&gt;#1724&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Factor out all the common parameters of the various &lt;code&gt;&#x2F;relations&lt;&#x2F;code&gt; apis. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1745&quot;&gt;#1745&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add support for &lt;code&gt;$ref&lt;&#x2F;code&gt; URIs containing fragments in OpenAPI definitions and JSON schemas. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1751&quot;&gt;#1751&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1754&quot;&gt;#1754&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Matrix v1.9 release</title>
    <published>2023-11-29T17:44:27+00:00</published>
    <updated>2023-11-29T17:44:27+00:00</updated>
    <author>
      <name>Travis Ralston</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2023/11/29/matrix-v1.9-release/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2023/11/29/matrix-v1.9-release/</id>
    <content type="html">&lt;p&gt;Hey all,&lt;&#x2F;p&gt;
&lt;p&gt;We’ve just pushed out &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.9&#x2F;&quot;&gt;Matrix 1.9&lt;&#x2F;a&gt;! Our last release was &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2023&#x2F;08&#x2F;23&#x2F;matrix-v1.8-release&#x2F;&quot;&gt;Matrix 1.8&lt;&#x2F;a&gt; and brought us a whole new room version. Matrix 1.9 continues a theme of an &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;11&#x2F;17&#x2F;matrix-v-1-5-release&#x2F;&quot;&gt;annual maintenance release&lt;&#x2F;a&gt;, bringing with it mostly clarifications and bug fixes.&lt;&#x2F;p&gt;
&lt;p&gt;Today’s release sees just 1 MSC formally merged to the specification, though this is expected for a maintenance release. For the last 2 months (and beyond), we have largely been focused on changes which haven’t settled enough to be MSCs yet, such as interactions with the More Instant Messaging Interoperability (MIMI) working group at the IETF.&lt;&#x2F;p&gt;
&lt;p&gt;This post covers a lot of what we’ve been up to for the last few months, and what we expect to get done for the Matrix 1.10 release cycle. As always, the full changelog for Matrix 1.9 is at the bottom of the post :)&lt;&#x2F;p&gt;
&lt;h2 id=&quot;messaging-interoperability&quot;&gt;Messaging interoperability&lt;&#x2F;h2&gt;
&lt;p&gt;One of the major features of Matrix is its ability to connect multitudes of messaging providers with a common communications fabric - a feature that is extremely useful in light of the EU’s Digital Markets Act (DMA) which requires gatekeepers to interoperate with other messaging providers.&lt;&#x2F;p&gt;
&lt;p&gt;We’ve been working with the MIMI working group at the IETF to establish a federation protocol for DMA-style messaging alongside our own experiments like &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3995&quot;&gt;MSC3995: Linearized Matrix&lt;&#x2F;a&gt;. The proposed protocol for MIMI is based upon the Linearized Matrix work, but is primarily designed for an MLS-centric environment.&lt;&#x2F;p&gt;
&lt;p&gt;Discussions and experiments will continue over the next several months, and you can read all about our progress so far in &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2023&#x2F;11&#x2F;10&#x2F;this-week-in-matrix-2023-11-10&#x2F;#dept-of-spec-scroll&quot;&gt;TWIM 2023-11-10&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;custom-emoji-stickers&quot;&gt;Custom emoji&#x2F;stickers&lt;&#x2F;h2&gt;
&lt;p&gt;We mentioned in Matrix 1.8’s release that we’d be taking a look at &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2545&quot;&gt;MSC2545&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;1951&quot;&gt;MSC1951&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4027&quot;&gt;MSC4027&lt;&#x2F;a&gt;, and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3892&quot;&gt;MSC3892&lt;&#x2F;a&gt; - a family of MSCs collectively called “custom emoji&#x2F;stickers”. Our review started relatively late in the Matrix 1.9 release cycle (sorry), and we started thinking about interactions with &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3916&quot;&gt;MSC3916&lt;&#x2F;a&gt;&#x2F;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3911&quot;&gt;MSC3911&lt;&#x2F;a&gt; where media is linked to a specific event.&lt;&#x2F;p&gt;
&lt;p&gt;We haven’t had a chance to really dig into the specific possible concerns on these two features overlapping, but do welcome feedback and suggestions for what might impact custom emoji&#x2F;stickers over on our &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1679&quot;&gt;dedicated tracking issue&lt;&#x2F;a&gt;. We’ll continue working through the problem space in the Matrix 1.10 release cycle, and hope to get both linked media and custom emoji&#x2F;stickers up for FCP.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;upcoming-in-matrix-1-10&quot;&gt;Upcoming in Matrix 1.10&lt;&#x2F;h2&gt;
&lt;p&gt;With each release we aim to have a plan for what the next release will look like, giving us a direction or theme to follow. Noting that the next release cycle has a lot of holidays (and FOSDEM) in it, we’ve got an initial list of things to look at, grouped by theme:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Authenticated media
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3916&quot;&gt;MSC3916&lt;&#x2F;a&gt; - Authentication for media&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3911&quot;&gt;MSC3911&lt;&#x2F;a&gt; - Linking media to events&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Custom emoji&#x2F;stickers
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2545&quot;&gt;MSC2545&lt;&#x2F;a&gt; - Image packs&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;1951&quot;&gt;MSC1951&lt;&#x2F;a&gt; - Different style of image packs&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4027&quot;&gt;MSC4027&lt;&#x2F;a&gt; - Images in reactions&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3892&quot;&gt;MSC3892&lt;&#x2F;a&gt; - Encrypted emotes&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4074&quot;&gt;MSC4074&lt;&#x2F;a&gt; - Server-side annotation aggregation&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;issues&#x2F;4048&quot;&gt;MSC4048&lt;&#x2F;a&gt; - Authenticated key backup&lt;&#x2F;li&gt;
&lt;li&gt;Extensible Events
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3954&quot;&gt;MSC3954&lt;&#x2F;a&gt; - Text emotes&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3955&quot;&gt;MSC3955&lt;&#x2F;a&gt; - Replacement for notice messages&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3551&quot;&gt;MSC3551&lt;&#x2F;a&gt; - Files&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3552&quot;&gt;MSC3552&lt;&#x2F;a&gt; - Images and Stickers&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3553&quot;&gt;MSC3553&lt;&#x2F;a&gt; - Videos&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3927&quot;&gt;MSC3927&lt;&#x2F;a&gt; - Audio&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Encrypted Appservices
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2409&quot;&gt;MSC2409&lt;&#x2F;a&gt; - Sending EDUs to appservices&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3202&quot;&gt;MSC3202&lt;&#x2F;a&gt; - Encrypted appservices&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2702&quot;&gt;MSC2702&lt;&#x2F;a&gt; - Content-Disposition semantics for media&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3939&quot;&gt;MSC3939&lt;&#x2F;a&gt; - Account locking&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;This list is &lt;strong&gt;not&lt;&#x2F;strong&gt; final and will be iterated upon over the next couple of weeks. If you’ve got an MSC to add or remove, let us know in the &lt;a href=&quot;https:&#x2F;&#x2F;matrix.to&#x2F;#&#x2F;#sct-office:matrix.org&quot;&gt;SCT Office&lt;&#x2F;a&gt; on Matrix. For all of the MSCs above, we aim to get them to a FCP-accepted state at a minimum, and merged to the spec if time permits (and makes sense - looking at you, Extensible Events).&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-full-changelog&quot;&gt;The full changelog&lt;&#x2F;h2&gt;
&lt;p&gt;Matrix 1.9 is a relatively light maintenance release, but it still has a changelog! Read on for full details.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;client-server-api&quot;&gt;Client-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add the &lt;code&gt;m.rule.suppress_edits&lt;&#x2F;code&gt; default push rule, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3958&quot;&gt;MSC3958&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1617&quot;&gt;#1617&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Fix &lt;code&gt;m.call.negotiate&lt;&#x2F;code&gt; schema and example. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1546&quot;&gt;#1546&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that the &lt;code&gt;via&lt;&#x2F;code&gt; property is required for &lt;code&gt;m.space.parent&lt;&#x2F;code&gt; and &lt;code&gt;m.space.child&lt;&#x2F;code&gt; as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;1772&quot;&gt;MSC1772&lt;&#x2F;a&gt;. Contributed by @PaarthShah. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1618&quot;&gt;#1618&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add a note to the &lt;code&gt;&#x2F;publicRooms&lt;&#x2F;code&gt; API that the server name is case sensitive. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1638&quot;&gt;#1638&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that an &lt;code&gt;m.room.name&lt;&#x2F;code&gt; event with an absent &lt;code&gt;name&lt;&#x2F;code&gt; field is not expected behavior. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1639&quot;&gt;#1639&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix schemas used for account data and presence events in &lt;code&gt;GET &#x2F;initialSync&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1647&quot;&gt;#1647&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1658&quot;&gt;#1658&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1661&quot;&gt;#1661&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1665&quot;&gt;#1665&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix &lt;code&gt;.m.rule.suppress_notices&lt;&#x2F;code&gt; push rule not being valid JSON. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1671&quot;&gt;#1671&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add missing properties for &lt;code&gt;event_property_is&lt;&#x2F;code&gt; and &lt;code&gt;event_property_contains&lt;&#x2F;code&gt; push conditions to &lt;code&gt;PushConditions&lt;&#x2F;code&gt; object. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1673&quot;&gt;#1673&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Indicate that fallback keys should have a &lt;code&gt;fallback&lt;&#x2F;code&gt; property set to &lt;code&gt;true&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1676&quot;&gt;#1676&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that thread roots are not considered within the thread. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1677&quot;&gt;#1677&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;server-server-api&quot;&gt;Server-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Fix schema of &lt;code&gt;m.receipt&lt;&#x2F;code&gt; EDU. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1636&quot;&gt;#1636&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1661&quot;&gt;#1661&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that federation requests for non-local users are invalid. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1672&quot;&gt;#1672&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;application-service-api&quot;&gt;Application Service API&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;identity-service-api&quot;&gt;Identity Service API&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;push-gateway-api&quot;&gt;Push Gateway API&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;room-versions&quot;&gt;Room Versions&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;appendices&quot;&gt;Appendices&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Clarify timestamp specification with respect to leap seconds. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1627&quot;&gt;#1627&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1652&quot;&gt;#1652&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;internal-changes-tooling&quot;&gt;Internal Changes&#x2F;Tooling&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add more CI checks for OpenAPI definitions and JSON Schemas. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1656&quot;&gt;#1656&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Generate server-server OpenAPI definition. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1657&quot;&gt;#1657&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Replace all mentions of Swagger by OpenAPI. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1633&quot;&gt;#1633&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix enum types in JSON schemas. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1634&quot;&gt;#1634&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix schema of &lt;code&gt;m.mentions&lt;&#x2F;code&gt; object. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1635&quot;&gt;#1635&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix rendering of &lt;code&gt;m.receipt&lt;&#x2F;code&gt; event in Client-Server API. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1637&quot;&gt;#1637&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Remove required &lt;code&gt;fieldname&lt;&#x2F;code&gt; in appservice Protocol definition. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1646&quot;&gt;#1646&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix github action workflow responsible for releasing of @matrix-org&#x2F;spec package. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1648&quot;&gt;#1648&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Upgrade GitHub actions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1660&quot;&gt;#1660&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Matrix v1.8 release</title>
    <published>2023-08-23T16:25:37+00:00</published>
    <updated>2023-08-23T16:25:37+00:00</updated>
    <author>
      <name>Travis Ralston</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2023/08/23/matrix-v1.8-release/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2023/08/23/matrix-v1.8-release/</id>
    <content type="html">&lt;p&gt;Hey all,&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.8&#x2F;&quot;&gt;Matrix 1.8&lt;&#x2F;a&gt; is out now! The last release, &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2023&#x2F;05&#x2F;25&#x2F;matrix-v-1-7-release&#x2F;&quot;&gt;Matrix 1.7&lt;&#x2F;a&gt;, was full of features and laid out a plan for what Matrix 1.8 was expected to become. We spent most of our time focusing on the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3995&quot;&gt;MSC3995&lt;&#x2F;a&gt;-related MSCs from that original plan, but made an effort to get the other stuff looked at as well.&lt;&#x2F;p&gt;
&lt;p&gt;With this release we see a total of 9 MSCs achieve their formally adopted status. The full changelog at the bottom has all the details, but please read on for what’s new in room version 11, and Matrix 1.9’s roadmap :)&lt;&#x2F;p&gt;
&lt;h2 id=&quot;room-version-11&quot;&gt;Room version 11&lt;&#x2F;h2&gt;
&lt;p&gt;Matrix 1.8 features a &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.8&#x2F;rooms&#x2F;v11&#x2F;&quot;&gt;new room version&lt;&#x2F;a&gt;! Normally a room version wouldn’t have a particular theme, but for v11 we aimed to clean up the different algorithms and event format details. After 10 prior room versions there were some artifacts of the past sticking around (but not causing problems necessarily) - many of them are cleaned up here.&lt;&#x2F;p&gt;
&lt;p&gt;Specified originally as &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3820&quot;&gt;MSC3820&lt;&#x2F;a&gt;, v11 introduces the following changes:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2174&quot;&gt;MSC2174&lt;&#x2F;a&gt; - Move &lt;code&gt;redacts&lt;&#x2F;code&gt; to the &lt;code&gt;content&lt;&#x2F;code&gt; of &lt;code&gt;m.room.redaction&lt;&#x2F;code&gt; events.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2175&quot;&gt;MSC2175&lt;&#x2F;a&gt; - Remove &lt;code&gt;creator&lt;&#x2F;code&gt; from &lt;code&gt;m.room.create&lt;&#x2F;code&gt; events (use &lt;code&gt;sender&lt;&#x2F;code&gt; instead).&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3989&quot;&gt;MSC3989&lt;&#x2F;a&gt; - Remove &lt;code&gt;origin&lt;&#x2F;code&gt; from events.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2176&quot;&gt;MSC2176&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3821&quot;&gt;MSC3821&lt;&#x2F;a&gt; - General updates to redaction algorithm.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Alongside being a cleanup room version, v11 is the initial base we used for our efforts in the IETF world. It provides an easier starting point for new server implementations, particularly when paired with Linearized Matrix (described as both an &lt;a href=&quot;https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;draft-ralston-mimi-linearized-matrix-03&quot;&gt;IETF Internet-Draft&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3995&quot;&gt;MSC3995&lt;&#x2F;a&gt;).&lt;&#x2F;p&gt;
&lt;p&gt;In future room versions the cleanup effort will continue, alongside additional features for supporting the IETF use cases. Watch this space for updates.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;upcoming-in-matrix-1-9&quot;&gt;Upcoming in Matrix 1.9&lt;&#x2F;h2&gt;
&lt;p&gt;We’re continuing the trend of planning ahead and have the following themes planned for work in Matrix 1.9:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Anything required by the MIMI&#x2F;IETF efforts we’re undertaking. This currently includes:
&lt;ul&gt;
&lt;li&gt;Extensible Events&lt;&#x2F;li&gt;
&lt;li&gt;Role-Based Access Control (RBAC; new MSC expected)&lt;&#x2F;li&gt;
&lt;li&gt;Next generation of Linearized Matrix (already)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4044&quot;&gt;MSC4044&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4045&quot;&gt;MSC4045&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;Binary-encoded events (maybe, but probable)&lt;&#x2F;li&gt;
&lt;li&gt;Canonical DMs (maybe)&lt;&#x2F;li&gt;
&lt;li&gt;Sending events as rooms&#x2F;servers instead of just users (maybe)&lt;&#x2F;li&gt;
&lt;li&gt;Further room version cleanup as needed&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Merging &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3939&quot;&gt;MSC3939&lt;&#x2F;a&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;Accepting a combination of &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2545&quot;&gt;MSC2545&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;1951&quot;&gt;MSC1951&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3892&quot;&gt;MSC3892&lt;&#x2F;a&gt;, and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4027&quot;&gt;MSC4027&lt;&#x2F;a&gt;. This may involve creating a new MSC to cover the functionality of each, plus the needful for IETF and Extensible Events efforts.&lt;&#x2F;li&gt;
&lt;li&gt;Merging &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3391&quot;&gt;MSC3391&lt;&#x2F;a&gt; (time permitting).&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;A lot of this stuff might take the shape of opening MSCs or thinking about the problems, but we’re also very optimistic about getting them through FCP before November 2023. Watch this space for updates :)&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-full-changelog&quot;&gt;The full changelog&lt;&#x2F;h2&gt;
&lt;p&gt;There’s so many more things than what we covered in this blog post - flip through the changelog below for a full idea of what’s landed.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;client-server-api&quot;&gt;Client-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Require callers to be joined to the room to report its events, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2249&quot;&gt;MSC2249&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1517&quot;&gt;#1517&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Fix missing &lt;code&gt;type&lt;&#x2F;code&gt; property in the JSON schema definition of the &lt;code&gt;m.reaction&lt;&#x2F;code&gt; event.  Contributed by @chebureki. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1552&quot;&gt;#1552&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Make sure examples types match schema in definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1563&quot;&gt;#1563&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Allow &lt;code&gt;null&lt;&#x2F;code&gt; in &lt;code&gt;room_types&lt;&#x2F;code&gt; in &lt;code&gt;POST &#x2F;publicRooms&lt;&#x2F;code&gt; endpoints schemas. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1564&quot;&gt;#1564&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix broken header formatting. Contributed by @midnightveil. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1578&quot;&gt;#1578&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Render binary request and response bodies. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1579&quot;&gt;#1579&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix description of MAC calculation in SAS verification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1590&quot;&gt;#1590&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update link to SAS emoji definition data. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1593&quot;&gt;#1593&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1597&quot;&gt;#1597&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;server-server-api&quot;&gt;Server-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Deprecations&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Deprecate &lt;code&gt;matrix&lt;&#x2F;code&gt; SRV lookup steps during server discovery, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4040&quot;&gt;MSC4040&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1624&quot;&gt;#1624&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add &lt;code&gt;matrix-fed&lt;&#x2F;code&gt; SRV lookup steps to server discovery, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4040&quot;&gt;MSC4040&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1624&quot;&gt;#1624&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Document why &lt;code&gt;&#x2F;state_ids&lt;&#x2F;code&gt; can respond with a 404. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1521&quot;&gt;#1521&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix response definition for &lt;code&gt;POST &#x2F;_matrix&#x2F;federation&#x2F;v1&#x2F;user&#x2F;keys&#x2F;claim&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1559&quot;&gt;#1559&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix examples in server keys definition. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1560&quot;&gt;#1560&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Make sure examples types match schema in definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1563&quot;&gt;#1563&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Allow &lt;code&gt;null&lt;&#x2F;code&gt; in &lt;code&gt;room_types&lt;&#x2F;code&gt; in &lt;code&gt;POST &#x2F;publicRooms&lt;&#x2F;code&gt; endpoints schemas. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1564&quot;&gt;#1564&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix broken header formatting. Contributed by @midnightveil. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1578&quot;&gt;#1578&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Remove spurious mention of a &quot;default port&quot; with respect to SRV record lookup. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1615&quot;&gt;#1615&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Switch to ordered list for server name resolution steps. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1623&quot;&gt;#1623&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;application-service-api&quot;&gt;Application Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Fix type of custom &lt;code&gt;fields&lt;&#x2F;code&gt; in thirdparty lookup queries. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1584&quot;&gt;#1584&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;identity-service-api&quot;&gt;Identity Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Make sure examples types match schema in definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1563&quot;&gt;#1563&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;push-gateway-api&quot;&gt;Push Gateway API&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;room-versions&quot;&gt;Room Versions&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add room version 11 as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3820&quot;&gt;MSC3820&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1604&quot;&gt;#1604&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Move &lt;code&gt;redacts&lt;&#x2F;code&gt; from top level to &lt;code&gt;content&lt;&#x2F;code&gt; on &lt;code&gt;m.room.redaction&lt;&#x2F;code&gt; events in room version 11, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2174&quot;&gt;MSC2174&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1604&quot;&gt;#1604&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Remove &lt;code&gt;creator&lt;&#x2F;code&gt; from &lt;code&gt;m.room.creator&lt;&#x2F;code&gt; events in room version 11, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2175&quot;&gt;MSC2175&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1604&quot;&gt;#1604&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Remove remaining usage of &lt;code&gt;origin&lt;&#x2F;code&gt; from events in room version 11, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3989&quot;&gt;MSC3989&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1604&quot;&gt;#1604&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update the redaction rules in room version 11, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2176&quot;&gt;MSC2176&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3821&quot;&gt;MSC3821&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1604&quot;&gt;#1604&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;appendices&quot;&gt;Appendices&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Allow &lt;code&gt;+&lt;&#x2F;code&gt; in Matrix IDs, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4009&quot;&gt;MSC4009&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1583&quot;&gt;#1583&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Clarify spec re canonical JSON to handle negative-zero; also, give an example of negative-zero and a large power of ten. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1573&quot;&gt;#1573&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;internal-changes-tooling&quot;&gt;Internal Changes&#x2F;Tooling&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Upgrade Swagger data to OpenAPI 3.1. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1310&quot;&gt;#1310&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Create &lt;code&gt;@matrix-org&#x2F;spec&lt;&#x2F;code&gt; npm package to ship the SAS Emoji data definitions &amp;amp; translations. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1620&quot;&gt;#1620&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Update the CI to validate the file extension of changelog entries. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1542&quot;&gt;#1542&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Disclosure sections now only display their title when collapsed. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1549&quot;&gt;#1549&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix the sidebar in recent versions of Hugo. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1551&quot;&gt;#1551&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Bump jsonschema to validate JSON Schemas against Draft 2020-12. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1556&quot;&gt;#1556&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Use Redocly CLI to validate OpenAPI definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1558&quot;&gt;#1558&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Use tag name as the OpenAPI definition version. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1561&quot;&gt;#1561&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Make sure version in &lt;code&gt;x-changedInMatrixVersion&lt;&#x2F;code&gt; is a string. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1562&quot;&gt;#1562&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify usage of ABNF for grammar in the documentation style guide. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1582&quot;&gt;#1582&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Remove unnecessary &lt;code&gt;oneOf&lt;&#x2F;code&gt;s in JSON schemas. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1585&quot;&gt;#1585&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update the version of Hugo used to render the spec to v0.113.0. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1591&quot;&gt;#1591&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix rendered changelog with new version of towncrier. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1598&quot;&gt;#1598&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Improve the layout of tables on desktop displays. Contributed by Martin Fischer. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1601&quot;&gt;#1601&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Matrix v1.7 release</title>
    <published>2023-05-25T18:56:10+00:00</published>
    <updated>2023-05-25T18:56:10+00:00</updated>
    <author>
      <name>Travis Ralston</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2023/05/25/matrix-v-1-7-release/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2023/05/25/matrix-v-1-7-release/</id>
    <content type="html">&lt;p&gt;Hey all,&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.7&#x2F;&quot;&gt;Matrix 1.7&lt;&#x2F;a&gt; has just been released! The last spec release was &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2023&#x2F;02&#x2F;14&#x2F;matrix-v-1-6-release&quot;&gt;about 3 months ago&lt;&#x2F;a&gt;, keeping us on track for regular quarterly releases. Unlike Matrix 1.6 though, today’s release is packed with plenty of features, some of which we’d like to call out here. Not all implementations will have support for these features yet though, and that’s okay (expected, even).&lt;&#x2F;p&gt;
&lt;p&gt;Adding support for a spec release can be a significant body of work. Instead of implementations having everything ready for spec release day, the idea is that they gain support over the next few months. If you’re able, please help those projects get v1.7’s features.&lt;&#x2F;p&gt;
&lt;p&gt;Today, we see 15 MSCs achieve their formally adopted status. All of them bring forward some much-needed features to Matrix, and a few highlights are below. Read on to the full changelog for a complete overview, and for a sneak peak at what the Spec Core Team (SCT) is planning to look at for v1.8 👀&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=&quot;frame-photo-finally-improvements-to-media-in-matrix&quot;&gt;🖼️ Finally, improvements to media in Matrix&lt;&#x2F;h2&gt;
&lt;p&gt;The media repo has been largely unchanged since it was first released in 2015 as &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;historical&#x2F;r0.0.0&#x2F;client_server.html#id25&quot;&gt;r0.0.0&lt;&#x2F;a&gt; - the only change being the addition of URL previews in &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;historical&#x2F;client_server&#x2F;r0.3.0.html#id67&quot;&gt;r0.3.0&lt;&#x2F;a&gt; (released in 2017). Thankfully, the folks over at &lt;a href=&quot;https:&#x2F;&#x2F;www.beeper.com&#x2F;&quot;&gt;Beeper&lt;&#x2F;a&gt; have been busy changing this situation!&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3860&quot;&gt;MSC3860&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2246&quot;&gt;MSC2246&lt;&#x2F;a&gt; are both available as of today in the spec, improving how much bandwidth media repos need to offer and fixing a long-standing issue where uploading large files can be a challenge. MSC3860, specified &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.7&#x2F;client-server-api&#x2F;#get_matrixmediav3downloadservernamemediaid&quot;&gt;here&lt;&#x2F;a&gt; as &lt;code&gt;allow_redirect&lt;&#x2F;code&gt;, allows clients to opt-in to HTTP redirects on downloads, avoiding slowdowns from the server having to proxy and move the media twice. It’s particularly useful if your server uses a CDN like S3 to host media - just tell clients to go grab media directly from S3 instead.&lt;&#x2F;p&gt;
&lt;p&gt;Meanwhile, MSC2246 (largely specified &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.7&#x2F;client-server-api&#x2F;#post_matrixmediav1create&quot;&gt;here&lt;&#x2F;a&gt;) gives clients an ability to upload their media after sending the associated event. The MSC was originally designed with bridges in mind, where message order and delays are very perceivable problems for users, however clients like Element X are thinking about using the feature to improve local echo on uploads as well. We’re excited to see uploads finally be reliable, and non-blocking for the conversation flow!&lt;&#x2F;p&gt;
&lt;p&gt;History would indicate that we’ve got several years to go before the next major improvement to media, but we’re looking to change that: &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3916&quot;&gt;MSC3916: Authentication for media&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;4016&quot;&gt;MSC4016: Streaming E2EE file transfers&lt;&#x2F;a&gt;, and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3870&quot;&gt;MSC3870: Upload direct to URL&lt;&#x2F;a&gt; are all fairly promising MSCs we’re planning to take a look at in the next year or so.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;sparkling-heart-reactions-are-here&quot;&gt;💖 Reactions are here&lt;&#x2F;h2&gt;
&lt;p&gt;Reactions have actually been in use for quite some time already, but the MSC struggled to make it into the spec formally. With Matrix 1.7 though, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2677&quot;&gt;MSC2677&lt;&#x2F;a&gt; is &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.7&#x2F;client-server-api&#x2F;#event-annotations-and-reactions&quot;&gt;merged&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;MSC2677 was the last part of the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;1849&quot;&gt;MSC1849&lt;&#x2F;a&gt; saga, with &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2674&quot;&gt;MSC2674&lt;&#x2F;a&gt; (relationships) and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2675&quot;&gt;MSC2675&lt;&#x2F;a&gt; (server-side aggregation) landing in Matrix 1.3, and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2676&quot;&gt;MSC2676&lt;&#x2F;a&gt; (edits) landing in Matrix 1.4 back in September 2022. There’s still some work to be done in this area though, and certainly some quality of life improvements asking to be written up as MSCs - watch this space for progress on those fronts.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;tada-achievement-first-msc-merged&quot;&gt;🎉 Achievement: First MSC merged&lt;&#x2F;h2&gt;
&lt;p&gt;One of the best parts about writing an MSC is eventually seeing it released in the spec, and these folks saw their MSCs reach this milestone for the first time. Congratulations everyone, and please keep them coming!&lt;&#x2F;p&gt;
&lt;p&gt;In no particular order:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;benkuly&quot;&gt;benkuly&lt;&#x2F;a&gt; with &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3925&quot;&gt;MSC3925&lt;&#x2F;a&gt; (their first ever MSC!).&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Fizzadar&quot;&gt;Fizzadar&lt;&#x2F;a&gt; with &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3758&quot;&gt;MSC3758&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3860&quot;&gt;MSC3860&lt;&#x2F;a&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;hughns&quot;&gt;hughns&lt;&#x2F;a&gt; with &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3970&quot;&gt;MSC3970&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3882&quot;&gt;MSC3882&lt;&#x2F;a&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Johennes&quot;&gt;Johennes&lt;&#x2F;a&gt; with &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3873&quot;&gt;MSC3873&lt;&#x2F;a&gt;.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Anyone can contribute MSCs, improving the whole of Matrix for everyone. If you have an idea (or bugfix), check out the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals#matrix-specification-proposals&quot;&gt;guidelines&lt;&#x2F;a&gt; and let us know if you run into any questions in &lt;a href=&quot;https:&#x2F;&#x2F;matrix.to&#x2F;#&#x2F;#matrix-spec:matrix.org&quot;&gt;#matrix-spec:matrix.org&lt;&#x2F;a&gt; on Matrix - we’re always happy to help.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;soon-early-considerations-for-matrix-1-8&quot;&gt;🔜 Early considerations for Matrix 1.8&lt;&#x2F;h2&gt;
&lt;p&gt;The SCT aims to cut a release in the middle of each calendar quarter, largely to avoid most conflicts with regional holidays, and since Matrix 1.1 the releases have been getting less and less organic. Instead of looking at MSCs whenever they’re raised, the SCT has been aiming to hear about which MSCs will need looking at. This is a very subtle difference, but one that dramatically changes how the quarterly releases are structured.&lt;&#x2F;p&gt;
&lt;p&gt;With each spec release, the SCT has slowly been working towards a place where the majority of MSC work is thought about in advance, and Matrix 1.8 is another milestone along this journey. Over the next couple weeks we’ll be working on a roadmap based on the MSCs that are raised to us in the &lt;a href=&quot;https:&#x2F;&#x2F;matrix.to&#x2F;#&#x2F;#sct-office:matrix.org&quot;&gt;SCT Office room&lt;&#x2F;a&gt; on Matrix, starting with the ideas we raised ourselves earlier in the year.&lt;&#x2F;p&gt;
&lt;p&gt;As of writing, our current plan for Matrix 1.8 includes:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Further work on adopting OIDC (namely progress on &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3824&quot;&gt;MSC3824&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2965&quot;&gt;MSC2965&lt;&#x2F;a&gt;, and other similar proposals).&lt;&#x2F;li&gt;
&lt;li&gt;Pushing the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3995&quot;&gt;MSC3995&lt;&#x2F;a&gt; suite of MSCs towards acceptance&#x2F;merge status.&lt;&#x2F;li&gt;
&lt;li&gt;Continuing the improvements of VoIP (MatrixRTC) as we work towards &lt;a href=&quot;https:&#x2F;&#x2F;fosdem.org&#x2F;2023&#x2F;schedule&#x2F;event&#x2F;matrix20&#x2F;&quot;&gt;Matrix 2.0&lt;&#x2F;a&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;Various improvements to event relationships, such as &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3981&quot;&gt;MSC3981&lt;&#x2F;a&gt;, and push in general, such as &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3958&quot;&gt;MSC3958&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3391&quot;&gt;MSC3391&lt;&#x2F;a&gt;.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;While this doesn’t represent a commitment to have these MSCs merged, these are the areas that the SCT is likely to be thinking about for the next 3ish months. If you have MSCs that might be possible to merge before roughly August, let us know in the &lt;a href=&quot;https:&#x2F;&#x2F;matrix.to&#x2F;#&#x2F;#sct-office:matrix.org&quot;&gt;SCT Office room&lt;&#x2F;a&gt; (even if those MSCs aren’t on-theme with the above - we still want to hear about them!).&lt;&#x2F;p&gt;
&lt;p&gt;Critically, our release planning does not just include MSCs that are on track for being merged. We are also aiming to track that a given MSC needs technical review (for example), or that it might be receiving attention external to the SCT (such as implementation). We’d love to hear what you’re working on so we can start bringing those MSCs to the top of the list - let us know in the &lt;a href=&quot;https:&#x2F;&#x2F;matrix.to&#x2F;#&#x2F;#sct-office:matrix.org&quot;&gt;SCT Office room&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;As is the theme for this section, if you have any questions about what the release process looks like (or where a given MSC currently sits in the roadmap), let us know in the &lt;a href=&quot;https:&#x2F;&#x2F;matrix.to&#x2F;#&#x2F;#sct-office:matrix.org&quot;&gt;SCT Office room&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-full-changelog&quot;&gt;The full changelog&lt;&#x2F;h2&gt;
&lt;p&gt;There’s so many more things than what we covered in this blog post - flip through the changelog below for a full idea of what’s landed. Special thanks to &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;MichaelKohler&quot;&gt;MichaelKohler&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;zecakeh&quot;&gt;zecakeh&lt;&#x2F;a&gt;, and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Cadair&quot;&gt;Cadair&lt;&#x2F;a&gt; for contributing clarification &amp;amp; bug fix PRs in this release - we greatly appreciate it!&lt;&#x2F;p&gt;
&lt;!-- Intentionally blank line to ensure headers work in the concatenated changelog --&gt;
&lt;h3 id=&quot;client-server-api&quot;&gt;Client-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;New Endpoints&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;&#x2F;client-server-api&#x2F;#post_matrixmediav1create&quot;&gt;&lt;code&gt;POST &#x2F;_matrix&#x2F;media&#x2F;v1&#x2F;create&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1499&quot;&gt;#1499&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;&#x2F;client-server-api&#x2F;#put_matrixmediav3uploadservernamemediaid&quot;&gt;&lt;code&gt;PUT &#x2F;_matrix&#x2F;media&#x2F;v3&#x2F;upload&#x2F;{serverName}&#x2F;{mediaId}&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1499&quot;&gt;#1499&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;&#x2F;client-server-api&#x2F;#post_matrixclientv1loginget_token&quot;&gt;&lt;code&gt;POST &#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;login&#x2F;get_token&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1530&quot;&gt;#1530&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Changes to the server-side aggregation of &lt;code&gt;m.replace&lt;&#x2F;code&gt; (edit) events, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3925&quot;&gt;MSC3925&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1440&quot;&gt;#1440&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1525&quot;&gt;#1525&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add new push rule conditions &lt;code&gt;event_property_is&lt;&#x2F;code&gt; and &lt;code&gt;event_property_contains&lt;&#x2F;code&gt;, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3758&quot;&gt;MSC3758&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3966&quot;&gt;MSC3966&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1464&quot;&gt;#1464&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add &lt;code&gt;m.annotation&lt;&#x2F;code&gt; relations (reactions), as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2677&quot;&gt;MSC2677&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1475&quot;&gt;#1475&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1531&quot;&gt;#1531&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Support asynchronous media uploads, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2246&quot;&gt;MSC2246&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1499&quot;&gt;#1499&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1510&quot;&gt;#1510&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Document the &lt;code&gt;m.mentions&lt;&#x2F;code&gt; property; the &lt;code&gt;.m.rule.is_user_mention&lt;&#x2F;code&gt; and &lt;code&gt;.m.rule.is_room_mention&lt;&#x2F;code&gt; push rules; and other notification behaviour, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3952&quot;&gt;MSC3952&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1508&quot;&gt;#1508&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Improve VoIP signaling, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2746&quot;&gt;MSC2746&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1511&quot;&gt;#1511&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1540&quot;&gt;#1540&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update the scope of transaction IDs, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3970&quot;&gt;MSC3970&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1526&quot;&gt;#1526&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add an ability to redirect media downloads, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3860&quot;&gt;MSC3860&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1529&quot;&gt;#1529&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add an ability to use an existing session to log in another, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3882&quot;&gt;MSC3882&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1530&quot;&gt;#1530&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Clarify the sections of the specification concerning aggregation of child events. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1424&quot;&gt;#1424&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1432&quot;&gt;#1432&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1442&quot;&gt;#1442&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1447&quot;&gt;#1447&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1455&quot;&gt;#1455&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1465&quot;&gt;#1465&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1500&quot;&gt;#1500&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1509&quot;&gt;#1509&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that reply chain fallback for threads might not be present. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1439&quot;&gt;#1439&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify what event property the content-specific push rules match against. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1441&quot;&gt;#1441&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify the semantics that make requests idempotent. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1449&quot;&gt;#1449&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Improve documentation of how clients use push rules. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1461&quot;&gt;#1461&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that servers should enforce a default &lt;code&gt;limit&lt;&#x2F;code&gt; on a filter if one is not specified. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1463&quot;&gt;#1463&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Disambiguate using property names with dots in them during push rule processing, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3873&quot;&gt;MSC3873&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3980&quot;&gt;MSC3980&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1464&quot;&gt;#1464&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix phrasing &amp;amp; typography in the registration endpoint description. Contributed by @HarHarLinks. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1474&quot;&gt;#1474&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Remove outdated text saying that &lt;code&gt;state_default&lt;&#x2F;code&gt; is 0 if there is no &lt;code&gt;m.room.power_levels&lt;&#x2F;code&gt; event in a room. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1479&quot;&gt;#1479&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Remove fictitious &lt;code&gt;token&lt;&#x2F;code&gt; parameter on &lt;code&gt;&#x2F;keys&#x2F;query&lt;&#x2F;code&gt; endpoint. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1485&quot;&gt;#1485&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix rendering of properties with a list of types. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1487&quot;&gt;#1487&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify parts of the cross-signing signature upload request. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1495&quot;&gt;#1495&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Remove the &lt;code&gt;dont_notify&lt;&#x2F;code&gt; and &lt;code&gt;coalesce&lt;&#x2F;code&gt; push rule actions, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3987&quot;&gt;MSC3987&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1501&quot;&gt;#1501&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify &lt;code&gt;m.location&lt;&#x2F;code&gt; scheme by partially reverting &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;commit&#x2F;f1f32d3a15c325ee8aa9d2c6bafd96c38069bb53&quot;&gt;f1f32d3&lt;&#x2F;a&gt;. Contributed by @HarHarLinks. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1507&quot;&gt;#1507&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add missing &lt;code&gt;knock_restricted&lt;&#x2F;code&gt; join rule to the &lt;code&gt;m.room.join_rules&lt;&#x2F;code&gt; schema. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1535&quot;&gt;#1535&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;server-server-api&quot;&gt;Server-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1431&quot;&gt;#1431&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1447&quot;&gt;#1447&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1466&quot;&gt;#1466&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1518&quot;&gt;#1518&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix PDU examples by removing invalid OpenAPI reference to &lt;code&gt;examples&#x2F;minimal_pdu.json&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1454&quot;&gt;#1454&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Remove leftover &lt;code&gt;{key_id}&lt;&#x2F;code&gt; from &lt;code&gt;&#x2F;_matrix&#x2F;key&#x2F;v2&#x2F;server&#x2F;&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1473&quot;&gt;#1473&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Remove extraneous &lt;code&gt;age_ts&lt;&#x2F;code&gt; field from the reference hash calculation section. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1536&quot;&gt;#1536&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;application-service-api&quot;&gt;Application Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;New Endpoints&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;&#x2F;application-service-api&#x2F;#post_matrixappv1ping&quot;&gt;&lt;code&gt;POST &#x2F;_matrix&#x2F;app&#x2F;v1&#x2F;ping&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1516&quot;&gt;#1516&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;&#x2F;application-service-api&#x2F;#post_matrixclientv1appserviceappserviceidping&quot;&gt;&lt;code&gt;POST &#x2F;_matrix&#x2F;client&#x2F;v1&#x2F;appservice&#x2F;{appserviceId}&#x2F;ping&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1516&quot;&gt;#1516&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add homeserver-&amp;gt;appservice ping mechanism, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2659&quot;&gt;MSC2659&lt;&#x2F;a&gt;. Contributed by @tulir at @beeper. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1516&quot;&gt;#1516&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1541&quot;&gt;#1541&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1447&quot;&gt;#1447&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;identity-service-api&quot;&gt;Identity Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Corrections to the response format of &lt;code&gt;&#x2F;_matrix&#x2F;identity&#x2F;v2&#x2F;store-invite&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1486&quot;&gt;#1486&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;push-gateway-api&quot;&gt;Push Gateway API&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;room-versions&quot;&gt;Room Versions&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Clarifications of event ID formats in early room versions (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1484&quot;&gt;#1484&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;appendices&quot;&gt;Appendices&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Clarify that the term &quot;Canonical JSON&quot; is a specific thing within the Matrix specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1468&quot;&gt;#1468&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Remove references to groups. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1483&quot;&gt;#1483&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarifications of event ID formats in early room versions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1484&quot;&gt;#1484&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;internal-changes-tooling&quot;&gt;Internal Changes&#x2F;Tooling&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Update references to Inter font. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1444&quot;&gt;#1444&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Endpoint disclosures now hide everything but the URL. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1446&quot;&gt;#1446&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Wrap $ref in allOf where other attributes are present, to improve OpenAPI compliance. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1457&quot;&gt;#1457&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Minor cleanups to the GitHub Actions workflows (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1476&quot;&gt;#1476&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix generation of anchors for additional properties. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1488&quot;&gt;#1488&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1534&quot;&gt;#1534&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Document more of the spec release timeline&#x2F;process. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1538&quot;&gt;#1538&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Security releases: matrix-js-sdk 24.0.0 and matrix-react-sdk 3.69.0</title>
    <published>2023-03-28T00:00:00+00:00</published>
    <updated>2023-03-28T00:00:00+00:00</updated>
    <author>
      <name>Denis Kasak</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2023/03/28/security-releases-matrix-js-sdk-24-0-0-and-matrix-react-sdk-3-69-0/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2023/03/28/security-releases-matrix-js-sdk-24-0-0-and-matrix-react-sdk-3-69-0/</id>
    <content type="html">&lt;p&gt;Today we are issuing security releases of matrix-js-sdk and matrix-react-sdk to
patch a pair of High severity vulnerabilities
(&lt;a href=&quot;https:&#x2F;&#x2F;cve.mitre.org&#x2F;cgi-bin&#x2F;cvekey.cgi?keyword=CVE-2023-28427&quot;&gt;CVE-2023-28427&lt;&#x2F;a&gt;
&#x2F; &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-js-sdk&#x2F;security&#x2F;advisories&#x2F;GHSA-mwq8-fjpf-c2gr&quot;&gt;GHSA-mwq8-fjpf-c2gr&lt;&#x2F;a&gt;
for matrix-js-sdk and
&lt;a href=&quot;https:&#x2F;&#x2F;cve.mitre.org&#x2F;cgi-bin&#x2F;cvekey.cgi?keyword=CVE-2023-28103&quot;&gt;CVE-2023-28103&lt;&#x2F;a&gt;
&#x2F; &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-react-sdk&#x2F;security&#x2F;advisories&#x2F;GHSA-6g43-88cp-w5gv&quot;&gt;GHSA-6g43-88cp-w5gv&lt;&#x2F;a&gt;
for matrix-react-sdk).&lt;&#x2F;p&gt;
&lt;p&gt;Affected clients include those which depend on the affected libraries, such as
Element Web&#x2F;Desktop and Cinny. Releases of the affected clients should follow
shortly. We advise users of those clients to upgrade at their earliest
convenience.&lt;&#x2F;p&gt;
&lt;p&gt;The issues involve prototype pollution via events containing special strings in
key locations, which can temporarily disrupt normal functioning of
matrix-js-sdk and matrix-react-sdk, potentially impacting the consumer&#x27;s
ability to process data safely.&lt;&#x2F;p&gt;
&lt;p&gt;Although we have only demonstrated a denial-of-service-style impact, we cannot
completely rule out the possibility of a more severe impact due to the
relatively extensive attack surface. We have therefore classified this as High
severity and strongly recommend upgrading as a precautionary measure.&lt;&#x2F;p&gt;
&lt;p&gt;We found these issues during a codebase audit that we had &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;08&#x2F;31&#x2F;security-releases-matrix-js-sdk-19-4-0-and-matrix-react-sdk-3-53-0&quot;&gt;previously
announced&lt;&#x2F;a&gt;
in an earlier security release of matrix-js-sdk and matrix-react-sdk. The
earlier release had already addressed a set of similar vulnerabilities that
were assigned
&lt;a href=&quot;https:&#x2F;&#x2F;cve.mitre.org&#x2F;cgi-bin&#x2F;cvekey.cgi?keyword=CVE%2D2022%2D36059&quot;&gt;CVE-2022-36059&lt;&#x2F;a&gt;
&#x2F; &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-js-sdk&#x2F;security&#x2F;advisories&#x2F;GHSA-rfv9-x7hh-xc32&quot;&gt;GHSA-rfv9-x7hh-xc32&lt;&#x2F;a&gt;
and
&lt;a href=&quot;https:&#x2F;&#x2F;cve.mitre.org&#x2F;cgi-bin&#x2F;cvekey.cgi?keyword=CVE%2D2022%2D36060&quot;&gt;CVE-2022-36060&lt;&#x2F;a&gt;
&#x2F; &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-react-sdk&#x2F;security&#x2F;advisories&#x2F;GHSA-2x9c-qwgf-94xr&quot;&gt;GHSA-2x9c-qwgf-94xr&lt;&#x2F;a&gt;,
which we had initially decided not to disclose until the completion of the
audit. Now that the audit is finished, we are disclosing those previous
advisories as well.&lt;&#x2F;p&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Synapse 1.78 released</title>
    <published>2023-02-28T00:00:00+00:00</published>
    <updated>2023-02-28T00:00:00+00:00</updated>
    <author>
      <name>H. Shay</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2023/02/28/synapse-1-78-released/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2023/02/28/synapse-1-78-released/</id>
    <content type="html">&lt;p&gt;Greetings Matrix fans! We&#x27;ve published Synapse &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.78.0&quot;&gt;version 1.78&lt;&#x2F;a&gt;
as the new stable release this week. Synapse admins are encouraged to upgrade
to it at their convenience. Please take a look at the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.78&#x2F;upgrade.html#upgrading-to-v1780&quot;&gt;upgrade notes&lt;&#x2F;a&gt;
for any important information about upgrading.&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=&quot;announcements&quot;&gt;Announcements&lt;&#x2F;h2&gt;
&lt;p&gt;Please note that Synapse 1.78.0 replaces the &lt;code&gt;&#x2F;_synapse&#x2F;admin&#x2F;v1&#x2F;media&#x2F;&amp;lt;server_name&amp;gt;&#x2F;delete&lt;&#x2F;code&gt; admin API with an identical
endpoint at &lt;code&gt;&#x2F;_synapse&#x2F;admin&#x2F;v1&#x2F;media&#x2F;delete&lt;&#x2F;code&gt;. Please update your tooling to use the new endpoint. The deprecated version
will be removed in a future release.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-new-stuff&quot;&gt;The new stuff&lt;&#x2F;h2&gt;
&lt;p&gt;In case you were unaware, Synapse has a command line export data command which allows administrators to export data for
a specific user (you can read more about this command &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;latest&#x2F;usage&#x2F;administration&#x2F;admin_faq.html#how-can-i-export-user-data&quot;&gt;here&lt;&#x2F;a&gt;).
Synapse 1.78.0 updates this command adding account data to the user information that is returned by the export data command.&lt;&#x2F;p&gt;
&lt;p&gt;This version of Synapse also features a few changes to push rules, with implementations for &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3758&quot;&gt;MSC3758&lt;&#x2F;a&gt;:
Add &lt;code&gt;event_property_is push&lt;&#x2F;code&gt; rule condition kind,
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3966&quot;&gt;MSC3966&lt;&#x2F;a&gt;: &lt;code&gt;event_property_contains&lt;&#x2F;code&gt; push rule condition, and the removal of the spurious &lt;code&gt;dont_notify&lt;&#x2F;code&gt;
action from the defaults for the &lt;code&gt;.m.rule.reaction&lt;&#x2F;code&gt; pushrule. These changes empower end users to more fully customise their
notification rules - MSC3758 allows users to ask to be notified when a field in an event contains any type of value, rather
than only matching on strings, and MSC3966 provides crucial scaffolding for &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3952&quot;&gt;MSC3952&lt;&#x2F;a&gt;: Intentional Mentions,
which aims to eliminate unintentional mentions and improve the experience of mentions in general.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse v1.78.0 includes some fixes for faster-joins related bugs as we work out the kinks. Some of these include a fix
for a bug introduced in Synapse 1.76.0 where partially-joined rooms could not be deleted using the
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;latest&#x2F;admin_api&#x2F;rooms.html#delete-room-api&quot;&gt;purge room API&lt;&#x2F;a&gt;, and
a fix for a bug introduced in Synapse 1.75 where the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;latest&#x2F;postgres.html#porting-from-sqlite&quot;&gt;portdb script&lt;&#x2F;a&gt;
would fail to run after a room had been faster-joined. We continue to work to polish faster joins, and thank everyone who
filed an issue.&lt;&#x2F;p&gt;
&lt;p&gt;Finally, for those deployments using workers, v1.78.0 fixed a bug introduced in Synapse 1.76 where 5s delays would
occasionally occur.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;See the full &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.78.0&quot;&gt;changelog&lt;&#x2F;a&gt; for a
complete list of changes in the release. Also please have a look at the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.78&#x2F;upgrade.html#upgrading-to-v1780&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend our
thanks to everyone who contributed to this release, including (in no particular
order): jahway603, williamkray, 999lakhisidhu, hari01584, saddfox, dklimpel, realtyem
V02460, and thezaidbintariq.&lt;&#x2F;p&gt;
&lt;p&gt;We are also grateful to anyone helping us make Synapse better by sharing their
feedback and reporting issues, or helping with community support questions.&lt;&#x2F;p&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Synapse 1.77 released</title>
    <published>2023-02-16T00:00:00+00:00</published>
    <updated>2023-02-16T00:00:00+00:00</updated>
    <author>
      <name>Mathieu Velten</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2023/02/16/synapse-1-77-released/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2023/02/16/synapse-1-77-released/</id>
    <content type="html">&lt;p&gt;Greetings Matrix fans! We&#x27;ve published Synapse &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.77.0&quot;&gt;version 1.77&lt;&#x2F;a&gt;
as the new stable release this week. Synapse admins are encouraged to upgrade
to it at their convenience.&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=&quot;the-new-stuff&quot;&gt;The new stuff&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;experimental-support-for-intentional-mentions-msc3952&quot;&gt;Experimental support for intentional mentions (MSC3952)&lt;&#x2F;h3&gt;
&lt;p&gt;Mentioning other users on Matrix is difficult: it is not possible to know if mentioning a user
by display name or Matrix ID will count as a mention, but is also too easy to mistakenly mention a user.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3952&quot;&gt;MSC3952&lt;&#x2F;a&gt; proposes a solution. Its idea is to make the mentioning explicit in the protocol using a dedicated event property,
instead of relying on searching the body of the message as before.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse now implements this as an experimental feature.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;experimental-support-to-suppress-notifications-from-message-edits-msc3958&quot;&gt;Experimental support to suppress notifications from message edits (MSC3958)&lt;&#x2F;h3&gt;
&lt;p&gt;Have you ever been annoyed by a noisy notification that keep coming back, but you can&#x27;t pinpoint
where it&#x27;s coming from?
This is usually because edits to a message where you are mentioned (or that mention &lt;code&gt;@room&lt;&#x2F;code&gt;) will
retrigger a noisy notification. That can be pretty annoying when the message is edited 10 times!&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3958&quot;&gt;MSC3958&lt;&#x2F;a&gt;
is here to solve that, and Synapse now implements it as an experimental feature.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;the-quest-for-speed-continues&quot;&gt;The quest for speed continues!&lt;&#x2F;h3&gt;
&lt;p&gt;Some iterative optimizations have been implemented that should make &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;14971&quot;&gt;joining or leaving&lt;&#x2F;a&gt;
large rooms even faster, and should also &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;14962&quot;&gt;improve sending message&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;See the full &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.77.0&quot;&gt;changelog&lt;&#x2F;a&gt;, for a
complete list of changes in the release.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend our
thanks to everyone who contributed to these releases, including (in no particular
order) icp1994, dklimpel, Fizzadar and realtyem.&lt;&#x2F;p&gt;
&lt;p&gt;We are also grateful to anyone helping us make Synapse better by sharing their
feedback and reporting issues, or helping with community support questions.&lt;&#x2F;p&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Matrix v1.6 release</title>
    <published>2023-02-14T17:04:46+00:00</published>
    <updated>2023-02-14T17:04:46+00:00</updated>
    <author>
      <name>Travis Ralston</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2023/02/14/matrix-v-1-6-release/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2023/02/14/matrix-v-1-6-release/</id>
    <content type="html">&lt;p&gt;Hey all,&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.6&#x2F;&quot;&gt;Matrix 1.6&lt;&#x2F;a&gt; is out there! Like Matrix 1.5 &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;11&#x2F;17&#x2F;matrix-v-1-5-release&quot;&gt;back in November&lt;&#x2F;a&gt;, this release is largely a maintenance update. Matrix 1.1 through 1.4 have been relatively major upgrades, so a little time between features doesn’t feel like a bad idea :)&lt;&#x2F;p&gt;
&lt;p&gt;As with all spec releases, we encourage implementations to gradually update over the next few months rather than have support for everything on release day - please be kind to the projects you use, and help them gain support if able.&lt;&#x2F;p&gt;
&lt;p&gt;Matrix 1.6 sees just 7 MSCs get merged, though this is to be expected from a maintenance release. Check out &lt;a href=&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=eUPJ9zFV5IE&quot;&gt;Matthew’s Matrix 2.0 talk&lt;&#x2F;a&gt; at FOSDEM for an idea of what’s expected over the next few releases.&lt;&#x2F;p&gt;
&lt;p&gt;We’ve covered a couple of the MSCs below, but read on to the full changelog for the full picture.&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=&quot;msc3030-jump-to-date-api&quot;&gt;MSC3030: Jump to date API&lt;&#x2F;h2&gt;
&lt;p&gt;_It’s here! The time machine we’ve been waiting for! _&lt;&#x2F;p&gt;
&lt;p&gt;Primarily part of the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;vector-im&#x2F;roadmap&#x2F;issues&#x2F;26&quot;&gt;Gitter feature parity project&lt;&#x2F;a&gt; (congratulations to the team &lt;a href=&quot;https:&#x2F;&#x2F;blog.gitter.im&#x2F;2023&#x2F;02&#x2F;13&#x2F;gitter-has-fully-migrated-to-matrix&#x2F;&quot;&gt;going all-in on Matrix&lt;&#x2F;a&gt;, by the way) to drive the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-public-archive&quot;&gt;Matrix Public Archive&lt;&#x2F;a&gt;, the &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.6&#x2F;client-server-api&#x2F;#get_matrixclientv1roomsroomidtimestamp_to_event&quot;&gt;new API&lt;&#x2F;a&gt; gives clients the ability to jump back in time to a nearby event. Being able to find something that was posted on a given day&#x2F;week, but not being sure of which keywords to look for is a major usability improvement - many thanks to the Gitter team for making Matrix better!&lt;&#x2F;p&gt;
&lt;h2 id=&quot;msc3706-faster-joins-part-1&quot;&gt;MSC3706: Faster joins (part 1)&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;em&gt;Matrix is going voom&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2023&#x2F;01&#x2F;31&#x2F;synapse-1-76-released&quot;&gt;Synapse 1.76&lt;&#x2F;a&gt; enabled faster joins by default, and while there’s a lot of Python going into making joins as fast as possible, the specification side is a relatively small change at the moment: &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.6&#x2F;server-server-api&#x2F;#put_matrixfederationv2send_joinroomideventid&quot;&gt;just don’t send as many events during joins&lt;&#x2F;a&gt; (&lt;code&gt;omit_members&lt;&#x2F;code&gt;).&lt;&#x2F;p&gt;
&lt;p&gt;There’s potentially more work on the horizon for making faster joins even faster and more robust, and some of that might involve spec work: keep an eye on Synapse releases and &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;category&#x2F;this-week-in-matrix&quot;&gt;TWIM&lt;&#x2F;a&gt; for updates as we make our way to faster joins in Matrix 2.0 :)&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-full-changelog&quot;&gt;The full changelog&lt;&#x2F;h2&gt;
&lt;p&gt;MSCs are how the spec changes in the way it does - adding, fixing, and maintaining features for the whole ecosystem to use. Check out the full changelog below, and the &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;proposals&#x2F;&quot;&gt;Spec Change Proposals&lt;&#x2F;a&gt; page for more information on how these MSCs got merged (hint: they submitted a proposal, which anyone can do - take a look at the &lt;a href=&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=SFkZz60RRfc&quot;&gt;Matrix Live episode&lt;&#x2F;a&gt; where Matthew covers the proposal process).&lt;&#x2F;p&gt;
&lt;!-- Intentionally blank line to ensure headers work in the concatenated changelog --&gt;
&lt;h3 id=&quot;client-server-api&quot;&gt;Client-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add information on standard error responses for unknown endpoints&#x2F;methods, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3743&quot;&gt;MSC3743&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1347&quot;&gt;#1347&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add &lt;code&gt;&#x2F;rooms&#x2F;&amp;lt;roomID&amp;gt;&#x2F;timestamp_to_event&lt;&#x2F;code&gt; endpoint, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3030&quot;&gt;MSC3030&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1366&quot;&gt;#1366&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Define &lt;code&gt;hkdf-hmac-sha256.v2&lt;&#x2F;code&gt; MAC method for SAS verification, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3783&quot;&gt;MSC3783&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1412&quot;&gt;#1412&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Clarify the power levels integer range. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1169&quot;&gt;#1169&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1355&quot;&gt;#1355&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that &lt;code&gt;&#x2F;context&lt;&#x2F;code&gt; always returns &lt;code&gt;event&lt;&#x2F;code&gt; even if &lt;code&gt;limit&lt;&#x2F;code&gt; is zero. Contributed by @sumnerevans at @beeper. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1239&quot;&gt;#1239&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify what fields are required when deleting a pusher (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1321&quot;&gt;#1321&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Improve the presentation of push rule kinds and actions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1348&quot;&gt;#1348&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add missing description to m.call.answer schema. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1353&quot;&gt;#1353&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1363&quot;&gt;#1363&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify parts of the end-to-end encryption sections. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1381&quot;&gt;#1381&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Move login API definitions to the right heading. Contributed by @HarHarLinks. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1382&quot;&gt;#1382&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify which events will be included in Stripped State. Contributed by @andybalaam. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1409&quot;&gt;#1409&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add links to the spec for the definition of 3PID &lt;code&gt;medium&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1417&quot;&gt;#1417&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Correct the order of the default override pushrules in the spec. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1421&quot;&gt;#1421&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Improve distinction between tags and their attributes in the rich text section. Contributed by Nico. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1433&quot;&gt;#1433&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;server-server-api&quot;&gt;Server-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Breaking Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Remove &lt;code&gt;keyId&lt;&#x2F;code&gt; from the server &lt;code&gt;&#x2F;keys&lt;&#x2F;code&gt; endpoints, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3938&quot;&gt;MSC3938&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1350&quot;&gt;#1350&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add information on standard error responses for unknown endpoints&#x2F;methods, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3743&quot;&gt;MSC3743&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1347&quot;&gt;#1347&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add &lt;code&gt;&#x2F;timestamp_to_event&#x2F;&amp;lt;roomID&amp;gt;&lt;&#x2F;code&gt; endpoint, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3030&quot;&gt;MSC3030&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1366&quot;&gt;#1366&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Extend &lt;code&gt;&#x2F;_matrix&#x2F;federation&#x2F;v2&#x2F;send_join&lt;&#x2F;code&gt; to allow omitting membership events, per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-doc&#x2F;pull&#x2F;3706&quot;&gt;MSC3706&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1393&quot;&gt;#1393&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1398&quot;&gt;#1398&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Note that &lt;code&gt;&#x2F;_matrix&#x2F;federation&#x2F;v2&#x2F;send_join&lt;&#x2F;code&gt; should include heroes for nameless rooms, even when allowed to omit membership events, per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-doc&#x2F;pull&#x2F;3943&quot;&gt;MSC3943&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1425&quot;&gt;#1425&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Include examples inline instead of using a reference for invite endpoint definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1349&quot;&gt;#1349&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix &lt;code&gt;POST _matrix&#x2F;federation&#x2F;v1&#x2F;user&#x2F;keys&#x2F;claim&lt;&#x2F;code&gt; response schema. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1351&quot;&gt;#1351&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Correct the default invite level definition in the &quot;Checks performed on receipt of a PDU&quot; section. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1371&quot;&gt;#1371&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that CNAMEs are permissible for server names. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1376&quot;&gt;#1376&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix &lt;code&gt;edu_type&lt;&#x2F;code&gt; in EDU examples. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1383&quot;&gt;#1383&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;application-service-api&quot;&gt;Application Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add information on standard error responses for unknown endpoints&#x2F;methods, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3743&quot;&gt;MSC3743&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1347&quot;&gt;#1347&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;identity-service-api&quot;&gt;Identity Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add information on standard error responses for unknown endpoints&#x2F;methods, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3743&quot;&gt;MSC3743&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1347&quot;&gt;#1347&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;push-gateway-api&quot;&gt;Push Gateway API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add information on standard error responses for unknown endpoints&#x2F;methods, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3743&quot;&gt;MSC3743&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1347&quot;&gt;#1347&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;room-versions&quot;&gt;Room Versions&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Update the default room version to 10, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3904&quot;&gt;MSC3904&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1397&quot;&gt;#1397&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Clarify the grammar for room versions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1422&quot;&gt;#1422&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1423&quot;&gt;#1423&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;appendices&quot;&gt;Appendices&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;internal-changes-tooling&quot;&gt;Internal Changes&#x2F;Tooling&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add link to the unstable spec to the README. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1357&quot;&gt;#1357&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Improve safety of the proposals retrieval script in the event of failure. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1368&quot;&gt;#1368&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Rename &lt;code&gt;&amp;lt;content&amp;gt;&lt;&#x2F;code&gt; to &lt;code&gt;content&lt;&#x2F;code&gt; in the OpenAPI files for content uploads. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1370&quot;&gt;#1370&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Stop autogenerating examples where we already have an example. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1384&quot;&gt;#1384&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Improve formatting of definitions in the Push Notifications section. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1415&quot;&gt;#1415&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Synapse 1.76 released</title>
    <published>2023-01-31T00:00:00+00:00</published>
    <updated>2023-01-31T00:00:00+00:00</updated>
    <author>
      <name>H. Shay</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2023/01/31/synapse-1-76-released/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2023/01/31/synapse-1-76-released/</id>
    <content type="html">&lt;p&gt;Greetings Matrix fans! We&#x27;ve published Synapse &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.76.0&quot;&gt;version 1.76&lt;&#x2F;a&gt;
as the new stable release this week. Synapse admins are encouraged to upgrade
to it at their convenience. Please take a look at the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.76&#x2F;upgrade.html#upgrading-to-v1760&quot;&gt;upgrade notes&lt;&#x2F;a&gt;
for any important information about upgrading.&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=&quot;announcements&quot;&gt;Announcements&lt;&#x2F;h2&gt;
&lt;p&gt;The big news is that faster joins for all has arrived! When joining a room for the first time,
Synapse 1.76.0 will request a partial join from the other server by default. Previously, server admins
had to opt-in to this using an experimental config flag.&lt;&#x2F;p&gt;
&lt;p&gt;Server admins can opt out of this feature for the time being by setting&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot;&gt;&lt;code&gt;&lt;span&gt;experimental:
&lt;&#x2F;span&gt;&lt;span&gt;    faster_joins: false
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;in their server config.&lt;&#x2F;p&gt;
&lt;p&gt;For everyone else, after a faster join Synapse considers that room &quot;partially joined&quot;. In this state, you should be able to&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;read incoming messages (on clients which support lazy-loaded members in &#x2F;sync);&lt;&#x2F;li&gt;
&lt;li&gt;see incoming state changes, e.g. room topic changes; and&lt;&#x2F;li&gt;
&lt;li&gt;send messages, if the room is unencrypted.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Synapse has to spend more effort to complete the join in the background. Once this finishes, you will be able to&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;send messages, if the room is encrypted;&lt;&#x2F;li&gt;
&lt;li&gt;retrieve room history from before your join, if permitted by the room settings; and&lt;&#x2F;li&gt;
&lt;li&gt;access the full list of room members.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Practically, this means that the experience of joining a large room over federation should be greatly improved. In past
versions of Synapse, joining a large room such as Matrix HQ over federation could take up to 30 mins. This time has been
cut to ~20-30 seconds to partially join in the new release. Those of you who have been watching this know this has been
a huge undertaking, big shout out to the team for getting it over the line! We&#x27;re excited the community to try it, as
always if you encounter any problems you are encouraged to file an &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;new?assignees=&amp;amp;labels=&amp;amp;template=BUG_REPORT.yml&quot;&gt;issue&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;changes-to-the-account-data-replication-streams&quot;&gt;Changes to the account data replication streams&lt;&#x2F;h3&gt;
&lt;p&gt;Please note that Synapse has changed the format of the account data and devices replication streams (between workers).
This is a forwards- and backwards-incompatible change: v1.75 workers cannot process account data replicated by v1.76
workers, and vice versa.&lt;&#x2F;p&gt;
&lt;p&gt;Once all workers are upgraded to v1.76 (or downgraded to v1.75), account data and device replication will resume as normal.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-new-stuff&quot;&gt;The new stuff&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;the-default-room-version-has-now-been-updated-to-v10&quot;&gt;The default room version has now been updated to &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.5&#x2F;rooms&#x2F;v10&#x2F;&quot;&gt;v10&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;
&lt;p&gt;Room version 10 is now the default room version in Synapse 1.76.0. This room version builds on v9 to introduce a new
&lt;code&gt;knock_restricted&lt;&#x2F;code&gt; join rule, allowing prospective members to more easily join such a room. The &lt;code&gt;knock_restricted&lt;&#x2F;code&gt; join
rule allows for prospective members of a room to join either through knocking or through &lt;code&gt;join_restrictions&lt;&#x2F;code&gt;, which allows
prospective members to join a restricted room based on whether they are a joined member of another room. You can read more
about restricted rooms &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.5&#x2F;client-server-api&#x2F;#restricted-rooms&quot;&gt;here&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;synapse-now-implements-experimental-support-for-msc3930-push-rules-for-polls&quot;&gt;Synapse now implements experimental support for &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3930&quot;&gt;MSC3930&lt;&#x2F;a&gt; Push rules for Polls&lt;&#x2F;h3&gt;
&lt;p&gt;Synapse has added some new, default push rules for &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3381&quot;&gt;MSC3881&lt;&#x2F;a&gt;-esque event types.&lt;&#x2F;p&gt;
&lt;p&gt;This allows for notifications from polls, ie when a poll starts or ends.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;See the full &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.76.0&quot;&gt;changelog&lt;&#x2F;a&gt;, for a
complete list of changes in the release.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend our
thanks to everyone who contributed to these releases, including: katlol, thezaidbintariq,
dklimpel, FSG-Cat, tjay27, emgrav, villepeh.&lt;&#x2F;p&gt;
&lt;p&gt;We are also grateful to anyone helping us make Synapse better by sharing their
feedback and reporting issues, or helping with community support questions.&lt;&#x2F;p&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Synapse 1.75 released</title>
    <published>2023-01-19T15:38:49+00:00</published>
    <updated>2023-01-19T15:38:49+00:00</updated>
    <author>
      <name>Mathieu Velten</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2023/01/19/synapse-1-75-released/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2023/01/19/synapse-1-75-released/</id>
    <content type="html">&lt;p&gt;We published Synapse &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.75.0&quot;&gt;version 1.75&lt;&#x2F;a&gt;
as the new stable release this week. Synapse admins are encouraged to upgrade
to it at their convenience. It seems like the blog post for &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.74.0&quot;&gt;version 1.74&lt;&#x2F;a&gt;
was eaten by Santa&#x27;s reindeer, so this post will also cover changes from it.&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=&quot;announcements&quot;&gt;Announcements&lt;&#x2F;h2&gt;
&lt;p&gt;There were no special announcements for the 1.75 release.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;synapse-1-74-icu-dependency-for-improved-user-search&quot;&gt;Synapse 1.74: ICU dependency for improved user search&lt;&#x2F;h3&gt;
&lt;p&gt;Synapse&#x27;s search functionality has long been poor when searching for non-English
terms. Synapse 1.74 &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;14464&quot;&gt;introduced&lt;&#x2F;a&gt;
support for an optional improved user search experience which has a better
awareness of Unicode. To do so, we use the &lt;a href=&quot;https:&#x2F;&#x2F;icu.unicode.org&#x2F;&quot;&gt;ICU library&lt;&#x2F;a&gt;
when Synapse is installed alongside the binding library &lt;a href=&quot;https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;PyICU&#x2F;&quot;&gt;PyICU&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse installations using Matrix.org docker images or debian packages will
automatically have the new search mode enabled.&lt;&#x2F;p&gt;
&lt;p&gt;From-source installations will need to include the &lt;code&gt;user-search&lt;&#x2F;code&gt; extra when
&lt;code&gt;pip install&lt;&#x2F;code&gt; Synapse, e.g. &lt;code&gt;pip install matrix-synapse[user-search]&lt;&#x2F;code&gt;.
&lt;strong&gt;NB:&lt;&#x2F;strong&gt; because PyICU is not distributed as source-only on PyPI, you will need
to ensure the ICU development headers are available on your system. See the
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.75&#x2F;upgrade.html#unicode-support-in-user-search&quot;&gt;upgrade notes&lt;&#x2F;a&gt;
for more info.&lt;&#x2F;p&gt;
&lt;p&gt;Please try out the new search mode and let us know how you find it in practice.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-new-stuff&quot;&gt;The new stuff&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;support-rfc7636-proof-key-for-code-exchange-for-oauth-single-sign-on&quot;&gt;Support &lt;a href=&quot;https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;rfc7636&quot;&gt;RFC7636&lt;&#x2F;a&gt; Proof Key for Code Exchange for OAuth single sign-on&lt;&#x2F;h3&gt;
&lt;p&gt;Synapse 1.75 adds support for RFC7636 code challenges in the OAuth 2.0 flow.&lt;&#x2F;p&gt;
&lt;p&gt;This is required by Twitter SSO and enabling it can protect against the
&quot;authorization code interception attack&quot;.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;experimental-support-for-removing-account-data-msc3391&quot;&gt;Experimental support for removing account data (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3391&quot;&gt;MSC3391&lt;&#x2F;a&gt;)&lt;&#x2F;h3&gt;
&lt;p&gt;Experimental support for removing account data has landed in Synapse.
It was previously possible to create or update account data but not remove them, this is now possible.&lt;&#x2F;p&gt;
&lt;p&gt;The support is experimental and needs to be enabled with a configuration flag since the MSC hasn&#x27;t landed yet.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;more-faster-remote-room-joins-fixes-and-improvements&quot;&gt;More faster remote room joins fixes and improvements&lt;&#x2F;h3&gt;
&lt;p&gt;In case you missed it we are working on dramatically improve performance of remote room joins, you can refer
to &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;10&#x2F;18&#x2F;testing-faster-remote-room-joins&quot;&gt;this blog post&lt;&#x2F;a&gt; for more details.&lt;&#x2F;p&gt;
&lt;p&gt;The last two Synapse releases brings that a lot closer to a proper release; in
particular they contain a lot of work to support faster joins in deployments
with multiple workers. The project continues in earnest; we hope to have more to
show off in the coming weeks.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;See the full &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.75.0&quot;&gt;changelog&lt;&#x2F;a&gt;, for a
complete list of changes in the release. Also please have a look at the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.75&#x2F;upgrade.html#upgrading-to-v1740&quot;&gt;upgrade
notes&lt;&#x2F;a&gt; for 1.74 version.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend our
thanks to everyone who contributed to these releases, including (in no particular
order): Ashish Kumar, Dirk Klimpel, Jeremy Kescher, Jeyachandran Rathnam,
Nick Mills-Barrett, Jason Little, Villepeh and Vertux.
We are also grateful to anyone helping us make Synapse better by sharing their
feedback and reporting issues, or helping with community support questions.&lt;&#x2F;p&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Synapse 1.73 released</title>
    <published>2022-12-07T00:00:00+00:00</published>
    <updated>2022-12-07T00:00:00+00:00</updated>
    <author>
      <name>Mathieu Velten</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2022/12/07/synapse-1-73-released/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2022/12/07/synapse-1-73-released/</id>
    <content type="html">&lt;p&gt;And here is another update to your beloved Matrix homeserver implementation, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.73.0&quot;&gt;Synapse
1.73&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;announcements&quot;&gt;Announcements&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;legacy-prometheus-metric-names-removed&quot;&gt;Legacy Prometheus metric names removed&lt;&#x2F;h3&gt;
&lt;p&gt;When releasing &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;10&#x2F;17&#x2F;synapse-1-69-released#upcoming-removal-of-deprecated-prometheus-metric-names&quot;&gt;Synapse 1.69&lt;&#x2F;a&gt;
a couple of months ago, we also announced the removal of old Prometheus metrics that have been replaced by more aptly named ones.
he list of these metrics can be found &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.73&#x2F;metrics-howto.html#renaming-of-metrics--deprecation-of-old-names-in-12&quot;&gt;here&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse 1.73 implements the final phase of this plan and entirely removes support for those metrics. As a result,
the &lt;code&gt;enable_legacy_metrics&lt;&#x2F;code&gt; configuration option, which was introduced in
&lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;11&#x2F;22&#x2F;synapse-1-72-released#announcements&quot;&gt;Synapse 1.71&lt;&#x2F;a&gt;, has also been removed.&lt;&#x2F;p&gt;
&lt;p&gt;Server administrators who are still relying on these legacy metric names are encouraged to update their dashboards at their earliest convenience.
For more information, please refer to the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.73&#x2F;upgrade#legacy-prometheus-metric-names-have-now-been-removed&quot;&gt;upgrade notes&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-new-stuff&quot;&gt;The new stuff&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;performance&quot;&gt;Performance&lt;&#x2F;h3&gt;
&lt;p&gt;A bunch of performance improvements have been included in this release, specifically around
the &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.5&#x2F;client-server-api&#x2F;#get_matrixclientv3roomsroomidmessages&quot;&gt;&lt;code&gt;&#x2F;messages&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; endpoint.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;14527&quot;&gt;Improvements to event filtering on the client-server API&lt;&#x2F;a&gt; gave the matrix.org homeserver a first nice bump as visible on this graph:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;&#x2F;blog&#x2F;img&#x2F;2022-12-07-apdex-filter-events-improvement.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Various optimizations around &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;14491&quot;&gt;fetching&lt;&#x2F;a&gt; &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;14508&quot;&gt;bundled&lt;&#x2F;a&gt;
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;14510&quot;&gt;aggregations&lt;&#x2F;a&gt; resulted in yet another nice improvement:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;&#x2F;blog&#x2F;img&#x2F;2022-12-07-bundled-aggregations-improvement.png&quot;&gt;&lt;img src=&quot;&#x2F;blog&#x2F;img&#x2F;2022-12-07-bundled-aggregations-improvement.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Note that the graph from the first image, and the second graph from the second image are &lt;a href=&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Apdex&quot;&gt;apdexes&lt;&#x2F;a&gt;, which
is a measure that shows improvement when it goes up (as opposed to e.g. response times, which improve
when they go down).&lt;&#x2F;p&gt;
&lt;h3 id=&quot;extensible-events-experimental-support&quot;&gt;Extensible Events experimental support&lt;&#x2F;h3&gt;
&lt;p&gt;Experimental support for Extensible Events has landed in Synapse.&lt;&#x2F;p&gt;
&lt;p&gt;This is exciting since this global rework of events presentation has been in talks
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;1767&quot;&gt;for a while&lt;&#x2F;a&gt;, and
having an implementation to experiment with greatly helps bringing the feature
closer to completion.&lt;&#x2F;p&gt;
&lt;p&gt;Note that this support is still very much experimental as the related MSCs are still
under review and could change at any time, and therefore not recommended for use
in production.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;See the full &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.73.0&quot;&gt;changelog&lt;&#x2F;a&gt;, for a
complete list of changes in the release. Also please have a look at the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.73&#x2F;upgrade#upgrading-to-v1730&quot;&gt;upgrade
notes&lt;&#x2F;a&gt; for this version.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;schmop&quot;&gt;schmop&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ashfame&quot;&gt;Ashish Kumar&lt;&#x2F;a&gt;,
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;realtyem&quot;&gt;realtyem&lt;&#x2F;a&gt;, and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;chapb&quot;&gt;Brennan Chapman&lt;&#x2F;a&gt;
as well as anyone helping us make Synapse better by sharing their feedback and reporting issues.&lt;&#x2F;p&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Synapse 1.72 released</title>
    <published>2022-11-22T00:00:00+00:00</published>
    <updated>2022-11-22T00:00:00+00:00</updated>
    <author>
      <name>Mathieu Velten</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2022/11/22/synapse-1-72-released/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2022/11/22/synapse-1-72-released/</id>
    <content type="html">&lt;p&gt;It&#x27;s not Christmas yet, but it&#x27;s time for a new release! Say hello to &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.72.0&quot;&gt;Synapse
1.72&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;It seems like this blog didn&#x27;t self update through AI for the 2 preceding
updates so this post will cover 1.70 to 1.72, sorry if this is a bit long but
it&#x27;s been a while :)&lt;&#x2F;p&gt;
&lt;h2 id=&quot;announcements&quot;&gt;Announcements&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;dropping-support-for-postgresql-10&quot;&gt;Dropping support for PostgreSQL 10&lt;&#x2F;h3&gt;
&lt;p&gt;PostgreSQL 10 has reached End Of Life: Synapse will no longer support it
beginning with version 1.72 so please upgrade your database if you have not
already done so.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;legacy-prometheus-metric-names-disabled-and-to-be-removed&quot;&gt;Legacy Prometheus metric names disabled and to be removed&lt;&#x2F;h3&gt;
&lt;p&gt;In previous versions of Synapse, some Prometheus metrics were emitted under two
different names, an older name that was non-compliant with OpenMetrics and
Prometheus conventions and a new compliant name.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse 1.71 and later have the old metric names switched off by default.&lt;&#x2F;p&gt;
&lt;p&gt;For now it&#x27;s still possible to get them by using &lt;code&gt;enable_legacy_metrics: true&lt;&#x2F;code&gt;,
however server administrators still using legacy metric names are highly
encouraged to migrate, as they will be removed in 1.73.&lt;&#x2F;p&gt;
&lt;p&gt;You can find the full list of renamed metrics
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.72&#x2F;metrics-howto.html#renaming-of-metrics--deprecation-of-old-names-in-12&quot;&gt;here&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;changes-to-the-events-received-by-application-services-interest&quot;&gt;Changes to the events received by application services (interest)&lt;&#x2F;h3&gt;
&lt;p&gt;Following the implementation of
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3905&quot;&gt;MSC3905&lt;&#x2F;a&gt;,
Synapse now only considers local users to be interesting to application
services. In other words, the users namespace regex in an app service&#x27;s
registration file is only applied against local users of the homeserver.&lt;&#x2F;p&gt;
&lt;p&gt;Please note, this probably doesn&#x27;t affect the expected behavior of your
application service, since an interesting local user in a room still means all
messages in the room (from local or remote users) will still be considered
interesting.&lt;&#x2F;p&gt;
&lt;p&gt;You can find a bit more info in the MSC and in the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.71&#x2F;upgrade.html#changes-to-the-events-received-by-application-services-interest&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-new-stuff&quot;&gt;The new stuff&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;threads-threads-threads&quot;&gt;Threads, threads, threads!&lt;&#x2F;h3&gt;
&lt;p&gt;Several MSCs related to threads got implemented:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3856&quot;&gt;MSC3856&lt;&#x2F;a&gt;
provide an API to fetch threads and related metadata.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3771&quot;&gt;MSC3771&lt;&#x2F;a&gt; and
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3773&quot;&gt;MSC3773&lt;&#x2F;a&gt;
implementing per thread read receipts and per thread notification counts.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3874&quot;&gt;MSC3874&lt;&#x2F;a&gt;
allows to filter out messages belonging to threads from the main timeline
(still considered experimental). Along with MSC3856, this should noticeably
improve performance of rooms that use threads heavily.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;This should significantly improve user experience related to threads, being
through behavior or performance impact.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;linking-events-together&quot;&gt;Linking events together&lt;&#x2F;h3&gt;
&lt;p&gt;Relationships are great, even more between events than humans!&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3664&quot;&gt;MSC3664&lt;&#x2F;a&gt; allows
Matrix clients to be notified in real time of related events, so you can now be
made quickly aware of this cat emoji reaction that your cat photo clearly
deserved.&lt;&#x2F;p&gt;
&lt;p&gt;Additionally, Synapse 1.72 includes an implementation of
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3912&quot;&gt;MSC3912&lt;&#x2F;a&gt;,
allowing users to redact the relations of a message alongside the message
itself. This is particularly helpful in cases like edits, where users usually
want to see their edits redacted at the same time as the original message. Note
that this implementation is currently incomplete and still experimental, though,
so watch this space!&lt;&#x2F;p&gt;
&lt;h3 id=&quot;faster-joins-continued&quot;&gt;Faster joins, continued&lt;&#x2F;h3&gt;
&lt;p&gt;We continue our journey to get everything going as transparently as possible
when doing fast remote room joins.&lt;&#x2F;p&gt;
&lt;p&gt;If you missed it you can refer to this previous &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;10&#x2F;18&#x2F;testing-faster-remote-room-joins&quot;&gt;blog
post&lt;&#x2F;a&gt; to
get a lot more infos, and feel free to grep Synapse changelog and the numerous
related issues&#x2F;PRs for all the gory details.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;See the full changelogs
(&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.70.0&quot;&gt;1.70&lt;&#x2F;a&gt;,
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.71.0&quot;&gt;1.71&lt;&#x2F;a&gt;,
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.72.0&quot;&gt;1.72&lt;&#x2F;a&gt;) for a
complete list of changes in the releases. Also please have a look at the
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.72&#x2F;upgrade#upgrading-to-v1720&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for this version.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;deepbluev7&quot;&gt;Nico&lt;&#x2F;a&gt;,
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;sando38&quot;&gt;sando38&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;realtyem&quot;&gt;realtyem&lt;&#x2F;a&gt;,
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;aceArt-GmbH&quot;&gt;aceArt GmbH&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;tuojamie&quot;&gt;Tuomas
Ojamies&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ashfame&quot;&gt;Ashish
Kumar&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;asymmetric&quot;&gt;asymmetric&lt;&#x2F;a&gt;,
&lt;a href=&quot;https:&#x2F;&#x2F;www.beeper.com&#x2F;&quot;&gt;Beeper&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;renegaderyu&quot;&gt;Ryan
Miguel&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ptman&quot;&gt;Paul
Tötterman&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Abdullah0sama&quot;&gt;Abdullah
Osama&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;thefinn93&quot;&gt;Finn&lt;&#x2F;a&gt;,
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;intelfx&quot;&gt;Ivan Shapovalov&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;dklimpel&quot;&gt;Dirk
Klimpel&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ShadowJonathan&quot;&gt;Jonathan de
Jong&lt;&#x2F;a&gt;,
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;MichaIng&quot;&gt;MichaIng&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;aaronraimist&quot;&gt;Aaron
Raimist&lt;&#x2F;a&gt; as well as anyone helping us make
Synapse better by sharing their feedback and reporting issues.&lt;&#x2F;p&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Matrix v1.5 release</title>
    <published>2022-11-17T16:56:36+00:00</published>
    <updated>2022-11-17T16:44:47+00:00</updated>
    <author>
      <name>Travis Ralston</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2022/11/17/matrix-v-1-5-release/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2022/11/17/matrix-v-1-5-release/</id>
    <content type="html">&lt;p&gt;Hey all,&lt;&#x2F;p&gt;
&lt;p&gt;We’ve just released &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.5&quot;&gt;Matrix 1.5&lt;&#x2F;a&gt;, a largely maintenance update for the spec. We intentionally haven’t landed any major features in this release as Matrix 1.4, &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;09&#x2F;29&#x2F;matrix-v-1-4-release&quot;&gt;just shy of 2 months ago&lt;&#x2F;a&gt;, had introduced fairly large features for clients and servers to consider. As with all spec releases, we encourage implementations to gradually update over the next few months rather than expect them to have support for everything on release day.&lt;&#x2F;p&gt;
&lt;p&gt;Matrix 1.5 sees just 2 MSCs get merged, though this is to be expected from a maintenance release. We expect that the next release (in Q1 2023) will have a few more exciting features to it :)&lt;&#x2F;p&gt;
&lt;p&gt;We’ve covered both MSCs below, but read on to the full changelog for the full picture.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;msc3267-reference-relations&quot;&gt;MSC3267: Reference relations&lt;&#x2F;h2&gt;
&lt;p&gt;Already supported implicitly by the spec up until now, &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.5&#x2F;client-server-api&#x2F;#reference-relations&quot;&gt;reference relations&lt;&#x2F;a&gt; are a way to simply reference another event. Usually these sorts of relations are used for events which need to be related to each other, but a dedicated relationship type doesn’t make a lot of sense.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.5&#x2F;client-server-api&#x2F;#key-verification-framework&quot;&gt;In-room verification&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3381&quot;&gt;MSC3381: Polls&lt;&#x2F;a&gt; are examples of how these relations get used.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;msc3905-clarify-appservice-interest-in-user-ids&quot;&gt;MSC3905: Clarify appservice interest in user IDs&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3905&quot;&gt;MSC3905&lt;&#x2F;a&gt; fixes an issue in the specification where appservices (usually bridges) specifying a users regex without homeserver domain would end up receiving far more event traffic than they would have intended. With the MSC, appservices are now only considered interested in “local” users, regardless of how vague their users namespace is.&lt;&#x2F;p&gt;
&lt;p&gt;Overall this should have no effect on most bridges&#x2F;appservices, however if an appservice in the wild really does need to listen to all users on all homeservers, it can specify a non-exclusive namespace on all rooms instead.&lt;&#x2F;p&gt;
&lt;p&gt;While writing this MSC into the spec we took some time to clarify the appservice registration requirements more generally: check them out &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.5&#x2F;application-service-api&#x2F;#registration&quot;&gt;here&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-full-changelog&quot;&gt;The full changelog&lt;&#x2F;h2&gt;
&lt;p&gt;MSCs are how the spec changes in the way it does - adding, fixing, and maintaining features for the whole ecosystem to use. Check out the full changelog below, and the &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;proposals&#x2F;&quot;&gt;Spec Change Proposals&lt;&#x2F;a&gt; page for more information on how these MSCs got merged (hint: they submitted a proposal, which anyone can do - take a look at the &lt;a href=&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=SFkZz60RRfc&quot;&gt;Matrix Live episode&lt;&#x2F;a&gt; where Matthew covers the proposal process).&lt;&#x2F;p&gt;
&lt;h3 id=&quot;client-server-api&quot;&gt;Client-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add &lt;code&gt;m.reference&lt;&#x2F;code&gt; relations, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3267&quot;&gt;MSC3267&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1206&quot;&gt;#1206&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add missing documentation for &lt;code&gt;m.key.verification.request&lt;&#x2F;code&gt; msgtype for in-room verification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1271&quot;&gt;#1271&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1260&quot;&gt;#1260&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1265&quot;&gt;#1265&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1276&quot;&gt;#1276&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix naming of &lt;code&gt;device_one_time_keys_count&lt;&#x2F;code&gt; in &lt;code&gt;&#x2F;sync&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1266&quot;&gt;#1266&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Improve display of event subtypes. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1283&quot;&gt;#1283&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Improve documentation about ephemeral events. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1284&quot;&gt;#1284&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Define a 400 response from &lt;code&gt;&#x2F;_matrix&#x2F;client&#x2F;v3&#x2F;directory&#x2F;rooms&#x2F;{roomAlias}&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1286&quot;&gt;#1286&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify parts of the end-to-end encryption sections. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1294&quot;&gt;#1294&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1345&quot;&gt;#1345&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Various clarifications throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1306&quot;&gt;#1306&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Replace &lt;code&gt;set_sound&lt;&#x2F;code&gt; push rule action by &lt;code&gt;set_tweak&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1318&quot;&gt;#1318&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify the behavior of &lt;code&gt;PUT &#x2F;_matrix&#x2F;client&#x2F;v3&#x2F;pushrules&#x2F;{scope}&#x2F;{kind}&#x2F;{ruleId}&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1319&quot;&gt;#1319&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that &lt;code&gt;.m.rule.master&lt;&#x2F;code&gt; has a higher priority than any push rule. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1320&quot;&gt;#1320&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Require request field &lt;code&gt;refresh_token&lt;&#x2F;code&gt; at endpoint &lt;code&gt;POST &#x2F;_matrix&#x2F;client&#x2F;v3&#x2F;refresh&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1323&quot;&gt;#1323&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix a number of broken links in the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1330&quot;&gt;#1330&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add example read receipt to &lt;code&gt;GET &#x2F;_matrix&#x2F;client&#x2F;v3&#x2F;sync&lt;&#x2F;code&gt; response example. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1341&quot;&gt;#1341&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;server-server-api&quot;&gt;Server-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Fix a number of broken links in the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1330&quot;&gt;#1330&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;application-service-api&quot;&gt;Application Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Clarify that application services can only register an interest in local users, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;issues&#x2F;3905&quot;&gt;MSC3905&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1305&quot;&gt;#1305&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;identity-service-api&quot;&gt;Identity Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Fix a number of broken links in the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1330&quot;&gt;#1330&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;push-gateway-api&quot;&gt;Push Gateway API&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;room-versions&quot;&gt;Room Versions&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Reword the event auth rules to clarify that users cannot demote other users with the same power level. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1269&quot;&gt;#1269&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Various clarifications to the text on event authorisation rules. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1270&quot;&gt;#1270&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix a number of broken links in the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1330&quot;&gt;#1330&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;appendices&quot;&gt;Appendices&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;internal-changes-tooling&quot;&gt;Internal Changes&#x2F;Tooling&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Update docsy theme to v0.5.0 + matrix.org modifications (https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;docsy&#x2F;commit&#x2F;a0032f8db919a6c67ba6cdef2c455f105b6272a2). (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1295&quot;&gt;#1295&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Improve error messages emitted by &lt;code&gt;resolve-additional-types&lt;&#x2F;code&gt; template. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1303&quot;&gt;#1303&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix link to API viewer. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1308&quot;&gt;#1308&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Stop rendering the subsections of the Client-Server API and Room Versions specs as their own separate pages. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1317&quot;&gt;#1317&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Use a link checker to ensure that we do not have broken links. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1329&quot;&gt;#1329&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1338&quot;&gt;#1338&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update instructions to preview Swagger definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1331&quot;&gt;#1331&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Make definition anchors more unique. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1339&quot;&gt;#1339&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Generate the unstable changelogs with towncrier, for consistency. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1340&quot;&gt;#1340&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update CONTRIBUTING.md to mention that non-content changes to this repo should have an &quot;internal&quot; changelog entry. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1342&quot;&gt;#1342&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update module summary table with new modules: Event Replacements, Threading and Reference Relations. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1344&quot;&gt;#1344&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Disable RSS generation for the spec. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1346&quot;&gt;#1346&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
</entry>

    
    
<entry xml:lang="en">
    <title>Synapse 1.69 released</title>
    <published>2022-10-17T18:52:11+00:00</published>
    <updated>2022-10-17T18:07:15+00:00</updated>
    <author>
      <name>Brendan Abolivier</name>
    </author>
    <link rel="alternate" href="https://tune-your-chat.github.io/blog/2022/10/17/synapse-1-69-released/" type="text/html"/>
    <id>https://tune-your-chat.github.io/blog/2022/10/17/synapse-1-69-released/</id>
    <content type="html">&lt;p&gt;Hey everyone, it&#x27;s time for a new Synapse release! &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.69.0&quot;&gt;Synapse
1.69&lt;&#x2F;a&gt; is out, fresh
out of the oven. But before we take a look at it, here&#x27;s a quick announcement:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;We have recently disclosed a moderate severity security vulnerability, which
was fixed in &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;07&#x2F;06&#x2F;synapse-1-62-released&#x2F;&quot;&gt;Synapse
1.62&lt;&#x2F;a&gt; (released on
July 5th 2022). This issue affects all homeservers running a version of
Synapse older than 1.62 with open federation. If this is the case for your
deployment, please update to a more recent version of Synapse at your earliest
convenience.&lt;&#x2F;p&gt;
&lt;p&gt;See advisory
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;security&#x2F;advisories&#x2F;GHSA-jhjh-776m-4765&quot;&gt;GHSA-jhjh-776m-4765&lt;&#x2F;a&gt;
and &lt;a href=&quot;https:&#x2F;&#x2F;www.cve.org&#x2F;CVERecord?id=CVE-2022-31152&quot;&gt;CVE-2022-31152&lt;&#x2F;a&gt; for more
information.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;Now let&#x27;s see what&#x27;s new in Synapse 1.69!&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=&quot;caching-in-modules&quot;&gt;Caching in modules&lt;&#x2F;h2&gt;
&lt;p&gt;Synapse modules allow third-party developers to extend Synapse&#x27;s feature range
to include very custom features.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse 1.69 includes tools modules can use to interact with Synapse&#x27;s caching
system, which includes features such as synchronising caches across multiple
Synapse workers.&lt;&#x2F;p&gt;
&lt;p&gt;Starting with this version, modules can import the &lt;code&gt;@cache()&lt;&#x2F;code&gt; decorator from
&lt;code&gt;synapse.module_api&lt;&#x2F;code&gt;, to decorate functions which results must be cached. Cached
functions need to be registered with
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;v1.69.0&#x2F;synapse&#x2F;module_api&#x2F;__init__.py#L839-L853&quot;&gt;&lt;code&gt;ModuleApi.register_cached_function&lt;&#x2F;code&gt;&lt;&#x2F;a&gt;
at the module&#x27;s initialisation. Invalidating a cached function&#x27;s result for a
given set of arguments can be done using &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;v1.69.0rc1&#x2F;synapse&#x2F;module_api&#x2F;__init__.py#L855-L872&quot;&gt;&lt;code&gt;ModuleApi.invalidate_cache&lt;&#x2F;code&gt;&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;upcoming-removal-of-deprecated-prometheus-metric-names&quot;&gt;Upcoming removal of deprecated Prometheus metric names&lt;&#x2F;h2&gt;
&lt;p&gt;Back in &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2019&#x2F;07&#x2F;25&#x2F;synapse-1-2-0-released&quot;&gt;Synapse
1.2&lt;&#x2F;a&gt;, we deprecated a
number of Prometheus metrics, to replace them with more aptly named equivalents
that fit existing naming conventions better.&lt;&#x2F;p&gt;
&lt;p&gt;With Synapse 1.69, we&#x27;re announcing the plan for the removal for these
deprecated metrics. Synapse 1.71 (due to be released on November 8) will turn
these metrics off by default (though it will still be possible to enable them
back). Synapse 1.73 (due to be released on November 22) will remove them
altogether.&lt;&#x2F;p&gt;
&lt;p&gt;Server administrators using metrics dashboards that rely on the deprecated
metrics are encouraged to update their dashboards with the new metric names. See
the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.69&#x2F;upgrade.html#deprecation-of-legacy-prometheus-metric-names&quot;&gt;upgrade
notes&lt;&#x2F;a&gt; for more information.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;Synapse 1.69 also deprecates the &lt;code&gt;generate_short_term_login_token&lt;&#x2F;code&gt; module API
method in favour of the asynchronous &lt;code&gt;create_login_token&lt;&#x2F;code&gt; one. The deprecated
method will be removed in Synapse 1.71. See the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.69&#x2F;upgrade.html#deprecation-of-the-generate_short_term_login_token-module-api-method&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for more information.&lt;&#x2F;p&gt;
&lt;p&gt;Additionally, Synapse 1.69 introduces a forwards- and backwards-incompatible
change to the replication of read receipts. This means that read receipts
replicated by workers running Synapse 1.68 will not be able to be processed by
workers running Synapse 1.69 and vice-versa. Once all workers are made to run
Synapse 1.69 (or 1.68), replication of read receipts will resume as normal. See
the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.69&#x2F;upgrade.html#changes-to-the-receipts-replication-streams&quot;&gt;upgrade
notes&lt;&#x2F;a&gt; for more information.&lt;&#x2F;p&gt;
&lt;p&gt;See the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.69.0&quot;&gt;full
changelog&lt;&#x2F;a&gt; for a
complete list of changes in this release. Also please have a look at the
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.69&#x2F;upgrade#upgrading-to-v1690&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for this version.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;lukasdenk&quot;&gt;lukasdenk&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;dklimpel&quot;&gt;Dirk
Klimpel&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ashfame&quot;&gt;Ashish
Kumar&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;www.famedly.com&#x2F;&quot;&gt;Famedly&lt;&#x2F;a&gt; and
&lt;a href=&quot;https:&#x2F;&#x2F;www.beeper.com&#x2F;&quot;&gt;Beeper&lt;&#x2F;a&gt;, as well as anyone helping us make Synapse
better by sharing their feedback and reporting issues.&lt;&#x2F;p&gt;
</content>
</entry>

    
    
</feed>
