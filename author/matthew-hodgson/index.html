<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />
    
    <meta property="og:url" content="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;author&#x2F;matthew-hodgson&#x2F;" />
    
    
    
    
    <meta property="og:title" content="Matrix.org" />
    
    
    
    <meta property="og:description" content="Matrix, the open protocol for secure decentralised communications" />
    <meta name="description" content="Matrix, the open protocol for secure decentralised communications" />
    
    <meta property="og:image" content="https://matrix.org/blog/img/matrix-logo.png" />
    <meta name="twitter:image" content="https://matrix.org/blog/img/matrix-logo.png" />
    
    <title>Matrix.org - Matthew Hodgson</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href=https://tune-your-chat.github.io/style.css?h=0d1a23c06b707a231261 />
    <script async src=https://tune-your-chat.github.io/js/components.js?h=ae3cb894d00e16ef08be></script>
    <script defer data-domain="matrix.org" src="https://plausible.io/js/script.tagged-events.js"></script>


    
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://tune-your-chat.github.io/author/matthew-hodgson/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="https:&#x2F;&#x2F;spec.matrix.org" class="
            ">
            Spec
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="foundation-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="foundation-submenu-checkbox" class="submenu-title">Foundation <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;foundation&#x2F;about&#x2F;">About Matrix</a>
                    
                    <a href="&#x2F;foundation&#x2F;governing-board-elections&#x2F;">Governing Board Elections 2024</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Docs
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;tune&#x2F;">Tune Your Chat</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;integrations&#x2F;">Integrations</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;support" class="
            ">
            Donate
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Matthew Hodgson</h1>
            158 posts tagged with "Matthew Hodgson" <a href="/author">(See all Author)</a>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2024&#x2F;08&#x2F;heart-of-matrix&#x2F;" title="Protecting the projects at the heart of the Matrix ecosystem">Protecting the projects at the heart of the Matrix ecosystem</a></h2>
                <span>
                    15.08.2024 19:00
                    —
                    <a href="/category/foundation">
                        Foundation
                    </a>
                    —
                    <a
                        href="/author/josh-simmons">
                        Josh Simmons
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>There have been many changes at the Foundation in the last couple of years. We’ve added independent leadership, attracted members, continued working towards sustainability, and expanded our open governance to establish a Governing Board to become better and more capable stewards of the protocol and ecosystem. We’re still in a period of organisational transition, getting into the groove with the Governing Board, focusing on the Spec Core Team, and building the technical and financial foundation for independence.</p>
<p>We’ve also been asking ourselves what it means for a project to be “core” to the Foundation, and how the Foundation should relate to and work with the people who maintain those projects. These are fundamental questions for any open source foundation, and they’ve become even more pressing for us since Element switched developing Synapse and several other projects to AGPLv3, rather than contributing under the Foundation as Apache v2.</p>
<p>This blog post explores our context and sets out to start a discussion on how we should move forward. Already, we’ve been having these discussions in Foundation rooms and on the Governing Board, and we look forward to bringing more people into this discussion so that we can ship a framework that delivers on our mission and meets the needs of the Matrix ecosystem.</p>

                <p><a href="/blog/2024/08/heart-of-matrix/#continue-reading">Continue reading…</a></p>
                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2024&#x2F;04&#x2F;open-source-publicly-funded-service&#x2F;" title="Open Source Infrastructure must be a publicly funded service.">Open Source Infrastructure must be a publicly funded service.</a></h2>
                <span>
                    04.04.2024 16:30
                    —
                    <a href="/category/foundation">
                        Foundation
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi folks,</p>
<p>The events of the last week have been utterly terrifying as we’ve seen a highly sophisticated targeted attack on open source infrastructure play out in public, in the form of the <a href="https://arstechnica.com/security/2024/04/what-we-know-about-the-xz-utils-backdoor-that-almost-infected-the-world/">liblzma backdoor</a>. Matrix is not impacted by the attack (none of our code or infrastructure is using liblzma or xz 5.6), but it has been a massive wakeup call in terms of understanding the risks posed by overstretched open source maintainership.</p>

                <p><a href="/blog/2024/04/open-source-publicly-funded-service/#continue-reading">Continue reading…</a></p>
                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2023&#x2F;12&#x2F;25&#x2F;the-matrix-holiday-update-2023&#x2F;" title="The Matrix Holiday Update 2023">The Matrix Holiday Update 2023</a></h2>
                <span>
                    25.12.2023 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>2023 has been a pivotal year for Matrix, with huge changes landing both organisationally and technically to prepare the protocol for future generations.  The ecosystem has once again gone from strength to strength, with active users (based on Synapse opt-in phone-home reporting) doubling across the public network, and more projects building on Matrix than we can count (look out for the “This Year in Matrix” community wrap-up blog post) - and more organisations than we can track joining Matrix for all their secure decentralised communication needs.</p>
<p>On the governance side, we are in an incredibly exciting new era with <a href="https://matrix.org/blog/2023/10/26/hello-world/">Josh joining the Matrix.org Foundation</a> as its first ever Managing Director (and employee!), with a mandate to cement sustainable funding for Matrix as an independent foundation, governed by the forthcoming elected <a href="https://matrix.org/blog/2023/12/electing-our-first-governing-board/">open Governance Board</a>.  Now, <strong>Matrix needs funding more than ever</strong> - but rather than turning the entirety of this post into a plea for donations, I’m going to let Josh fly the flag in the coming weeks. Meanwhile, if you want Matrix to keep existing (especially if you’re an organisation who builds on Matrix) <strong><a href="https://matrix.org/membership/">please join the Foundation</a> and <a href="https://matrix.org/support">donate</a>.</strong></p>
<p>On the technical side: the theme of the year has been one of focus: extreme, overdue, focus.</p>
<p>Over the years, it’s fair to say that the core team has tried to strike a balance between building the core foundational technology of Matrix (the spec, a stable server implementation, client SDKs, end-to-end encryption, VoIP, etc)... and long-term forward-looking projects designed to futureproof Matrix (e.g. Account Portability, P2P Matrix, Dendrite, Hydrogen) and/or inspire developers to build on Matrix for more than just chat (e.g. Third Room, Applications Beyond Chat).  In retrospect, this was wildly optimistic: we underestimated the amount of remaining work needed to polish the foundational tech to mainstream quality - and despite Matrix uptake going through the roof, this hasn’t translated into sufficient funding to have the luxury to support folks to proactively work on next-gen projects (or foundational projects, for that matter).</p>
<p>So, this year, we’ve ended up focused on one thing: getting the foundational Matrix featureset to better-than-mainstream quality, performance and stability.  We’ve dubbed the overall initiative Matrix 2.0, and kicked it off at <a href="https://archive.fosdem.org/2023/schedule/event/matrix20/">FOSDEM 2023</a> with our <a href="https://www.youtube.com/watch?v=eUPJ9zFV5IE">Matrix 2.0: How we’re making Matrix go vooooom</a> main-stage talk.</p>
<h3 id="the-road-to-matrix-2-0">The Road to Matrix 2.0</h3>
<p>Matrix 2.0 isn’t (yet) an actual versioned release of the Matrix specification - instead, it describes the various foundational projects needed to get quality, performance and stability up to and beyond that of today’s mainstream messaging apps.  These projects are:</p>
<ul>
<li><strong>Sliding Sync (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575">MSC3575</a>)</strong>: the ability to instantly log in, launch and sync Matrix clients no matter how large or busy the account.</li>
<li><strong>Native E2EE Group VoIP (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3898">MSC3898</a> + TBA)</strong>: scalable video and voice conferencing and calling built natively on Matrix and so benefiting from Matrix’s end-to-end encryption.</li>
<li><strong>Native OIDC (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3861">MSC3861</a>)</strong>: replacing Matrix’s historical authentication mechanisms with industry-standard Open ID Connect (giving us two factor authentication, multi-factor auth, passkeys, and radically simplifying auth implementations for both client and server developers).</li>
<li><strong>Faster Remote Room Joins (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3902">MSC3902</a></strong>): letting servers rapidly join rooms on other servers by incrementally participating in the room.</li>
</ul>
<p>Over the course of the year Matrix 2.0 has gone from the initial demo on stage at FOSDEM to concrete implementations which users can play with today as announced in our <a href="https://matrix.org/blog/2023/09/matrix-2-0/">Matrix 2.0: The Future of Matrix</a> post in September.  Since then, we’ve been busy polishing away.  On Sliding Sync, the <a href="https://github.com/matrix-org/sliding-sync">proxy</a> has pretty much stabilised - although the protocol itself can and should be simplified before we think seriously about native implementations (in practice, having the server track room list ordering gets very fiddly when only clients can really determine the final ordering, due to E2EE).  <a href="https://element.io/blog/element-x-ignition/">Element X</a> and <a href="https://github.com/matrix-org/matrix-rust-sdk">matrix-rust-sdk</a> has been the main implementation driving forwards Sliding Sync and much of the other Matrix 2.0 work, for those itching to play with it.</p>
<p>On Native Group VoIP: we’ve gone through many iterations over the year - starting off with Full Mesh calling (good for ~7 users per call); then switching to the experimental <a href="https://github.com/matrix-org/waterfall">waterfall</a> Selective Forwarding Unit (SFU) to provide scalable but not-E2EE conferencing; and then switching to a hybrid solution using LiveKit to provide an E2EE-capable scalable SFU, but with the signalling and encryption all handled by Matrix.  Element Call is the main implementation driving forwards the underlying Matrix work here, and <a href="https://element.io/blog/element-call-beta-3/">Element Call Beta 3</a> showed off the new LiveKit based implementation in July - which was then <a href="https://element.io/blog/element-x-now-with-embedded-voip/">integrated with Element X</a> complete with end-to-end encryption in November.  There’s still some polishing remaining here, with a new layout engine in the wings for Element Call, and enabling full encrypted-per-sender conferencing by default in both Element Web and Element X, but it really feels like the hardest work is behind us now: the core team has been successfully doing all of its collaboration on <a href="https://call.element.io">Element Call</a> for months now, like so:</p>
<p><img src="https://matrix.org/blog/img/20230921-element-call.png" alt="E2EE scalable Element Call" /></p>
<p>On Open ID Connect: things are also shaping up well. This will be the first time that we’ve replaced a large chunk of the Matrix spec with something else, and in order to manage your account in Matrix 2.0-native clients like Element X homeserver admins will need to migrate their authentication to the new OIDC World using <a href="https://github.com/matrix-org/matrix-authentication-service">matrix-authentication-service</a> (MAS).  There’s a great <a href="https://matrix.org/blog/2023/09/better-auth/">blog post</a> from September which explains what this will entail - and since then, we even have the beginnings of <a href="https://github.com/matrix-org/matrix-authentication-service/tree/main/tools/syn2mas">syn2mas</a>: a migration script to migrate from Synapse-managed accounts to MAS-managed accounts (warning: still experimental).  The Matrix.org homeserver hasn’t been migrated yet (as we need to support social login first), but an increasing number of standalone Matrix servers are going OIDC-native, so arguably the migration has already begun!  We’ll keep <a href="https://areweoidcyet.com">https://areweoidcyet.com</a> updated as the project progresses.</p>
<p>Finally, the core of Faster Remote Room Joins (FRRJ) shipped in Synapse back in February. There’s still some major speedups that FRRJ could unlock, but the other tracks of Matrix 2.0 have been taking priority.</p>
<p>So: Matrix 2.0 is palpably on the horizon - all that remains is polish on the example clients (Element X &amp; Element Call), full support for migrating to OIDC, and landing the MSCs into the spec. For instance, Element X just added read receipts and (early) E2EE backup support in the last few days - the gap is closing! It’s worth noting that significant amounts of this work has been funded by BWI for <a href="https://messenger.bwi.de/">BwMessenger</a> and <a href="https://messenger.bwi.de/bundesmessenger">BundesMessenger</a>: huge thanks to BWI for supporting core Matrix development by contracting Element.</p>
<h3 id="levelling-up-on-encryption">Levelling up on Encryption</h3>
<p>Encryption stability received a huge amount of attention this year. It turns out that reliable end-to-end encryption is surprisingly tricky in a decentralised environment, and historically we’ve been playing on hard mode by implementing three entirely separate implementations of the Matrix layer of encryption between matrix-js-sdk, matrix-ios-sdk and matrix-android-sdk2, each with their own bugs - more than tripling the costs of development, audits, and maintenance by the Foundation (quite ignoring the independent implementations from the community in mtxclient, libquotient, matrix-dart-sdk, trixnity etc).</p>
<p>So a huge project has been underway to converge on a single auditable codebase for the core team’s E2EE implementation so that any bugs or future features can be resolved in a single place. That codebase is matrix-rust-sdk’s <a href="https://github.com/matrix-org/matrix-rust-sdk/tree/main/crates/matrix-sdk-crypto">matrix-sdk-crypto</a> crate (and our underlying <a href="https://github.com/matrix-org/vodozemac">vodozemac</a> double ratchet implementation) - and we’re proud to say that we are using it for encryption in matrix-rust-sdk itself (as showcased by Element X and Fractal 5), matrix-ios-sdk and matrix-android-sdk2 (as used in the old Element iOS &amp; Android apps), and have now merged it in matrix-js-sdk too (available for new logins on <a href="https://tune-your-chat.github.io/blog/2023/12/25/the-matrix-holiday-update-2023/develop.element.io">develop.element.io</a>).  The process of rustifying the encryption in Element Web and the old iOS &amp; Android apps has been nicknamed “Element R”.</p>
<p>The process of switching matrix-js-sdk to use Rust encryption has been particularly gruelling, requiring compiling matrix-sdk-crypto down to WASM as <a href="https://github.com/matrix-org/matrix-rust-sdk-crypto-wasm">matrix-rust-sdk-crypto-wasm</a> and then doing heart surgery to replace the old JS crypto implementation… while also needing to extensively loop from WASM back into the browser to use IndexedDB for storage, all while outperforming the old implementation.  It’s tantalisingly close now: while <a href="https://tune-your-chat.github.io/blog/2023/12/25/the-matrix-holiday-update-2023/develop.element.io">develop.element.io</a> has it turned on by default for new logins, there are still a few remaining performance edge cases to be chased down related to online backup before we migrate everyone to it. The remaining <a href="https://github.com/element-hq/element-web/issues?q=is%3Aissue+is%3Aopen+label%3AZ-Element-R-Blocker">blocking issues</a> can be found on GitHub for those interested in tracking progress.</p>
<p>matrix-crypto-sdk is already manifestly more reliable than the old implementations (in terms of the chances of hitting infamous Unable To Decrypt errors) - and now that we are so close to converging on it everywhere, the race is on to ensure that any remaining defects get flushed out for once and for all.  One of the new initiatives here is called <a href="https://github.com/matrix-org/complement-crypto">complement-crypto</a> - a full end-to-end torture testing suite specifically for matrix-crypto-sdk.  You can read all about it in <a href="https://matrix.org/blog/2023/12/01/this-week-in-matrix-2023-12-01/#complement-website">the announcement post</a> a few weeks ago, but suffice it to say it’s a super exciting project which stress-tests both matrix-rust-sdk and matrix-js-sdk (with the new rust crypto implementation) against federated Synapse containers in order to test E2EE under the most horrible failure modes imaginable.  It’s already picked up some elusive bugs which have plagued us for literally years, and it looks set to be the main framework by which we will hunt down and kill any remaining issues.  See the <a href="https://github.com/matrix-org/complement-crypto/?tab=readme-ov-file#test-hitlist">Test hitlist</a> for the full scope we’re targeting.</p>
<p>Now that everyone’s (almost) converged on matrix-sdk-crypto, the next big project for the Crypto Team is going to be improving the E2EE usability (at last!).  The big news here is that we’re shifting to Trust On First Use (TOFU) for user trust.  Specifically: this means that we will only encrypt messages to devices whose owner has explicitly cross-signed them (essentially trusting the owner by default).  You will still be able to explicitly verify that other users are not being impersonated (via QR scan or emoji comparison), but this should improve the default behaviour to be much more secure.  Alongside TOFU will come other radical simplifications of the E2EE UX (both around login, self-verification, cross-verification and backup), so watch this space: the game is afoot to finally fix Matrix’s E2EE usability, now we can make all the changes in one place!</p>
<p>Finally, work continues to progress at <a href="https://gitlab.matrix.org/uhoreg/matrix-dmls">matrix-dmls</a> on supporting a decentralised dialect of Messaging Layer Security (MLS, <a href="https://datatracker.ietf.org/doc/rfc9420/">RFC9420</a>) on top of Matrix as an alternative to our normal Olm/Megolm encryption, with recent work focused on making it play nice with matrix-sdk-crypto. <a href="https://arewemlsyet.com">https://arewemlsyet.com</a> is the place to track updates (although it’s a bit overdue for an update).</p>
<h3 id="in-other-news">In other news</h3>
<p>Faced with limited funding and the decision to focus exclusively on stability, reliability and performance, there have inevitably been some major changes impacting the core team.</p>
<p>One of the biggest changes is that Element (the company formed by the core Matrix team back in 2017 to try to fund our work on Matrix) can no longer financially afford to donate its work on Synapse and other server components to the Matrix Foundation under the permissive Apache licence. Instead, Element is continuing development under the copyleft AGPLv3 licence at <a href="https://tune-your-chat.github.io/blog/2023/12/25/the-matrix-holiday-update-2023/github.com/element-hq/synapse">github.com/element-hq/synapse</a> going forwards. This is to let Element sell AGPL exceptions to commercial Matrix vendors in order to fund their underlying Matrix development: you can read more about it at <a href="https://element.io/blog/synapse-now-lives-at-github-com-element-hq-synapse/">Element’s announcement</a> - or you can listen to this week’s Matrix Live for a firsthand explanation:</p>
<p><noscript>Matrix Live S09E13: <a href="https://www.youtube.com/embed/ejpjTZhL8MA">https://www.youtube.com/embed/ejpjTZhL8MA</a></noscript>
<youtube-player video-id="ejpjTZhL8MA"></youtube-player></p>
<p>The other major change is that we’ve had no choice but pause development on the majority of the core team’s next-generation Matrix projects.  We had high hopes of being able to secure dedicated funding for <a href="https://tune-your-chat.github.io/blog/2023/12/25/the-matrix-holiday-update-2023/thirdroom.io">Third Room</a> (especially after the awesome <a href="https://matrix.org/blog/2023/06/07/introducing-third-room-tp-2-the-creator-update/">Tech Preview 2: Creator Update</a> in June), but the interested parties did not come through, and the team has now disbanded.  Meanwhile, P2P Matrix and Low Bandwidth Matrix is on hiatus until there’s dedicated funding - and Account Portability work is also temporarily paused in favour of commercial Element work, despite the fantastic progress made recently with Pseudo IDs (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4014">MSC4014</a>) and Cryptographic identifiers (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/4080">MSC4080</a>).  Given P2P Matrix and Account Portability were the main projects driving Dendrite development recently, this may also cause a slow-down in Dendrite development, although Dendrite itself will still be maintained.</p>
<p>Needless to say, this is far from an ideal situation: we sent up distress flares loud and clear at the beginning of <a href="https://matrix.org/blog/2022/12/25/the-matrix-holiday-update-2022/">last year’s holiday update</a>; and we’ve now had to shrink to focus exclusively on the core projects.  However, we’re optimistic that the tighter focus in the medium term will help us get back to the point where we can resume the longer-term projects - assuming that organisations (and individuals) dependent on Matrix <a href="https://matrix.org/support">sign up to support the project.</a></p>
<h3 id="conclusion">Conclusion</h3>
<p>Despite the downsides of 2023, right now we’re feeling distinctly optimistic: Matrix 2.0 clients like Element X already outperform the best proprietary mainstream options by many metrics - and focusing purely on improving the foundations is only going to improve that. We may not have taken the most direct route to get to where we are today, but it genuinely feels like 2024 will be the year where Matrix overtakes the incumbents.</p>
<p>Talking of which, there’s just one last thing to mention: amidst the economic challenges of 2023, one future-facing core team Matrix project has survived: our work around the EU Digital Markets Act (DMA).  The DMA is leading antitrust legislation from the European Commission, which aims to stop big centralised tech companies (so called ‘gatekeepers’) from carelessly suppressing innovation, competition and consumer choice by trapping users inside their walled gardens.</p>
<p>Needless to say, we’ve been tracking the DMA closely throughout its gestation, and we’re now in the final sprint: in March 2024, messaging services which have been identified as gatekeepers will have to open their networks to allow interoperability with requesting messaging services (while preserving E2EE, if they’re encrypted).  So far, only WhatsApp and Facebook Messenger have been identified as gatekeeper services (Apple is doing everything they can to <a href="https://appleinsider.com/articles/23/12/06/apple-may-yet-prevail-in-eu-imessage-antitrust-investigation">wriggle out of it</a>).  However, it looks like WhatsApp is <a href="https://www.theverge.com/2023/9/10/23866912/whatsapp-cross-platform-messaging-eu-dma-meta">taking it seriously</a>, which could prove very interesting indeed.</p>
<p>As Matrix, we’ve taken a two-pronged approach: on one side, showcasing how Matrix as it stands today can already bridge existing chat systems together as a highest-common-denominator protocol (including preserving E2EE, if they happen to already use the Double Ratchet).  On the other side, we’ve also been contributing significantly to <a href="https://datatracker.ietf.org/group/mimi/about/">MIMI</a>, the IETF Working Group dedicated to standardising a lowest-common-denominator protocol specifically for DMA interoperability.</p>
<p>2023 has involved a lot of work on MIMI, participating in the Design Team alongside Phoenix, Wire, Cisco, Google and Wickr - and at IETF 118 in Prague in November we collectively proposed the first <a href="https://datatracker.ietf.org/doc/html/draft-ralston-mimi-protocol-01">draft of the protocol</a> (see also the <a href="https://datatracker.ietf.org/meeting/118/materials/slides-118-mimi-mimi-architecture-00">architecture presentation</a> for context). MIMI has ended up taking some inspiration from Matrix (and <a href="https://datatracker.ietf.org/doc/draft-ralston-mimi-linearized-matrix/">Linearized Matrix</a>, a simplified dialect we proposed which does away with full-mesh decentralisation), while focusing very tightly on the specific problems of server-to-server interop between existing communication services - leaning on MLS (where available) for synchronising state across the services, while also leaving the door open for using the Double Ratchet to provide an on-ramp for pragmatic bridging to today’s services (including Matrix!).</p>
<p>MIMI’s tight focus means that it doesn’t currently provide conversation history, arbitrary state events, or decentralised conversations - and is focused purely on server-server communication.  However, there’s certainly a world where Matrix could evolve to be compatible with MIMI - such a hypothetical Matrix 3.0 would effectively layer Matrix’s richer existing semantics (decentralised conversations, extensible state events, state resolution, group VoIP etc) on top of MIMI’s subset of functionality.  It’ll be interesting to see how this plays out.  Meanwhile, we’ll continue to provide both Matrix for pragmatic DMA interoperability for today - and participate in MIMI for IETF-track interoperability.</p>
<p>Anyhow: hopefully it’s clear that 2024 is going to be a super interesting year for Matrix - whether that’s simply by nailing Matrix 2.0, or whatever excitements DMA interoperability brings. And if you’re relying on Matrix: <strong><a href="https://matrix.org/support">please donate</a>.</strong></p>
<p>Meanwhile - have a fantastic end of the year; and thanks once again for flying Matrix.</p>
<p>- Matthew, Amandine, Josh &amp; the whole team.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2023&#x2F;09&#x2F;matrix-2-0&#x2F;" title="Matrix 2.0: The Future of Matrix">Matrix 2.0: The Future of Matrix</a></h2>
                <span>
                    21.09.2023 15:30
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><strong><em>TL;DR: If you want to play with a shiny new Matrix 2.0 client, head over to <a href="https://element.io/blog/element-x-ignition/">Element X</a>.</em></strong></p>
<p>Matrix has been going for over 9 years now, providing an open standard for secure, decentralised communication for the open Web - and it’s been quite the journey to get to where we are today.  Right now, according to Synapse’s opt-in usage reporting, in total there are 111,873,374 matrix IDs on the public network, spanning 17,289,201 rooms, spread over 64,256 servers.  This is just scratching the surface, given we estimate that 66% of servers in the public network don’t report stats, and there are many enormous private networks of servers too.  We’ve come a long way from creating Matrix HQ as the first ever room on today’s public network, back on Aug 13th 2014 :)</p>
<p>Meanwhile, the Matrix ecosystem has continued to grow unbelievably - with huge numbers of independent clients, bots and bridges maturing into ecosystems of their own, whole new companies forming around the protocol, and organisations ranging from open source projects to governments, NGOs and Fortune 100 companies adopting Matrix as a way to run their own secure, decentralised, standards-based self-sovereign communication.</p>
<p>The world needs Matrix more than ever.  Every day the importance of decentralisation is more painfully obvious, as we concretely see the terrifying risks of centralised Internet services - whether that’s through corporate takeover, state censorship, blanket surveillance, Internet shutdowns, surveillance capitalism, or the spectre of gigantic centralised data breaches.  It’s been amazing to see the world pivot in favour of decentralisation over the time we’ve been building Matrix, and our mission has never been more important.</p>
<p>On one hand it feels we’re creeping ever closer to that goal of providing the missing communication layer for the open Web.  The European Union’s Digital Markets Act (DMA) is a huge step in that direction - regulation that mandates that if the large centralised messaging providers are to operate in the EU, they <strong>must</strong> interoperate.  We’ve been busy working away to make this a reality, including participating in the IETF for the first time as part of the MIMI working group - demonstrating <a href="https://datatracker.ietf.org/meeting/117/materials/slides-117-mimi-linearized-matrix-for-mimi-01">concretely</a> how (for instance) Android Messages could natively speak Matrix in order to interoperate with other services, while preserving end-to-end encryption.</p>
<p>On the other hand, Matrix has often got stuck in focusing on solving the Hard Problems of decentralisation, decentralised end-to-end encryption, and the logistical complexities of supporting a massive heterogeneous public communication network and its surrounding heterogeneous ecosystem.  It’s fair to say that in the early days our focus was on making something that worked at all - and then later, we shifted to focusing on something that worked and scaled correctly… but we hadn’t managed to focus on ensuring that Matrix provides the building blocks necessary to create blazingly fast, hyper-efficient communication apps which has potential to outperform the centralised mainstream messaging services…</p>
<p><strong>…until now!</strong></p>
<h2 id="matrix-2-0">Matrix 2.0</h2>
<p>Back at FOSDEM <a href="https://archive.fosdem.org/2023/schedule/event/matrix20/">we announced the idea of Matrix 2.0</a> - a series of huge step changes in terms of Matrix’s usability and performance, made up of <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575">Sliding Sync</a> (instant login/launch/sync), <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3861">Native OIDC</a> (industry-standard authentication), <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3401">Native Group VoIP</a> (end-to-end encrypted large-scale voice &amp; video conferencing) and <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3902">Faster Joins</a> (lazy-loading room state when your server joins a room).</p>
<p>Now, we’re excited to announce that as of today everyone can start playing with these Matrix 2.0 features. There’s still some work to bring them formally into the specification, but we’re putting it out there for folks to experience right now. Developers: watch this space for updates on the spec front.</p>
<p>Practically speaking, this means there are now implementations of the four pillars of Matrix 2.0 available today which you can use to power a daily-driver Matrix 2.0 client.  The work here has been driven primarily by <a href="https://element.io">Element</a>, using their new <a href="https://element.io/labs/element-x">Element X</a> client as the test-bed for the new Matrix 2.0 functionality and to prove that the new APIs are informed by real-world usage and can concretely demonstrably create an app which begins to outperform iMessage, WhatsApp and Telegram in terms of usability and performance… all while benefiting from being 100% built on Matrix.</p>
<h3 id="matrix-rust-sdk-and-element-x">matrix-rust-sdk and Element X</h3>
<p style="text-align: center"><a href="https://element.io/blog/element-x-ignition/"><img src="/blog/img/20230921-element-x.png"></a></p>
<p>The mission of Matrix 2.0 has been to provide a huge step forwards in real-world performance, usability and stability - and that means using a real client codebase as a guinea pig to ensure the new protocol is fit for purpose. <a href="https://github.com/matrix-org/matrix-rust-sdk">matrix-rust-sdk</a> has been the main vehicle for this, with <a href="https://element.io/labs/element-x">Element X</a> as the app primarily driving the new features (although other clients built on matrix-rust-sdk such as <a href="https://gitlab.gnome.org/GNOME/fractal#beta-version">Fractal 5</a> can then automatically benefit from the work should they wish).</p>
<p>To see what all the fuss is about, your best bet is probably to head over to the <a href="https://element.io/blog/element-x-ignition/">Element X launch blog post</a> and read all about it!  But from the Matrix perspective, this is a flag day in terms of the existence of a Matrix client which empirically outperforms the mainstream clients both in terms of usability and performance: it shows that Matrix is indeed viable to power communication for billions of users, should we get the chance.</p>
<p>From a client perspective: this has meant implementing Sliding Sync (<a href="https://github.com/matrix-org/matrix-spec-proposals/blob/kegan/sync-v3/proposals/3575-sync.md">MSC3575</a>) in matrix-rust-sdk - and then creating the entirely new <a href="https://matrix-org.github.io/matrix-rust-sdk/matrix_sdk_ui/index.html">matrix-sdk-ui</a> crate in order to expose higher level APIs to help apps efficiently drive their UI, without each app having to keep reinventing the wheel and risking getting it wrong.  The new UI crate gives APIs for efficiently managing a lazy-loaded room list, lazy-loaded room timelines (including edits, reactions, aggregations, redactions etc), and even when the app should show a sync spinner or not.  As a result, the vast majority of the heavy lifting can be handled in matrix-rust-sdk, ensuring that the app layer can focus on UI rather than Matrix guts - and performance improvements (e.g. roomlist caching and timeline caching) can all be handled in one place to the benefit of all clients using the SDK.</p>
<p>This is a huge breakthrough relative to the old days of Matrix where each client would have no choice but burn significant amounts of time hand-carving its own timeline and encryption glue logic (although of course clients are still very welcome to do so if they wish!) - but for those wanting higher-level building blocks, matrix-rust-sdk now provides an excellent basis for experimenting with Matrix 2.0 clients.  It’s worth noting that the library is still evolving <strong>fast</strong>, though, and many APIs are not long-term stable.  Both the Sliding Sync API and the UI crates are still subject to significant change, and while the crypto crate and its underlying <a href="https://github.com/matrix-org/vodozemac">vodozemac</a> E2EE implementation is pretty stable, features such as E2EE Backup are still being added to the top-level matrix-rust-sdk (and thence Element X).</p>
<p>In order to hook matrix-rust-sdk up to Element X, the Element team <a href="https://github.com/mozilla/uniffi-rs/pull/1346">ended</a> <a href="https://github.com/mozilla/uniffi-rs/pull/1292">up</a> <a href="https://github.com/mozilla/uniffi-rs/pull/1259">contributing</a> <a href="https://github.com/mozilla/uniffi-rs/pull/1684">cancellable</a> <a href="https://github.com/mozilla/uniffi-rs/pull/1409">async bindings</a> to <a href="https://mozilla.github.io/uniffi-rs/">uniffi</a>, Mozilla’s language binding generator, so you can now call matrix-rust-sdk directly from Swift, Kotlin and (in theory) other languages, complete with beautifully simple async/await non-blocking semantics.  This looks to be a pretty awesome stack for doing modern cross-platform development - so even if you have a project which isn’t natively in Rust, you should be able to lean on matrix-rust-sdk if you so desire!  We hope that other projects will follow the Rust + Swift/Kotlin pattern for their extreme performance needs :)</p>
<h3 id="sliding-sync">Sliding Sync</h3>
<p>The single biggest change in Matrix 2.0 is the proposal of an entirely new sync API called Sliding Sync (<a href="https://github.com/matrix-org/matrix-spec-proposals/blob/kegan/sync-v3/proposals/3575-sync.md">MSC3575</a>).  The goal of Sliding Sync is to ensure that the application has the option of loading the absolutely bare essential data required to render its visible user interface - ensuring that operations which have historically been horribly slow in Matrix (login and initial sync, launch and incremental sync) are instant, no matter how many rooms the user is in or how large those rooms are.</p>
<p>While matrix-rust-sdk implements both Sync v2 (the current API in Matrix 1.8) as well as Sliding Sync, Element X deliberately only implements Sliding Sync, in order to focus exclusively on getting the fastest UI possible (and generally to exercise the API).  Therefore to use Element X, you need to be running a homeserver with Sliding Sync support, which (for now) means running a <a href="https://github.com/matrix-org/sliding-sync">sliding-sync proxy</a> which bolts Sliding Sync support on to existing homeservers.  You can check out Thib’s <a href="https://www.youtube.com/watch?v=25wkV2ZCSsM">excellent tutorial</a> for how to get up and running (or <a href="https://element.io/server-registration">Element Server Suite</a> provides packages from the Element team)</p>
<p>Now, implementing Sliding Sync in matrix-rust-sdk has been a bit of a journey.  Since we <a href="https://archive.fosdem.org/2023/schedule/event/matrix_clients_as_good_as_youd_expect/">showed off</a> the very first implementation at FOSDEM, two big problems came to light.  For a bit of context: the original design of Sliding Sync was heavily inspired by Discord’s architecture - where the server calculates an ordered list of large numbers of items (your room list, in Matrix’s case); the client says which window into the list it’s currently displaying; and the server sends updates to the client as the view changes.  The user then scrolls around that list, sliding the window up and down, and the server sends the appropriate updates - hence the name Sliding Sync.</p>
<p>Sliding Sync was originally driven by our work on <a href="https://github.com/matrix-org/lb">Low Bandwidth Matrix</a> - as it makes no sense to have a fancy line protocol which can run over a 2400 baud modem… if the first thing the app tries to do is download a 100MB Sync v2 initial-sync response, or for that matter a 10MB incremental-sync response after having been offline for a few days (10MB takes 9 hours to shift over a 2400 baud modem, for those who missed out on the 80s).  Instead, you clearly only want to send the absolute essentials to the client, no matter how big their account is, and that’s what Sliding Sync does.</p>
<p>The first minor flaw in the plan, however, is that the server doesn’t necessarily have all the data it needs to order the room list.  Room ordering depends on what the most recent visible events are in a room, and if the room’s end-to-end encrypted, the server has no way of knowing which events are going to be visible for a given client or not.  It also doesn’t know which rooms have encrypted mentions inside them, and we <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3952#discussion_r1112203279">don’t want to leak mention metadata</a> to the server, or design out keyword mentions.  So, MSC3575 proposed some complicated contortions to let the client tweak the order client-side based on its superior knowledge of the ordering (given most clients would need to sync all the encrypted rooms anyway, in order to index them and search for keyword notifications etc).  Meanwhile, the order might be ‘good enough’ even without those tweaks.</p>
<p>The second minor flaw in the plan was that having implemented Sliding Sync in Element X, it turns out that the user experience on mobile of incrementally loading in room list entries from the server as the user scrolls around the list is simply not good enough, especially on bad connectivity - and the last thing we want to do is to design out support for bad connectivity in Matrix.  Users have been trained on mobile to expect to be able to swipe rapidly through infinite-scrolling lists of tens of thousands of photos in their photo gallery, or tens of thousands of emails in their mail client, without ever seeing a single placeholder, even for a frame.  So if the network roundtrip time to your server is even 100ms, and Sliding Sync is operating infinitely quickly, you’re still going to end up showing a placeholders for a few frames (6 frames, at 60fps, to be precise) if the user starts scrolling rapidly through their room list.  And empirically that doesn’t look great - the 2007-vintage <a href="https://www.amazon.co.uk/Creative-Selection-Ken-Kocienda/dp/1250194466">iOS team</a> have a lot to answer for in terms of setting user expectations!</p>
<p>So, the obvious way to solve both of these problems is simply to pull in more data in the background, to anticipate the user scrolling around.  In fact, it turns out we need to do that anyway, and indeed pull in <em>all</em> the room data so that room-search is instantly responsive; waiting 100ms or more to talk to the server whenever the user tries to search their roomlist is no fun at all, and it transpires that many users navigate their roomlist entirely by search rather than scrolling.  As a result, the sliding sync implementation in matrix-rust-sdk has ended up maintaining an ‘all rooms’ list, which starts off syncing the roomlist details for the most recent N rooms, and then in the background expands to sync all the rest.  At which point we’re not really sliding a window around any more: instead it’s more of a QoSed incremental sync.</p>
<p>So, to cut a long story short: while the current Sliding Sync implementation in matrix-rust-sdk and Element X empirically works very well, it’s ended up being a bit too complicated and we expect some pretty significant simplifications in the near future based on the best practices figured out with clients using it.  Watch this space for updates, although it’s likely that the current form of MSC3575 will prevail in some respect in order to support low-bandwidth environments where roomlist ordering and roomsearch latency is less important than preserving bandwidth.  Critically, we want to figure this out before we encourage folks to implement native server implementations - so for now, we’ll be keeping using the sliding-sync proxy as a way to rapidly experiment with the API as it evolves.</p>
<h3 id="native-matrix-group-voip">Native Matrix Group VoIP</h3>
<p>Another pillar of Matrix 2.0 is that we finally have native Matrix Group VoIP calling (<a href="https://github.com/matrix-org/matrix-spec-proposals/blob/matthew/group-voip/proposals/3401-group-voip.md">MSC3401</a>)!  Much like Sliding Sync has been developed using Element X as a testbed, <a href="https://call.element.io">Element Call</a> has been the guinea pig for getting fully end-to-end-encrypted, scalable group voice/video calling implemented on top of Matrix, building on top of matrix-js-sdk.  And as of today, Element Call finally has it working, complete with end-to-end encryption (and integrated in Element X, for that matter)!</p>
<p><img src="/blog/img/20230921-element-call.png" alt="" /></p>
<p>Much like Sliding Sync, this has also been a bit of a journey.  The <a href="https://element.io/blog/introducing-native-matrix-voip-with-element-call/">original</a> implementations of Element Call strictly followed MSC3401, using full mesh conferencing to effectively have every participant place a call to every other participant - thus decentralising the conference and avoiding the need for a conferencing ‘focus’ server… but limiting the conference to 7 or 8 participants given all the duplication of the sent video required.  In Element Call <a href="https://element.io/blog/element-call-beta-2-encryption-spatial-audio-walkie-talkie-mode-and-more/">Beta 2</a>, end-to-end encryption was enabled; easy, given it’s just a set of 1:1 calls.</p>
<p>Then the real adventure began: to implement a Selective Forwarding Unit (SFU) which can be used to scale up to hundreds of users - or beyond. The unexpected first move came from Sean DuBois, project lead of the awesome <a href="https://pion.ly/">Pion</a> WebRTC stack for Golang - who wrote a proof-of-concept called sfu-to-sfu to demonstrate the viability of decentralised heterogenous cascading SFUs, as detailed in <a href="https://github.com/matrix-org/matrix-spec-proposals/blob/SimonBrandner/msc/sfu/proposals/3898-sfu.md">MSC3898</a>. This would not only let calls on a single focus scale beyond hundreds of users, but also share the conferencing out across all the participating foci, providing the world’s first heterogeneous decentralised video conferencing.  Element took the sfu-to-sfu implementation, hooked it up to Element Call on a branch, and renamed it as <a href="https://github.com/matrix-org/waterfall">waterfall</a>.</p>
<p>However, when Sean first contributed sfu-to-sfu, he mentioned to us that if Matrix is serious about SFUs, we should take a look at <a href="https://livekit.io/">LiveKit</a> - an open source startup not dissimilar to Element who were busy building best-in-class SFUs on top of Pion. And while waterfall worked well as a proof of concept, it became increasingly obvious that there’s a lot of work to be done around tuning congestion control, error correction, implementing end-to-end encryption etc which the LiveKit team had already spent years doing.  So, Element reached out to the LiveKit team, and started experimenting with what it might take to implement a Matrix-capable SFU on top of the LiveKit engine.</p>
<p>The end result was Element Call <a href="https://element.io/blog/element-call-beta-3/">Beta 3</a>, which is an interesting hybrid between MSC3401 and LiveKit’s existing signalling: the high-level signalling of the call (its existence, membership, duration etc) is advertised by Matrix - but the actual WebRTC signalling is handled by LiveKit, providing support for hundreds of users per call.</p>
<p>Finally, today marks the release of Element Call <a href="https://element.io/blog/element-x-ignition/#native-matrix-video-conferencing-with-element-call">Beta 4</a>, which adds back end-to-end encryption via the LiveKit SFU (currently by using a shared static secret, but in the near future will support full Matrix-negotiated end-to-end encryption with sender keys) - and also includes a complete visual refresh.  The next steps here include bringing back support for full mesh as well as SFU, for environments without an SFU, and updating all the MSCs to recognise the hybrid signalling model that reality has converged on when using LiveKit.  Meanwhile, head over to <a href="https://call.element.io">https://call.element.io</a> to give it a go, or read more about it in the <a href="https://element.io/blog/element-x-ignition/">Element X Ignition blog post</a>!</p>
<h3 id="native-open-id-connect">Native Open ID Connect</h3>
<p>Finally, last but not least, we’re proud to announce that the project to replace Matrix’s venerable existing authentication APIs with industry-standard Open ID Connect in Matrix 2.0 has taken a huge leap forwards today, with <a href="https://matrix-org.github.io/matrix-authentication-service">matrix-authentication-service</a> now being available to add Native OIDC support to Synapse, as well as Element X now implementing account registration, login and management via Native OIDC (with legacy support only for login/logout).</p>
<p>This is a critical step forwards in improving the security and maintainability for Matrix’s authentication, and you can read all about it in this <a href="https://matrix.org/blog/2023/09/better-auth/">dedicated post</a>, explaining the rationale for adopting OpenID Connect for all forms of authentication throughout Matrix, and what you need to know about the transition.</p>
<h2 id="conclusion">Conclusion</h2>
<p>There has been an <strong>enormous</strong> amount of work that has gone into Matrix 2.0 so far - whether that’s implementing sliding sync in matrix-rust-sdk and sliding-sync proxy, matrix-authentication-service and all the native OIDC infrastructure on servers and clients, the entirety of Element Call and its underpinning matrix-js-sdk and SFU work, or indeed Faster Joins in Synapse, which shipped back in <a href="https://matrix.org/blog/2023/01/31/synapse-1-76-released/">Jan</a>.</p>
<p>It’s been a pretty stressful sprint to pull it all together, and huge thanks go to everyone who’s contributed - both from the team at Element, but also contributors to other projects like matrix-rust-sdk who have got caught in the crossfire :)  It’s also been amazing seeing the level of support, high quality testing and excellent feedback from the wider community as folks have got excited about the promise of Matrix 2.0.</p>
<p>On the Foundation side, we’d like to thank the <a href="https://matrix.org/blog/2023/06/membership-program/">Members</a> whose financial support has been critical in providing bandwidth to enable the progress on Matrix 2.0 - and for those who want to help accelerate Matrix, especially those commercially building on top of Matrix, please consider <a href="https://matrix.org/membership/">joining the Foundation</a> as a member!  Also, in case you missed it, we’re super excited to <a href="https://matrix.org/blog/2023/09/introducing-josh-simmons-managing-director/">welcome Josh Simmons as Managing Director</a> for the Foundation - focusing on running the Foundation membership programme and generally ensuring the growth of the Foundation funding for the benefit of the whole Matrix community. Matthew and Amandine continue to lead the overall project (alongside their day jobs at Element), with the support of the other three independent Guardians - but Josh is working full time exclusively on running the non-profit foundation and gathering funds to support Matrix.</p>
<p>Talking of funding, we should mention that we’ve had to pause work in other places due to lack of Matrix funding - especially while focusing on successfully shipping Matrix 2.0. Major next-generation projects including <a href="https://thirdroom.io">Third Room</a>, <a href="https://arewep2pyet.com">P2P Matrix</a>, and <a href="https://matrix.org/blog/2021/06/10/low-bandwidth-matrix-an-implementation-guide/">Low Bandwidth Matrix</a> have all been paused unless there’s a major shift in circumstances - so, if you have money and you’re interested in a world where the more experimental next-generation Matrix projects progress with folks working on them as their day job, please <a href="https://matrix.org/membership/">get in touch</a> with the Foundation.</p>
<h2 id="what-s-next">What’s next?</h2>
<p>While this is the first usable release of Matrix 2.0 implementations, there’s loads of work still to be done - obvious work on Matrix 2.0 includes:</p>
<ul>
<li>Getting Native OIDC enabled on matrix.org, and providing migration tools to Native OIDC for existing homeservers in general</li>
<li>Reworking Sliding Sync based on the lessons learned implementing it in matrix-rust-sdk</li>
<li>Actually getting the Matrix 2.0 MSCs stabilised and matured to the point they can be approved and merged into the spec</li>
<li>Adding encrypted backups to matrix-rust-sdk</li>
<li>Reintroducing full-mesh support for Native Matrix Group VoIP calling</li>
<li>Having a big Matrix 2.0 launch party once the spec lands!</li>
</ul>
<p>Outside of Matrix 2.0 work, other big items on the horizon include:</p>
<ul>
<li>Adding Rust matrix-sdk-crypto to matrix-js-sdk, at which point all the official Matrix.org client SDKs will (at last!) be using the same stable performant E2EE implementation</li>
<li>Continuing to contribute Matrix input to the MIMI working group in IETF for Digital Markets Act interoperability</li>
<li>Working on <a href="https://arewemlsyet.com">MLS</a> for next-generation E2EE</li>
<li>Next generation moderation tooling and capabilities</li>
<li>Account Portability and Multihomed accounts</li>
<li>…and much much more.</li>
</ul>
<p>So: welcome to our brave new Matrix 2.0 world. We hope you’re excited about it as we are - and thanks to everyone for continuing to use Matrix and build on it.  Here’s to the beginning of a whole new era!</p>
<p>Matthew, Amandine and the whole Matrix team.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2023&#x2F;09&#x2F;introducing-josh-simmons-managing-director&#x2F;" title="Welcoming Josh Simmons as Managing Director of the Matrix.org Foundation!">Welcoming Josh Simmons as Managing Director of the Matrix.org Foundation!</a></h2>
                <span>
                    05.09.2023 00:00
                    —
                    <a href="/category/foundation">
                        Foundation
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>Today is a big day! As you know, over the last few months we’ve been searching for a <a href="https://opensourcejobs.com/?id=225">Managing Director</a> to join the <a href="https://matrix.org/foundation">Matrix.org Foundation</a> full-time, focused on managing the Foundation’s finances, organising the Foundation’s <a href="https://matrix.org/blog/2023/06/membership-program/">membership programme</a>, helping raise funding to support Foundation work, working with the Guardians to ensure the Foundation stays on mission, and ensuring the Foundation can operate successfully as a fully independent entity.</p>

                <p><a href="/blog/2023/09/introducing-josh-simmons-managing-director/#continue-reading">Continue reading…</a></p>
                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2023&#x2F;07&#x2F;a-giant-leap-with-mls&#x2F;" title="A giant leap forwards for encryption with MLS">A giant leap forwards for encryption with MLS</a></h2>
                <span>
                    18.07.2023 14:00
                    —
                    <a href="/category/encryption">
                        Encryption
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>Given our commitment to open standards and interoperability, we’re delighted to see MLS be ratified by the IETF as <a href="https://www.rfc-editor.org/rfc/rfc9420">RFC9420</a>.</p>
<p>MLS is a new encryption standard defined by the IETF, the standards body that maintains much of what makes the internet work. In the same way that Transport Layer Security (TLS, another IETF standard) defines the way to provide encryption between users and servers, or between two different servers, MLS provides a standard way for users of a messaging service to communicate securely without servers being able to eavesdrop on their conversations.</p>

                <p><a href="/blog/2023/07/a-giant-leap-with-mls/#continue-reading">Continue reading…</a></p>
                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2023&#x2F;07&#x2F;what-happened-with-the-archive&#x2F;" title="What happened with archive.matrix.org">What happened with archive.matrix.org</a></h2>
                <span>
                    04.07.2023 14:24
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>We launched the Matrix Public Archive <a href="https://www.youtube.com/watch?v=ULbvBIwiGEI">publicly on June 2nd, 2023</a>.
We decided to take it down on Sunday, June 25th out of precaution after a
member of OFTC staff warned us that the archive made the content of two OFTC IRC
channels bridged to Matrix available on the Internet.</p>
<p>After investigating the issue, we determined that the Matrix Public Archive's
behaviour was expected for these channels, given an IRC chanop had
<strong>explicitly</strong> configured the Matrix side of the rooms to be world-readable.</p>
<p>Let's talk about how room visibility works in vanilla Matrix, how it works with
bridges, and what are the next steps.</p>

                <p><a href="/blog/2023/07/what-happened-with-the-archive/#continue-reading">Continue reading…</a></p>
                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2023&#x2F;06&#x2F;07&#x2F;introducing-third-room-tp-2-the-creator-update&#x2F;" title="Introducing Third Room TP2: The Creator Update">Introducing Third Room TP2: The Creator Update</a></h2>
                <span>
                    07.06.2023 15:15
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>Back in September 2022 we launched the very <a href="https://matrix.org/blog/2022/09/27/announcing-third-room-tech-preview-1">first public technology preview</a> of <a href="https://thirdroom.io">Third Room</a> - our entirely open source, open standards-based platform for creating decentralised multiparty spatial apps and virtual worlds on top of Matrix.</p>
<p>The mission of Third Room is to ensure that a truly open and equitable platform exists for powering shared 3D environments - providing an alternative to the closed walled gardens of the bigger vendors, and generally safeguard against a repeat of the fragmented dystopia that has plagued instant messaging and VoIP systems.  In short, just as Matrix aims to be the missing secure communication layer of the open Web, Third Room aims to be the spatial collaboration layer.</p>
<p>Today, we’re incredibly excited to announce <strong>Third Room Technology Preview 2: The Creator Update</strong>.  As more and more 3D hardware enters the market, the race is on to provide tools to developers and creators so they can build on an open, vendor-agnostic platform - and in this update we’ve focused on building out the <strong>scripting</strong>, <strong>editing</strong> and <strong>authoring</strong> capabilities of Third Room to provide a solid platform for building and running collaborative 3D apps of any kind. Check out the new release at <a href="https://thirdroom.io">https://thirdroom.io</a>.</p>
<blockquote>
As a reminder: the Third Room team is a tiny band formed by Robert, Nate and Ajay and operates outside of all the rest of our work on Matrix: the other 97% of our effort goes into making the core of Matrix amazing (particularly the underpinnings for Element X and the next generation of Matrix clients). However, Matrix is about more than just chat and VoIP, and Third Room provides an excellent showcase of Matrix’s abilities as a general purpose communication fabric.
</blockquote>

                <p><a href="/blog/2023/06/07/introducing-third-room-tp-2-the-creator-update/#continue-reading">Continue reading…</a></p>
                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2023&#x2F;03&#x2F;15&#x2F;the-dma-stakeholder-workshop-interoperability-between-messaging-services&#x2F;" title="The DMA Stakeholder Workshop: Interoperability between messaging services">The DMA Stakeholder Workshop: Interoperability between messaging services</a></h2>
                <span>
                    15.03.2023 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>A few weeks ago we found ourselves in Brussels to participate in the second <a href="https://competition-policy.ec.europa.eu/dma/dma-workshops_en">stakeholder workshop for the Digital Markets Act (DMA)</a>.</p>
<p>The <a href="https://commission.europa.eu/strategy-and-policy/priorities-2019-2024/europe-fit-digital-age/digital-markets-act-ensuring-fair-and-open-digital-markets_en">DMA</a> is new antitrust/competition regulation from Europe which came into force in November, whose objective is to make digital markets more competitive by forcing gatekeepers (i.e. large tech companies) to reconsider some of their anti-competitive or self-preferencing practices. Gatekeepers are defined as companies which have a clear position of influence in a given market (based on revenue / market cap / number of users thresholds), and “an entrenched and durable position”. The process for designating which companies count as gatekeepers will start in May 2023.</p>
<p>The DMA touches upon different key topics, from self-preferencing behaviour to app store management practices - but most importantly includes interoperability for “number-independent interpersonal communication services” (NIICS), otherwise known as chat and voice/video calling and conferencing services (social media was left out for now).</p>
<p><a href="https://competition-policy.ec.europa.eu/dma/dma-workshops/interoperability-workshop_en">This particular workshop</a> was focused on the latter: interoperability between messaging services, with the aim of getting the different stakeholders of the industry in the same place to discuss how the legislation could be implemented.  The whole idea is to figure out a practical way in which WhatsApp could interoperate with iMessage, Google Messages and others, creating an interoperable communication network where users are no longer locked into communication silos and pick their preferred service provider without compromising on who they can talk to. \</p>
<p>About 900 people participated online, and around 80 people were present in person: the maximum the room could hold. It was particularly fun to see representatives from the whole industry turning up in person, including folks from XMPP, MIMI (the new IETF working group on messaging interoperability), MLS, us from Matrix obviously (alongside Matrix ecosystem representatives from Beeper and NeoChat!) - all together with the Body of European Regulators for Electronic Communications (<a href="https://www.berec.europa.eu/en/berec/what-is-berec">BEREC</a>), civil society representatives (like the Federation of German Consumer Organisations (<a href="https://VZBV.de">VZBV</a>) and European Digital Rights (<a href="https://edri.org">EDRi</a>)), mobile network operators, local network agencies, and obviously some of those who are likely to be designated as gatekeepers, such as Meta, Apple and Google.</p>

                <p><a href="/blog/2023/03/15/the-dma-stakeholder-workshop-interoperability-between-messaging-services/#continue-reading">Continue reading…</a></p>
                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2022&#x2F;12&#x2F;25&#x2F;the-matrix-holiday-update-2022&#x2F;" title="The Matrix Holiday Update 2022">The Matrix Holiday Update 2022</a></h2>
                <span>
                    25.12.2022 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>2022 has been a rollercoaster of a year for Matrix.</p>
<p>On one hand, the network has doubled in size (44.1M to 80.3M visible matrix IDs). The wider world is having a grand awakening to the importance of decentralisation thanks to the situation at Twitter. We’ve seen an amazing number of major new players entering the Matrix ecosystem: <a href="https://macaw.social/@wongmjane/109529583352532543">Reddit appears to be building out new Chat</a> functionality using Matrix; <a href="https://twitter.com/teamspeak/status/1589621116032585728">TeamSpeak announced</a> Matrix-based chat in TS5; <a href="https://meta.discourse.org/t/matrix-protocol-for-chat/210780">Discourse</a> is working on adding Matrix support; <a href="https://www.theregister.com/2022/06/30/thunderbird_102">Thunderbird</a> launched Matrix support; Governments from <a href="https://gouvernement.lu/en/actualites/toutes_actualites/communiques/2022/11-novembre/16-hansen-lancement.html">Luxembourg</a> to <a href="https://delta.mil.gov.ua/wiki/info/">Ukraine</a> have launched their own Matrix-powered chat infrastructure; and hundreds of other organisations ranging from startups to massive private &amp; public sector entities are betting on the protocol. The European Parliament has used Matrix as a proof-point for the viability for communication interoperability between gatekeepers in the <a href="https://matrix.org/blog/2022/03/29/how-do-you-implement-interoperability-in-a-dma-world">Digital Markets Act</a>. <a href="https://matrix.org/blog/2022/02/07/hosting-fosdem-2022-on-matrix">FOSDEM 2022</a> ran smoothly via Matrix with over 23,000 attendees, making it the world's largest open source conference (with 70% of attendees using their own servers!). <a href="https://element.io/blog/dsam-och-esam-forordar-matrix-for-saker-och-federerad-kommunikation-inom-sveriges-offentliga-sektor/">Sweden</a> has published case studies on the benefits of Matrix for messaging interoperability. Meanwhile existing players like Germany’s BWI have expanded their scope to providing Matrix messaging to the <a href="https://element.io/blog/bundesmessenger-is-a-milestone-in-germanys-ground-breaking-vision/">whole German State</a>; Automattic is busy building <a href="https://github.com/Automattic/chatrix">Matrix plugins</a> for Wordpress; Rocket.Chat launched <a href="https://rocket.chat/press-releases/rocket-chat-leverages-matrix-protocol-for-decentralized-and-interoperable-communications">federation via Matrix</a>, Gematik has been busy progressing their <a href="https://www.gematik.de/anwendungen/ti-messenger">TI Messenger</a> initiative for interoperable messaging within Germany’s healthcare industry, and <a href="https://element.io/case-studies/tchap">Tchap</a> in France is continuing to expand.</p>
<p>On the other hand, only a handful of these initiatives have resulted in funding reaching the core Matrix team. <strong>This is directly putting core Matrix development at risk.</strong> We are witnessing a classic tragedy of the commons. We’ve released all the foundational code of Matrix as permissively-licensed open source and got it to the point that anyone can successfully run it at scale themselves. The network is expanding exponentially. But in return, it transpires that the vast majority of these commercial deployments fail to contribute financially to the Matrix Foundation - whether by donating directly or supporting indirectly by working with <a href="https://element.io">Element</a>, who fund the vast majority of core Matrix development today.</p>
<p>In short: folks love the amazing decentralised encrypted comms utopia of Matrix.  But organisations also love that they can use it without having to pay anyone to develop or maintain it. <strong>This is completely unsustainable</strong>, and Element is now <em>literally</em> unable to fund the entirety of the Matrix Foundation on behalf of everyone else - and has had to lay off some of the folks working on the core team as a result.</p>
<p>The only viable solution to this is for organisations building on Matrix to contribute to sharing the costs of maintaining Matrix’s core projects.  We made <a href="https://matrix.org/blog/2022/12/01/funding-matrix-via-the-matrix-org-foundation">a proposal</a> to address this a few weeks ago, which we’ll iterate on further in the new year to find an approach which both empowers the community and encourages organisations to participate.  In the interim, if you are an organisation who’s building on Matrix and you want the project to continue to flourish, <strong>please</strong> mail <a href="mailto:funding@matrix.org">funding@matrix.org</a> to discuss how you can support the foundations that you are depending on.</p>
<p>As a reminder, the work the <a href="https://matrix.org/foundation">Foundation</a> does today for the benefit of the Matrix includes:</p>
<ul>
<li>Publishing the<a href="https://spec.matrix.org"> Matrix Specification</a></li>
<li>Organising the Matrix Spec Core Team, responsible for reviewing and evolving the protocol.</li>
<li>Writing roughly half the Matrix Spec Change <a href="https://spec.matrix.org/proposals">proposals</a>.</li>
<li>Developing <a href="https://github.com/matrix-org/synapse">Synapse</a>, the Python matrix homeserver implementation</li>
<li>Developing <a href="https://github.com/matrix-org/dendrite">Dendrite</a>, the Go homeserver implementation</li>
<li>Developing client SDKs for Web (matrix-js-sdk, matrix-react-sdk), iOS (matrix-ios-sdk), Android (matrix-android-sdk2), Python (matrix-nio)</li>
<li>Developing our next-generation client SDKs (matrix-rust-sdk)</li>
<li>Developing our end-to-end encryption implementations (<a href="https://gitlab.matrix.org/matrix-org/olm">libolm</a> in C/C++ and <a href="https://github.com/matrix-org/vodozemac">vodozemac</a> in Rust)</li>
<li>Developing next-generation end-to-end encryption implementations (<a href="https://arewemlsyet.com">MLS</a>)</li>
<li>Developing and evolving additional core functionality in Matrix, including:
<ul>
<li>Account portability</li>
<li>Faster room joins over federation</li>
<li>Sliding Sync for instant client sync</li>
<li>Threads</li>
<li>Rich Text composer components</li>
<li>Spaces</li>
</ul>
</li>
<li>Developing <a href="https://github.com/matrix-org/matrix-hookshot">open source integrations</a> to other products (GitLab, GitHub, JIRA... )</li>
<li>Developing open source bridges to other platforms (IRC, XMPP, Slack, Discord, Telegram, bifrost…)</li>
<li>Developing <a href="https://arewep2pyet.com">peer-to-peer Matrix</a> implementations, avoiding the need for servers (and associated data/metadata accumulation) entirely</li>
<li>Developing <a href="https://github.com/matrix-org/lb">low-bandwidth Matrix</a> transports</li>
<li>Developing and hosting static Matrix room archives for the wider network (<a href="https://github.com/matrix-org/matrix-static">matrix-static</a> and <a href="https://github.com/matrix-org/matrix-public-archive">matrix-public-archive</a>)</li>
<li>Developing and hosting the <a href="https://matrix.to">matrix.to</a> link redirect service</li>
<li>Developing open source authentication mechanisms and integrations for Matrix (<a href="https://areweoidcyet.com">OIDC</a>)</li>
<li>Developing decentralised Video/VoIP conferencing servers on Matrix (<a href="https://tune-your-chat.github.io/blog/2022/12/25/the-matrix-holiday-update-2022/github.com/matrix-org/waterfall">waterfall</a>)</li>
<li>Developing decentralised Video/VoIP client components on Matrix (<a href="https://github.com/matrix-org/matrix-js-sdk/pull/2553">matrixRTC</a>)</li>
<li>Developing showcase "beyond chat" implementations of Matrix such as <a href="https://thirdroom.io">Third Room</a></li>
<li>Developing moderation tooling and applying it to matrix.org (<a href="https://github.com/matrix-org/mjolnir">mjolnir</a> and much more)</li>
<li>Publishing moderation reputation lists for the benefit of the wider community</li>
<li>Developing integration test suites for Matrix compatibility testing (<a href="https://tune-your-chat.github.io/blog/2022/12/25/the-matrix-holiday-update-2022/github.com/matrix-org/sytest">sytest</a>, <a href="https://github.com/matrix-org/complement">complement</a>, <a href="https://github.com/matrix-org/trafficlight">trafficlight</a>)</li>
<li>Developing a reference push notification server (<a href="https://github.com/matrix-org/sygnal">sygnal</a>)</li>
<li>Developing a reference identity directory server (<a href="https://github.com/matrix-org/sydent">sydent</a>)</li>
<li>Procuring and publishing independent <a href="https://matrix.org/blog/2022/05/16/independent-public-audit-of-vodozemac-a-native-rust-reference-implementation-of-matrix-end-to-end-encryption">public audits</a> of Matrix's encryption and wider stack</li>
<li>Publishing the matrix.org website and blog</li>
<li>Publishing the weekly "Matrix Live" video podcast</li>
<li>Publishing the weekly "This Week In Matrix" news letter</li>
<li>Organising regular meetups (e.g. "Open Tech Will Save Us")</li>
<li>Promoting Matrix at open source conferences</li>
<li>Running the matrix.org homeserver</li>
<li>Moderating the matrix.org project rooms</li>
<li>Running free public bridges to networks such as IRC networks and XMPP.</li>
</ul>
<p>This list is not remotely exhaustive (turns out there are over 240 projects in the matrix.org GitHub org!) but it serves to illustrate the sheer scale of work that the Foundation performs today.  Keeping the core team funded to work on Matrix as our day job is critical for Matrix’s long-term success, and so we <strong>really</strong> hope that organisations depending on Matrix (or passing philanthropists who appreciate Matrix’s value) will drop a line to <a href="mailto:funding@matrix.org">funding@matrix.org</a> and help keep the show on the road.</p>
<h3 id="turbocharging-matrix">Turbocharging Matrix</h3>
<p>Aside from the nightmares of funding open source software, 2022 has very much been a year of building - focusing on implementing a step change in Matrix’s performance and usability: ensuring that the protocol can punch its weight (and more!) against centralised proprietary alternatives. After all, Matrix clients need to be at least as good as the centralised alternatives in order to get widespread uptake.</p>
<p>This work has ended up taking many forms: on the server-side, Synapse sprouted Rust support to accelerate its hot paths, starting with <a href="https://github.com/matrix-org/synapse/pull/13838">push rule evaluation</a>. It’s super exciting to see Synapse performance heading into a new era, building on the foundations of what’s become a very mature and stable homeserver implementation.</p>
<p>Meanwhile work is in the final stages on “<a href="https://github.com/matrix-org/matrix-spec-proposals/blob/rav/proposal/faster_joins/proposals/3902-faster-remote-joins.md">Faster Joins</a>”, finally letting servers rapidly join rooms over federation by synchronising only the minimal subset of state needed to join, rather than proactively synchronising the room’s full current state.  Faster joins became <a href="https://matrix.org/blog/2022/10/18/testing-faster-remote-room-joins">available for testing</a> in Synapse in October, and since then the team has been <a href="https://github.com/matrix-org/synapse/milestone/10">working through</a> making it support workers and addressing the various edge cases and bugs that have shown up during testing.  Current join performance is a roughly 25x speedup on large rooms, although we’re confident that we can improve this even more, and we’re aiming to land it in time for FOSDEM at the beginning of Feb.</p>
<p>On the client-side, the work to transform Matrix client performance has centred around “<a href="https://github.com/matrix-org/matrix-spec-proposals/blob/kegan/sync-v3/proposals/3575-sync.md">Sliding Sync</a>” - our entirely new API for synchronising the minimal data to a client needed for it to render its UI, thus making login, launch and sync instant.  Sliding sync (originally called “sync v3”) has been a long time in the making; the API has gone through countless iterations as we worked away throughout 2022 implementing it in real-life clients, and adding all the extensions (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3884">MSC3884</a>, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3885">MSC3885</a>) needed to get to parity with sync v2.  The wait has been well worth it, though: <a href="https://pr9256--matrix-react-sdk.netlify.app/">support</a> in Element Web is in the final stages of development - and moreover the next-generation Element X mobile clients will only speak Sliding Sync.</p>
<p>Element X itself is shaping up to be a showcase of just how snappy and performant Matrix can be: built on matrix-rust-sdk, it uses native Swift UI on iOS/macOS and Jetpack Compose on Android to couple together the best possible platform-native user experience with the ultimate underlying native-code SDK implementation, backed by sliding sync. The goal is to be at least as snappy as Telegram, iMessage or WhatsApp (we’ve taken to counting the frames in screen recordings to compare things like time-to-launch and time-to-load scrollback).  Element X is currently in late alpha on iOS, and the hope is to enter public beta in time for FOSDEM.  You can see a sneak peek here of the iPad-style layout (running under macOS) though!</p>
<p><img src="/blog/img/2022-12-25-elementx.png" alt="Element X" /></p>
<p>Finally, in terms of usability, there have been leaps and bounds forwards across Matrix - particularly with Element’s mobile UI being <a href="https://element.io/blog/an-unrecognisable-improvement-elements-new-design-is-here/">entirely refreshed</a> by the design team in September as a stepping stone to the forthcoming final Element X design.  Any remaining UX quirks should be flushed out with Element X, but the visuals are already a clear step forwards towards an excellent alternative to the centralised encumbents.</p>
<noscript>Today's Matrix Live: <a href="https://youtube.com/watch?v=kjZCD14qMK0">https://youtube.com/watch?v=kjZCD14qMK0</a></noscript>
<youtube-player video-id="kjZCD14qMK0"></youtube-player>
<h3 id="encryption">Encryption</h3>
<p>We had great plans for E2EE in Matrix this year; starting off in a huge rush to get <a href="https://github.com/matrix-org/vodozemac">vodozemac</a> finished and <a href="https://matrix.org/blog/2022/05/16/independent-public-audit-of-vodozemac-a-native-rust-reference-implementation-of-matrix-end-to-end-encryption">audited</a> as our shiny new native-Rust implementation of Olm/Megolm. The plan was then to integrate vodozemac into matrix-rust-sdk’s crypto crate, and then replace the various old fragmented E2EE implementations across matrix-js-sdk, matrix-ios-sdk, matrix-android-sdk2 and matrix-rust-sdk itself with One True audited implementation - with audits booked with Least Authority to get further assurance around matrix-rust-sdk-crypto, matrix-rust-sdk itself and finally the full stack (Element X + Synapse).</p>
<p>Unfortunately, things went sideways when security researchers from Royal Holloway University London &amp; elsewhere got in touch to explain that they had found some <a href="https://nebuchadnezzar-megolm.github.io/">nasty implementation vulnerabilities</a> in the venerable matrix-js-sdk implementation.  So, we had no choice but to pause “Element R” - the project to converge matrix-{js,ios,android}-sdk on matrix-rust-sdk-crypto, and instead start analysing and addressing the issues across all current shipping Matrix clients in order to resolve them as rapidly as possible.  Ironically, it turned out in the end that only matrix-{js,ios,android}-sdk were affected - all other independent implementations, including matrix-rust-sdk, were okay.  As such, the Element R work would have protected us from these vulnerabilities had it been ready, and failing that it would have let us solve them in a single place.  Instead, Element R ended up getting pushed back for months while we worked through the various issues in triplicate across the legacy SDKs, while also checking all the other client implementations we could find, and dealing with additional issues which the RHUL researchers discovered as they dug deeper.  Eventually we finished the analysis and agreed a <a href="https://matrix.org/blog/2022/09/28/upgrade-now-to-address-encryption-vulns-in-matrix-sdks-and-clients">coordinated disclosure</a> at the end of September.
(EDIT: to be clear, we are very grateful to the security researchers for discovering and disclosing the vulns responsibly to us. The frustration here stems from the irony that if we'd finished the matrix-rust-sdk-crypto rewrite a few months earlier, we'd have mitigated the severe vulns - but instead, the rewrite got pushed back even further. It's obviously our fault though, not the researchers'.)</p>
<p>Since then, work has been split three ways: firstly, Element R work has resumed - and in fact Element R on iOS is pretty much usable as of today, other than needing some work to support E2EE push notifications (which will also be required for Element X). Element R on Android is very close too, and meanwhile Element R on Web decrypted its first event on Dec 19th! We’re hoping to get Element R in production on all platforms by Feb.</p>
<p>Secondly, we’ve been addressing other points raised by the RHUL researchers to ensure that malicious servers cannot add malicious devices or users to conversations, rather than warning as we do today.  This is not a trivial problem to solve, but we’re making progress via <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3917">MSC3917</a> (Cryptographically Constrained Room Membership) and <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3834">MSC3834</a> (Opportunistic user key pinning (TOFU)).  However, this work is effectively blocked on Element R landing first, as there’s no way we’re going to fix this in triplicate on the legacy SDKs.</p>
<p>Thirdly, we’ve been pushing ahead on implementing Decentralised MLS as a next-generation encryption protocol for Matrix to potentially replace Olm and Megolm.  This work was badly disrupted by RHUL mitigations, but we’re making good progress again - you can follow all the details over at <a href="https://arewemlsyet.com">https://arewemlsyet.com</a>.  Matrix over DMLS is currently in alpha, but the aim is to start beta testing Decentralised MLS in 2023.</p>
<p>Finally, we’ve been working hard on completely reworking the overall UX of how E2EE should work in Matrix clients - specifically, requiring users to cross-sign their devices in order to use E2EE, and so end up in a much higher trust world (alongside Trust On First Use). Can’t wait to finally simplify the E2EE UX!</p>
<h3 id="all-new-features">All new features</h3>
<p>It’s not all been performance and stability work this year - there have been some large areas of feature work happening too.</p>
<p>One of the most visible projects has been Threads, which <a href="https://element.io/blog/introducing-threads-in-beta/">launched in beta</a> in April, and subsequently has undergone huge amounts of polish to improve performance, notification semantics, unread behaviour and thread-aware read receipts.  The end result is feeling great now, and threads <a href="https://twitter.com/element_hq/status/1605861000296640512">exited beta</a> in Element Mobile on Dec 20th. Web narrowly missed the window due to a final ‘stuck notification’ bug which is still being tracked down, but will follow shortly afterwards and then threads will be finally out of beta!</p>
<p>Another big project in 2022 has been to create a general purpose Rich Text Editor to provide WYSIWYG (What You See Is What You Get) message composition for Matrix clients.  This has ended up being a very ambitious project to define all the core editing semantics in a shared rust library, with platform-specific bindings to link it into the editing UI available on Web, iOS &amp; Android.  The end result lives at <a href="https://github.com/matrix-org/matrix-rich-text-editor">https://github.com/matrix-org/matrix-rich-text-editor</a> - and you can play with it by enabling it in labs on Element Web/iOS/Android or experiment with the <a href="https://matrix-org.github.io/matrix-rich-text-editor">live demo</a>. The core behaviour is feeling excellent, although predictably some of the fine detail is very fiddly to get right. It’s almost there, though, and thanks to its built-in rust test harness generator(!) we are confident we’ll catch and control all the edge cases, and this should form an incredibly strong platform for all future rich text editing requirements in Matrix (and beyond!).  This work was very kindly sponsored by one of Element’s public sector customers in order to get Element to parity with Teams - thank you!</p>
<p>Location Sharing was another feature which landed in 2022 - powered by <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3488">MSC3488</a> and <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3489">MSC3489</a>, and implemented in matrix-{js,ios,android}-sdk in Element Web/iOS/Android, letting users share static and live locations and view them on an OpenStreetMap compatible map tileserver of their server’s choice. The Live Location Sharing is controversial in that it stores location data in the room history (and as such is hidden behind a labs flag on Element), but should eventually be replaced by <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3672">MSC3672</a> to share locations are custom ephemeral events instead (once custom EDUs land) in the spec.  Around the same time, Polls also went live thanks to <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3381">MSC3381</a> - it’s worth noting that both Location Sharing and Polls are excellent examples of “extensible events” in the wild: ensuring that clients which understand the custom event type will render them appropriately, but letting other clients fall back to showing them as simple timeline events.</p>
<h3 id="open-id-connect">Open ID Connect</h3>
<p>The transition to using Open ID Connect for Matrix authentication has been progressing steadily throughout 2022 - with Third Room being the first OIDC-native Matrix client, closely followed by Element X. <a href="https://github.com/matrix-org/matrix-authentication-service">matrix-authentication-service</a> now exists as a basic OIDC identity provider suitable for being linked into Synapse, and meanwhile Third Room demonstrates how you can integrate Keycloak as a third party IDP (complete with reCAPTCHA and guest access!).  The team also went on a very exciting detour to figure out how to perform login-and-E2EE-setup in a single operation by scanning a QR code (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3906">MSC3906</a>), and how it might integrate into OIDC in future.</p>
<p>Element X looks set to be the showcase for native OIDC in a typical Matrix client going forwards, so watch this space to see how it feels!</p>
<p>You can keep track of the inexorable transition to OIDC over at <a href="https://areweoidcyet.com">https://areweoidcyet.com</a>.</p>
<h3 id="voip">VoIP</h3>
<p>2022 was the year that Matrix finally got native multiparty VoIP.  After launching <a href="https://element.io/blog/introducing-native-matrix-voip-with-element-call/">Element Call Beta 1</a> in March followed by <a href="https://element.io/blog/element-call-beta-2-encryption-spatial-audio-walkie-talkie-mode-and-more/">Beta 2</a> in June, we’ve been busy embedding Element Call as a “matryoshka” widget into Element Web, using it to replace Jitsi in powering video rooms and video calls.  You can read all about this in detail in the <a href="https://matrix.org/blog/2022/08/15/the-matrix-summer-special-2022#native-voip-conferencing">summer blog post</a>.</p>
<p>Meanwhile, lots of progress is underway on <a href="https://github.com/matrix-org/waterfall">Waterfall</a> - the name we picked for the Pion-based decentralised Selective Forwarding Unit (i.e. conferencing focus) contributed by Sean DuBois earlier in the year, including adding simulcast support to support large scale conferences.</p>
<p>There’s only one catch, which is that Element Call is still in (very very late) beta, thanks to a handful of bugs which have been hard to track down, which has in turn kept all the other dependencies (embedded Element Call; video rooms etc) in beta too.  However, we think we’re pretty much there now - which is perfect timing given how Waterfall is coming together, meaning that both stable <em>and</em> scalable native Matrix conferences are on the horizon!</p>
<p>Even better, the plan is for Element X to rely entirely on embedding Element Call for VoIP - so we should be able to jump forwards pretty rapidly to having excellent native multiparty VoIP and video rooms on mobile as well as on Web.  So, once Element Call exits beta, everything should follow.  Just for a change, we’re aiming to get this done by the end of January - but there are a lot of unknown unknowns still flying around, so watch this space…</p>
<h3 id="ietf-mimi">IETF &amp; MIMI</h3>
<p>Another massive new initiative this year has been the process of proposing Matrix to the IETF as a candidate for use in interoperable instant messaging standardisation.  The <a href="https://datatracker.ietf.org/group/mimi/about/">MIMI (More Instant Messaging Interoperability) working group</a> emerged earlier in the year within IETF as an initiative to define how MLS could be used to interoperate between different instant messaging silos - as shortly to be required by the <a href="https://matrix.org/blog/2022/03/29/how-do-you-implement-interoperability-in-a-dma-world">Digital Markets Act</a>.</p>
<p>One of the things that MIMI aims to do is to define a common application layer protocol to exchange messages. At first <a href="https://datatracker.ietf.org/doc/draft-mahy-mimi-content/01/">CPIM was proposed</a> (an ancient message format that looks a lot like email) - and then an <a href="https://datatracker.ietf.org/doc/draft-rosenberg-mimi-msg-format/">entirely new JSON message format</a> proposal emerged which looks somewhat Matrix (but isn’t). At this point it became obvious that we should throw our hat into the ring and encourage MIMI to use Matrix rather than reinvent it, and so we set about proposing Matrix as at least the <a href="https://datatracker.ietf.org/doc/draft-ralston-mimi-matrix-message-format/">message format</a> and <a href="https://datatracker.ietf.org/doc/draft-ralston-mimi-matrix-transport/">message transport layer</a> of the stack. It’s quite surreal to see Matrix starting to fly around as IETF Drafts!</p>
<p>The next step here is to re-express the relevant bits of the current Matrix spec as self-contained IETF Drafts (rather than backreferencing the current spec from the drafts).  The idea is that the normal Matrix spec will continue to evolve much as it always has, but we’ll effectively donate a Long Term Supported dialect of it to IETF which can then evolve according to IETF process and be immortalise as RFCs for use in MIMI.  We’ll then backport those changes into spec.matrix.org in order to avoid fragmentation, while retaining the same ability we have to rapidly iterate and extend Matrix with MSCs.  This work is well under way (taking opportunity to use <a href="https://github.com/matrix-org/matrix-spec-proposals/blob/matthew/msc1767/proposals/1767-extensible-events.md">Extensible Events</a> from the outset!), and we should see explosions of further IETF Drafts emanating from Travis as 2023 progresses.</p>
<h3 id="trust-safety">Trust &amp; Safety</h3>
<p>2022 saw a real uptick in spam and abuse across Matrix, and there have been some valiant attempts to improve our moderation tooling over the course of the year.  Unfortunately it hasn’t come together as rapidly as we might have hoped, however, and we’ve seen several large communities give up on Matrix and move back to Discord thanks in part to needing better anti-abuse mechanisms.</p>
<p>In 2023 we’re resetting our trust &amp; safety work, with Mjolnir dev returning to its original development team, and we’ll be working as tactically as possible to ensure that all communities on Matrix can easily block abuse using whatever mechanisms they need.</p>
<h3 id="p2p-dendrite">P2P &amp; Dendrite</h3>
<p>Meanwhile, Dendrite (our second generation homeserver implementation) development has continued at pace throughout the year. According to sytest we are now at 93% client-server API compliance with 577 out of 620 tests passing, and the server-server API compliance is at 97% with 111 out of 114 tests passing! None of the missing tests are showstoppers, so it’s fair to say that Dendrite is very nearly ready for primetime.</p>
<p>The interesting plot twist is that Dendrite development has ended up increasingly focusing on embedded matrix server use cases - particularly to power Peer-to-Peer Matrix, where clients require a server to be embedded within them.  So while Synapse has ended up increasingly focusing on large-scale deployments, Dendrite has ended up pursuing smaller instances (which is ironic, given originally it was meant to be the other way round!).</p>
<p>P2P Matrix work has been progressing well too - you can follow the blow-by-blow updates over at <a href="https://arewep2pyet.com">https://arewep2pyet.com</a>. After a lot of back and forth evaluating hard-state routing versus soft-state routing in Pinecone, we’ve ended up converging on soft-state routing (which is chattier, but easier to reason about in terms of mitigating attacks). However, the chattiness means that it doesn’t scale as well as one might hope - so we’re now working on a “tiered” approach where separate Pinecone networks can be tiered together into one inter-network, giving us scalability at the expense of being slightly less decentralised. It’s fair to say that the journey here has been pretty frustrating in its twists and turns, and sadly Neil Alexander chose to move on a few months ago. However, Devon has stepped up to fill his shoes as primary Pinecone and P2P wrangler, and is making amazing progress on the remaining work - firstly implementing <a href="https://github.com/matrix-org/dendrite/pull/2917">Store and Forward relaying</a> in Dendrite so that today’s Pinecone networks can exchange messages even if the recipient node is offline.  Next up will be bridging P2P Matrix with today’s Matrix network - and then working on tiering to provide the scalability we need.  The expectation is that today’s serverside Dendrite instances will effectively turn into static pinecone peers, store and forwarding messages on behalf of P2P nodes, and providing tiering between respective pinecone subnets.</p>
<h3 id="hydrogen-chatterbox">Hydrogen &amp; Chatterbox</h3>
<p>Development on Hydrogen as a super-lightweight progressive-web-app Matrix client has also been progressing throughout the year (with a few detours to help out with end-to-end testing via <a href="https://github.com/matrix-org/trafficlight">trafficlight</a> both for the benefit of Hydrogen and other clients).</p>
<p>The biggest change has been Hydrogen sprouting a separate SDK layer, letting the engine be embedded into other webapps in order to add noninvasive Matrix messaging with as minimal a footprint as possible.  This was showcased in Element’s <a href="https://element.io/blog/element-launches-chatterbox/">chatterbox</a> offering in July - providing an open source chatbox which can be trivially embedded into existing sites, and also powers the <a href="https://github.com/Automattic/chatrix">Chatrix</a> wordpress plugin that Automattic is working on.</p>
<p>Hydrogen also added independent support for <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3401">MSC3401</a> multiparty voice/video calling (albeit on a <a href="https://github.com/vector-im/hydrogen-web/pull/705">branch</a>), letting us showcase heterogeneous Element Call &lt;-&gt; Hydrogen group calling and prove MSC3401 as fit for purpose as a true open interoperable call signalling - and in turn Hydrogen SDK, complete with the multiparty voice/video calling, powers the Matrix engine within Third Room - our metaverse-on-Matrix platform.</p>
<p>We’re looking forwards to Hydrogen continuing to reach full feature parity with Element over the next year, and popping up in increasingly unexpected places as everyone’s favourite embedded Matrix client!</p>
<h3 id="third-room">Third Room</h3>
<p>Finally, it’s hard to believe that <a href="https://thirdroom.io">Third Room</a>, our Matrix-based open platform for decentralised realtime spatial collaboration, barely existed at the beginning of the year.  Third Room serves to demonstrate that Matrix is <em>way</em> more than just chat and VoIP, but can power the spatial communication layer of the open web. This has ended up driving forwards a tonne of new capabilities for Matrix - showcasing native OIDC auth; scalable multiparty VoIP in Hydrogen SDK, efficient binary-diffed file storage, and more recently has been defining how to store extensible behaviour for Matrix rooms as WASM objects stored in the Matrix room itself.</p>
<p>Third Room itself is a Hydrogen-based Matrix client, which lets you view Matrix rooms as interactive multiparty 3D environments (using <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3815">MSC3815</a>) - with the world defined as glTF blobs stored in the Matrix room, and the ability to script and customise any aspect of that world using WASM blobs stored in Matrix rooms, which execute on the participating clients, exposing a new scenegraph API called WebSceneGraph in order to manipulate the glTF that makes up the world.  We also expect to see a variant of Matrix’s normal widget API to be exposed to these WASM blobs, introducing the concept of sandboxed clientside widgets, bots or other integrations - letting users customise and extend Matrix without ever having to run serverside bots again.</p>
<p>The intention is to provide a platform which can be used to build <em>any</em> kind of interactive realtime spatial multiparty app in an open standardised, decentralised, end-to-end encrypted way - whether that’s for gaming, social, or professional activity such as building “digital twins” for manufacturing, agriculture, smart cities, search &amp; rescue, etc.  You can read more about the vision at <a href="https://thirdroom.io/preview">thirdroom.io/preview</a>, or via press coverage at <a href="https://thenewstack.io/third-room-teases-user-generated-content-for-the-metaverse/">TheNewStack</a> or <a href="https://www.golem.de/news/third-room-das-open-source-metaverse-von-matrix-2212-170638.html">Golem</a>.  We were also incredibly flattered to be invited to present Third Room at <a href="https://sa2022.siggraph.org/en/presentation/?id=realcur_102&amp;sess=sess143">SIGGRAPH Asia</a> a few weeks ago.  The official recording has yet to emerge, but you can find a <a href="https://twitter.com/o_ob/status/1601442998696677376">cheeky bootleg here</a>.</p>
<p>We launched <a href="https://matrix.org/blog/2022/09/27/announcing-third-room-tech-preview-1">Tech Preview 1 of Third Room</a> at the end of September, and since then all of the work has been around building out WebSceneGraph and the WASM scripting environment - letting users build their own functionality in JS via QuickJS or C (and in future Rust or Zig too).  We’ve also been working on making the networking (via Matrix WebRTC-negotiated data channels) more robust, switching to an ‘authoritative’ simulation model rather than having each client run its own physics simulation, in order to kick the hard problem of decentralised physics simulations down the road a bit further. We’re also adding in a much-needed ‘discover’ page to help users find new rooms and explore everything that’s possible in the platform.  And finally, we’re adding WebXR support so that folks can use ThirdRoom with VR and AR hardware if they so desire. All this should culminate in Tech Preview 2, due in the coming weeks.</p>
<p>If you want a quick sneak preview of the scripting capabilities on the horizon with a <a href="https://matrix.thirdroom.io/_matrix/media/r0/download/thirdroom.io/qFfvHcXNQkjeDjTpdMfPCniY">very basic script</a> stored in the media repository, head over to <a href="https://thirdroom.io/world/#surprise:thirdroom.dev">https://thirdroom.io/world/#surprise:thirdroom.dev</a> and click on the television ;)</p>
<h3 id="conclusion">Conclusion</h3>
<p>So there you have it: it’s been a mixed year for Matrix, but at least the project itself is moving forwards faster than ever, for now. If you look back at the predictions from <a href="https://matrix.org/blog/2021/12/22/the-mega-matrix-holiday-special-2021#2022">last year’s holiday blog post</a> you’ll see that most of them even came true. This year, we’ll keep the predictions simple: our plans for 2023 are to ensure that the Foundation is well funded, ship all of the step-change improvements in performance and usability which are currently in beta as rapidly as possible - and demonstrate for once and for all that Matrix can indeed punch its weight against the proprietary centralised alternatives.</p>
<p>If you can afford it, please consider donating to the Matrix.org Foundation to support our work. The most efficient way to support us is to <a href="https://donorbox.org/keep-matrix-exciting">donate via donorbox</a>. Our Patreon is not going anywhere, so if you wish to keep supporting it there we're happy to count you in our supporters.</p>
<p><a href="https://donorbox.org/keep-matrix-exciting"><img src="/images/donorbox.png" alt="" /></a></p>
<p>Thanks for flying Matrix;</p>
<p>Matthew, Amandine &amp; the whole core team.</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
    </div>
    <span class="page-number">1 / 16</span>
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;author&#x2F;matthew-hodgson&#x2F;page&#x2F;2&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;support">Donate</a>
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org">Shop</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org" rel="me"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;" rel="me"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix" rel="me"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg" rel="me"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w" rel="me"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
            <a href="&#x2F;atom.xml" rel="me"><img src="/assets/rss.svg" alt="RSS"></a>
            
        </div>
    </div>
    <p><a href="/legal/copyright-notice">Copyright Notice</a></p>
</footer>

</body>

</html>
