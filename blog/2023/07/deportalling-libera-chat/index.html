<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />
    
    <meta property="og:url" content="https:&#x2F;&#x2F;tune-your-chat.github.io&#x2F;blog&#x2F;2023&#x2F;07&#x2F;deportalling-libera-chat&#x2F;" />
    
    
    
    
    <meta property="og:title" content="Deportalling from Libera Chat" />
    
    
    
    <meta property="og:description" content="Matrix, the open protocol for secure decentralised communications" />
    <meta name="description" content="Matrix, the open protocol for secure decentralised communications" />
    
    <meta property="og:image" content="https://matrix.org/blog/img/matrix-logo.png" />
    <meta name="twitter:image" content="https://matrix.org/blog/img/matrix-logo.png" />
    
    <title>Matrix.org - Deportalling from Libera Chat</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href=https://tune-your-chat.github.io/style.css?h=0d1a23c06b707a231261 />
    <script async src=https://tune-your-chat.github.io/js/components.js?h=ae3cb894d00e16ef08be></script>
    <script defer data-domain="matrix.org" src="https://plausible.io/js/script.tagged-events.js"></script>


    
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "Deportalling from Libera Chat",
    "datePublished": "2023-07-04T16:00+00:00",
    
    
    "image": [
        "https://matrix.org/blog/img/matrix-logo.png"
    ],
    
    "author": [
    
    {
        "@type": "Person",
        "name": "Neil Johnson",
        "url": "https://tune-your-chat.github.io/authors/neil-johnson"
    }
    
    ]
}
</script>
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="https:&#x2F;&#x2F;spec.matrix.org" class="
            ">
            Spec
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="foundation-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="foundation-submenu-checkbox" class="submenu-title">Foundation <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;foundation&#x2F;about&#x2F;">About Matrix</a>
                    
                    <a href="&#x2F;foundation&#x2F;governing-board-elections&#x2F;">Governing Board Elections 2024</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Docs
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;tune&#x2F;">Tune Your Chat</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;integrations&#x2F;">Integrations</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;support" class="
            ">
            Donate
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<article class="content post with-sidebar">
    <header>
        <h1>Deportalling from Libera Chat</h1>
        <span>
            04.07.2023 16:00
            
            —
            <a href="/category/bridges">Bridges</a>
            
            —
            <a
                href="/author/neil-johnson">Neil Johnson</a>
            
        </span>
        
    </header>
    <div class="post-main">
        <div class="post-content">
            <p>On Monday 3rd July, the Libera.Chat IRC network shared that <a href="https://libera.chat/news/matrix-deportalling">they would no longer accept portalled rooms over the Matrix.org &lt;&gt; Libera.Chat bridge</a>.
This change will come into effect between 25th July and 31st July.</p>
<p>We respect the decision but also recognise that this will be disruptive for
matrix.org users accessing IRC over the bridge.</p>
<p>Practically speaking, if you currently use matrix.org as a bouncer into Libera.Chat this will no longer be possible unless the admin of every room you inhabit is willing
to reconfigure the room for plumbing.</p>
<p>This post explains the situation as seen from the matrix.org side, what it means for matrix.org users and what to do next.</p>
<span id="continue-reading"></span><h2 id="what-is-a-portalled-room-what-is-a-plumbed-room">What is a portalled room, what is a plumbed room?</h2>
<p>Portalled rooms are rooms that already pre-exist on the IRC side of the bridge -
e.g. #example:libera.chat in Matrix is, for now, #example on Libera. It is
possible to join from matrix.org without any configuration needed whatsoever.
Effectively using matrix.org as a ‘bouncer’ for the remote network.</p>
<p>Plumbed rooms are existing Matrix rooms bridged to existing IRC channels. They
require specific configuration and action by the IRC chanop. They can be useful
in cases where multiple protocols bridge into the same room on the Matrix side
though are harder to manage than their portalled counterparts, and have limits
to avoid large (100+ user) preexisting rooms being plumbed together.</p>
<h2 id="what-happened">What happened?</h2>
<p>Bridging two incompatible protocols together is hard and requires constant
attention. It is at once a technical and social challenge.</p>
<p>Over the last 9 years, the IRC bridge has had its share of problems, and we have
worked through fixing them. Though in fairness, not always as rapidly as we
would like. For many years it was essentially just one person leading the
effort, and then in recent times, we added two more people (though the team
covers all bridges and integrations).</p>
<p>We are in constant dialogue with the Libera.Chat team, and we know they have
been frustrated with the experience of working with the bridge.</p>
<p>Recent examples include</p>
<ul>
<li>Latency due to federation delays</li>
<li>Spam from Matrix - open signup spam not being blocked on the bridge, and
Libera having to write their own scanner</li>
<li>Dropped messages following an ambitious refactor of the bridge</li>
</ul>
<p>We have tried to address these problems as they arise, this <a href="https://github.com/matrix-org/matrix-appservice-irc/releases/tag/1.0.0">changelog for the 1.0 release</a>
gives an idea of some recent changes.</p>
<p>More concretely:</p>
<ul>
<li>Persisting connections over a restart</li>
<li>Continually monitoring and scaling the libera.chat homeserver (hosted on EMS)</li>
<li>Automatically disconnecting users banned by matrix.org moderators, by reading
the <a href="https://matrix-org.github.io/matrix-appservice-irc/latest/administrators_guide.html#subscribing-to-moderation-policies">ban list</a>.</li>
<li>Improving test coverage with a new suite of <a href="https://github.com/matrix-org/matrix-appservice-irc/tree/develop/spec/e2e">E2E tests</a>
for the bridge.</li>
</ul>
<p>Fundamentally, progress has been slow due to bandwidth, and we cannot stress
enough that these hurdles are not due to a lack of care or interest, but much
more due to trying to support the bridge on limited resources.</p>
<p>All in all, it adds up to a lot of work on both sides of the bridge, which
places pressure both on the matrix.org side and the Libera Chat side. After
consideration, the folks at Libera decided that it would be better to block
portalled rooms and instead move to an opt-in model where the specific admins
would need to agree to have their room be ‘plumbed’ into Matrix.</p>
<p>As a separate point, we know there have been some concerns about the
archive.matrix.org service. This is unfortunate, not least because we see some
fundamental misunderstandings on what the service is doing and why.
<a href="https://matrix.org/blog/2023/07/what-happened-with-the-archive/">Here is a more detailed post to explain</a>.</p>
<h2 id="so-what-does-this-mean">So what does this mean?</h2>
<p>From August 2023, only plumbed rooms will be possible.  This means that unless
the chanop on the Libera Chat side is open to plumbing the room, then it will not be
possible to talk in the room from Matrix. This will affect the majority of the
~11,000 Matrix users currently using the bridge to communicate on IRC (and the
remaining ~31,000 users left on the IRC side of the bridge).</p>
<p>As a consequence, it will no longer be possible to use matrix.org as a bouncer into
Libera and in order to reach a given room, chanop <em>must</em> specifically configure the
plumbed room. Additionally, some features will stop functioning, like topic
synchronisation or kick propagation from Libera.</p>
<h2 id="what-to-do-next">What to do next?</h2>
<p>If you are a matrix.org user and want to continue to participate in an Libera IRC
community, then you will need to persuade the room IRC chanop to do the
necessary plumbing. Hopefully, they will do that for you, but if not, there
will be no way to reach across the bridge.</p>
<p>We will put together a guide to make the process of converting to a plumbed
room easier.</p>
<p>Further down the line, Libera have floated an idea to implement a channel mode
to let chanops opt-in to portalled bridging. This approach could reduce the
overall burden on the chanop and reduce friction to interoperability.</p>
<h2 id="a-word-on-the-bigger-picture">A word on the bigger picture</h2>
<p>For the most part, this post attempts to lay out the situation practically.
However, we should not ignore the bigger picture. At Matrix, we consider this
situation to be a great sadness. We respect the decision from Libera Chat, but
see this as a lose-lose for the open-source community overall.</p>
<p>This move will partition the two networks. It will stop users from being able to
use matrix.org as an IRC bouncer into Libera. It will make life more irritating for Libera chanops
who will now be hassled by users to enable Matrix bridging for their rooms,
rather than it happening automatically.</p>
<p>It will fragment communities still further between their Matrix room and their
separate IRC room (as well as their Discord and Telegram and Slack etc), unless
the chanop chooses to plumb the two together.</p>
<p>It will represent a blow to the open-source community at large and make it even
harder for contributors to participate in discussions for their projects. Also,
since it means creating new rooms, there will be a discontinuity in room history
with valuable discussion effectively lost.</p>
<p>Perhaps most importantly, it will encourage plumbing, which can cause more
problems than portal bridging. Specifically, the social implications of plumbing
(merging) together two existing communities will always be more more
controversial and awkward than simply joining a Libera IRC channel using matrix.org as a
bouncer. In practice, plumbing gives fewer privileges to the bridge bot, which
makes support for bridged rooms more difficult on both sides.</p>
<p>Fundamentally, we do not want to be bad IRC citizens and acknowledge that the
matrix.org bridge generates more work on the Libera Chat side than native IRC
bouncers. We do consider that extra effort to come with a significant upside:
it’s transparent for users, who can pick the technology they love to join the
conversation.</p>
<p>Likewise, the folks at Libera are keen to stress that this is not necessarily a
permanent change, and that in future, they would be open to reconsidering the
move should the support burden of the bridge reduce.</p>
<p>So that’s it, we’ll be working with the community over the coming month to help with the transition.</p>

            <div class="callout">
                <div class="left-col">
                    <h2>The Foundation needs you</h2>
                </div>
                <div class="right-col">
                    <p>
                        The Matrix.org Foundation is a non-profit and only relies
                        on donations to operate. Its core mission is to maintain
                        the Matrix Specification, but it does much more than that.
                    </p>
                    <p>
                        It maintains the matrix.org homeserver and hosts several
                        bridges for free. It fights for our collective rights to
                        digital privacy and dignity.
                    </p>
                    <a class="call-to-action plausible-event-name=BlogPostCtaSupportUs" href="/support">Support us</a>
                </div>
            </div>
        </div>
        
        <aside>
            <h3>Post Contents</h3>

            <ul style="list-style: none; padding-left: 0px;">
                
                <li>
                    <a href="https://tune-your-chat.github.io/blog/2023/07/deportalling-libera-chat/#what-is-a-portalled-room-what-is-a-plumbed-room">What is a portalled room, what is a plumbed room?</a>
                    
                </li>
                
                <li>
                    <a href="https://tune-your-chat.github.io/blog/2023/07/deportalling-libera-chat/#what-happened">What happened?</a>
                    
                </li>
                
                <li>
                    <a href="https://tune-your-chat.github.io/blog/2023/07/deportalling-libera-chat/#so-what-does-this-mean">So what does this mean?</a>
                    
                </li>
                
                <li>
                    <a href="https://tune-your-chat.github.io/blog/2023/07/deportalling-libera-chat/#what-to-do-next">What to do next?</a>
                    
                </li>
                
                <li>
                    <a href="https://tune-your-chat.github.io/blog/2023/07/deportalling-libera-chat/#a-word-on-the-bigger-picture">A word on the bigger picture</a>
                    
                </li>
                
            </ul>
        </aside>
        
    </div>
</article>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;support">Donate</a>
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org">Shop</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org" rel="me"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;" rel="me"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix" rel="me"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg" rel="me"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w" rel="me"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
            <a href="&#x2F;atom.xml" rel="me"><img src="/assets/rss.svg" alt="RSS"></a>
            
        </div>
    </div>
    <p><a href="/legal/copyright-notice">Copyright Notice</a></p>
</footer>

</body>

</html>
